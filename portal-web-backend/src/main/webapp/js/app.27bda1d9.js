(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,b=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&b.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/portal/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"140e":function(e,t,n){"use strict";n("c2ca")},2469:function(e,t,n){},"47c8":function(e,t,n){},"52a2":function(e,t,n){},"5ef9":function(e,t,n){},"85f4":function(e,t,n){"use strict";n("dc3b")},"92e3":function(e,t,n){"use strict";n("2469")},c2ca:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),s={class:"container"},r=Object(a["f"])("header",null,[Object(a["f"])("h2",null,"Welcome!")],-1),i=Object(a["f"])("footer",null,null,-1);function o(e,t,n,o,c,l){var u=Object(a["z"])("NavbarTop"),d=Object(a["z"])("router-view");return Object(a["s"])(),Object(a["e"])("div",s,[r,Object(a["i"])(u),Object(a["i"])(d),i])}var c=n("1da1"),l=(n("96cf"),n("2ca0"),{class:"navbar navbar-expand-lg navbar-light rounded",style:{"background-color":"#BC8F8F"}}),u={key:0,class:"container-fluid"},d=Object(a["f"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["f"])("span",{class:"navbar-toggler-icon"})],-1),b={id:"navbarSupportedContent",class:"collapse navbar-collapse"},h={class:"navbar-nav me-auto mb-2 mb-lg-0"},m={class:"nav-item"},f=Object(a["h"])("Home"),p={class:"nav-item"},g=Object(a["h"])("Games"),v={key:0,class:"nav-item"},O=Object(a["h"])("Registration"),j={class:"nav-item dropdown"},T=Object(a["f"])("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(a["f"])("i",{class:"bi bi-person-fill"}),Object(a["h"])(" User ")],-1),y={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},w={key:0},k=Object(a["h"])("Show profile"),x={key:1},C=Object(a["h"])("Logout"),S={key:2},B=Object(a["h"])(" Login "),I={class:"nav-item"},L=Object(a["h"])(" Terms and conditions "),N={class:"nav-item"},A=Object(a["h"])(" Feedback "),E={key:1,class:"container-fluid"},M=Object(a["f"])("div",{class:"spinner-border",role:"status"},[Object(a["f"])("span",{class:"sr-only"})],-1),G=[M];function P(e,t,n,s,r,i){var o=Object(a["z"])("router-link");return Object(a["s"])(),Object(a["e"])("nav",l,[e.loading?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",u,[d,Object(a["f"])("div",b,[Object(a["f"])("ul",h,[Object(a["f"])("li",m,[Object(a["i"])(o,{class:"nav-link",to:{name:"Home"}},{default:Object(a["I"])((function(){return[f]})),_:1})]),Object(a["f"])("li",p,[Object(a["i"])(o,{class:"nav-link",to:{name:"Lobby"}},{default:Object(a["I"])((function(){return[g]})),_:1})]),e.authenticated?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("li",v,[Object(a["i"])(o,{class:"nav-link",to:{name:"Registration"}},{default:Object(a["I"])((function(){return[O]})),_:1})])),Object(a["f"])("li",j,[T,Object(a["f"])("ul",y,[e.authenticated?(Object(a["s"])(),Object(a["e"])("li",w,[Object(a["i"])(o,{class:"dropdown-item",to:{name:"User"}},{default:Object(a["I"])((function(){return[k]})),_:1})])):Object(a["d"])("",!0),e.authenticated?(Object(a["s"])(),Object(a["e"])("li",x,[Object(a["i"])(o,{onClick:e.logout,class:"dropdown-item",to:{name:"User"}},{default:Object(a["I"])((function(){return[C]})),_:1},8,["onClick"])])):Object(a["d"])("",!0),e.authenticated?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("li",S,[Object(a["i"])(o,{class:"dropdown-item",to:{name:"User"}},{default:Object(a["I"])((function(){return[B]})),_:1})]))])]),Object(a["f"])("li",I,[Object(a["i"])(o,{class:"nav-link",to:{name:"Info"}},{default:Object(a["I"])((function(){return[L]})),_:1})]),Object(a["f"])("li",N,[Object(a["i"])(o,{class:"nav-link",to:{name:"Feedback"}},{default:Object(a["I"])((function(){return[A]})),_:1})])])])])),e.loading?(Object(a["s"])(),Object(a["e"])("div",E,G)):Object(a["d"])("",!0)])}n("b0c0");var $={data:function(){return{token:null}},computed:{authenticated:function(){var e=this.$store.getters.user;return!(!e||!e.token||e.token.startsWith("null")||e.token.startsWith("Anom:"))},userName:function(){var e;return null===(e=this.$store.getters.user)||void 0===e?void 0:e.name},user:function(){return this.$store.getters.user}},created:function(){},methods:{getToken:function(){var e=this.$store.getters.user;return e?e.token:null},logout:function(){return this.$store.dispatch("logout",this.$store.getters.user)}}},R=Object(a["j"])({name:"NavbarTop",mixins:[$],props:{msg:String},data:function(){return{}},created:function(){},computed:{loading:function(){return this.$store.getters.loadingStatus}},methods:{}}),D=n("6b0d"),V=n.n(D);const _=V()(R,[["render",P]]);var F=_,J=Object(a["j"])({name:"TicTacToe",components:{NavbarTop:F},mixins:[$],data:function(){return{title:""}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user){t.next=7;break}return n=sessionStorage.getItem("userName"),a=sessionStorage.getItem("token"),s={name:n,token:a,webSocket:null},n&&!n.startsWith("Anon")&&{name:n,token:a,webSocket:null},t.next=7,e.$store.dispatch("setUser",s);case 7:case"end":return t.stop()}}),t)})))()},methods:{}});n("d0b4");const U=V()(J,[["render",o]]);var W=U,H={key:0,class:"row"},z={class:"row"},q={class:"col-md-6 offset-md-3 alert alert-info"},X=Object(a["f"])("br",null,null,-1),Y={key:1,class:"row"},K={class:"col m-2"},Q=Object(a["f"])("h3",null,"Login ",-1),Z=Object(a["h"])(" UserName: "),ee=Object(a["f"])("br",null,null,-1),te={key:2,class:"row"},ne={class:"col m-2"},ae=Object(a["h"])(" Password: "),se=["disabled"],re={key:3,class:"row d-inline-flex p-2 alert-danger",role:"alert"};function ie(e,t,n,s,r,i){return Object(a["s"])(),Object(a["e"])(a["a"],null,[e.authenticated?(Object(a["s"])(),Object(a["e"])("div",H,[Object(a["f"])("div",z,[Object(a["f"])("div",q,[Object(a["h"])(" Hi "+Object(a["B"])(e.userName)+" ",1),X])])])):Object(a["d"])("",!0),e.authenticated?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",Y,[Object(a["f"])("div",K,[Q,Object(a["f"])("div",null,[Z,Object(a["J"])(Object(a["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.usrNameTemp=t}),class:"p-3",type:"text"},null,512),[[a["G"],e.usrNameTemp]]),ee])])])),e.authenticated?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",te,[Object(a["f"])("div",ne,[ae,Object(a["J"])(Object(a["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.usrPwTemp=t}),class:"p-3",type:"password"},null,512),[[a["G"],e.usrPwTemp]]),Object(a["f"])("div",null,[Object(a["f"])("button",{onClick:t[2]||(t[2]=function(){return e.login&&e.login.apply(e,arguments)}),disabled:e.isLoginButtonDisabled},"Login",8,se)])])])),e.errorFromLogin?(Object(a["s"])(),Object(a["e"])("div",re," Login error occured! ")):Object(a["d"])("",!0)],64)}n("e9c4"),n("d3b7");var oe=Object(a["j"])({name:"User",mixins:[$],props:{token:String},data:function(){return{loginToken:null,usrNameTemp:null,usrPwTemp:null,loginError:null,loginRequestOnTheFly:!1}},computed:{isLoginButtonDisabled:function(){return!!this.loginRequestOnTheFly||(!this.usrNameTemp||!this.usrPwTemp||(this.usrNameTemp.length<1||this.usrPwTemp.length<1))},errorFromLogin:function(){return null!=this.loginError}},created:function(){},methods:{login:function(){var e=this;this.logout().then((function(){e.loginError=null,e.loginRequestOnTheFly=!0;var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify({userName:e.usrNameTemp,password:e.usrPwTemp})},n="http://35.217.7.146/portal/api/user/login";e.$store.dispatch("setLoadingStatus",!0),fetch(n,t).then((function(t){return e.resetLoginData(),200!==t.status?Promise.reject("error in login"):t.json()})).then((function(t){var n={name:t.name,token:t.activeLoginId};e.$store.dispatch("setUser",n)}),(function(){e.loginError=!0})).finally((function(){e.loginRequestOnTheFly=!1,e.$store.dispatch("setLoadingStatus",!1)}))}))},resetLoginData:function(){this.usrName=null,this.pw=null}}});const ce=V()(oe,[["render",ie]]);var le=ce,ue=function(e){return Object(a["v"])("data-v-2676133c"),e=e(),Object(a["t"])(),e},de={class:"row mt-3"},be={class:"col-xs-12 col-sm-4 mt-3 mt-md-0 pt-3"},he=ue((function(){return Object(a["f"])("span",{class:"fw-bold"}," Players ",-1)})),me={class:"list-group"},fe={class:"float-start"},pe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},ge=ue((function(){return Object(a["f"])("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"},null,-1)})),ve=[ge],Oe={class:"col-xs-12 col-sm-4 mt-3 mt-md-0"},je={class:"row"},Te={class:"col-xs-6"},ye=ue((function(){return Object(a["f"])("span",{class:"fw-bold"}," Tables ",-1)})),we={class:"float-end"},ke={key:0,type:"button",class:"btn btn-primary w-30 float-start","data-bs-toggle":"modal","data-bs-target":"#createTableModal"},xe={class:"row"},Ce={key:0,class:"table"},Se=ue((function(){return Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",{scope:"col"},"Type"),Object(a["f"])("th",{scope:"col"},"Playing"),Object(a["f"])("th",{scope:"col"},"Size"),Object(a["f"])("th",{scope:"col"},"Action")])],-1)})),Be={key:0,scope:"row"},Ie={key:1,scope:"row"},Le={key:0},Ne=["disabled","onClick"],Ae=["onClick"],Ee={key:1,class:"col fw-bold"},Me=ue((function(){return Object(a["f"])("span",{class:"float-start"}," No tables at the moment. ",-1)})),Ge=[Me],Pe={class:"modal fade",id:"createTableModal",tabindex:"-1","aria-labelledby":"createTableModalLabel","aria-hidden":"true"},$e={class:"modal-dialog"},Re={class:"modal-content"},De=ue((function(){return Object(a["f"])("div",{class:"modal-header"},[Object(a["f"])("h5",{class:"modal-title",id:"createTableModalLabel"},"Create table"),Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),Ve={class:"modal-body"},_e={class:"btn-group",role:"group","aria-label":"Select game",id:"select-game"},Fe=ue((function(){return Object(a["f"])("label",{class:"form-label ms-1",for:"tictactoe"},"TicTacToe",-1)})),Je=ue((function(){return Object(a["f"])("label",{class:"form-label ms-1",for:"connect4"},"Connect 4",-1)})),Ue={class:"mb-3",id:"v-model-select-dynamic"},We={value:0,key:0},He=["value"],ze={class:"mb-3",id:"computer_selection"},qe=ue((function(){return Object(a["f"])("label",{class:"form-check-label",for:"computerSelection"},"Play against computer",-1)})),Xe={class:"modal-footer"},Ye=ue((function(){return Object(a["f"])("button",{type:"button",class:"btn btn-secondary float-start","data-bs-dismiss":"modal"},"Close",-1)})),Ke=["disabled"];function Qe(e,t,n,s,r,i){return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",de,[Object(a["f"])("div",be,[he,Object(a["f"])("ul",me,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(e.users,(function(t,n){return Object(a["s"])(),Object(a["e"])("li",{key:t.name,class:Object(a["o"])(["list-group-item",[n%2==0?"bg-success p-2 text-dark bg-opacity-25":"bg-success p-2 text-dark bg-opacity-10"]])},[Object(a["f"])("div",fe,[Object(a["h"])(Object(a["B"])(t.name)+" ",1),t.name===e.userName?(Object(a["s"])(),Object(a["e"])("svg",pe,ve)):Object(a["d"])("",!0)])],2)})),128))])]),Object(a["f"])("div",Oe,[Object(a["f"])("div",je,[Object(a["f"])("div",Te,[ye,Object(a["f"])("span",we,[e.hasCreatedTable?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("button",ke," Create table ")),e.isRemoveTableButtonVisible?(Object(a["s"])(),Object(a["e"])("button",{key:1,onClick:t[0]||(t[0]=function(t){return e.removeTable()}),type:"button",class:"btn btn-primary bg-danger w-30 float-start"}," Remove table ")):Object(a["d"])("",!0)])])]),Object(a["f"])("div",xe,[e.tablesExist?(Object(a["s"])(),Object(a["e"])("table",Ce,[Se,Object(a["f"])("tbody",null,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(e.tables,(function(t,n){var s;return Object(a["s"])(),Object(a["e"])("tr",{key:t.id},[t.gameMode.id<20?(Object(a["s"])(),Object(a["e"])("td",Be," X.O ")):t.gameMode.id>=20?(Object(a["s"])(),Object(a["e"])("td",Ie," 4x ")):Object(a["d"])("",!0),Object(a["f"])("td",null,Object(a["B"])(t.playerA.name)+" - "+Object(a["B"])(null===(s=t.playerB)||void 0===s?void 0:s.name),1),Object(a["f"])("td",null,Object(a["B"])(t.gameMode.x)+" x "+Object(a["B"])(t.gameMode.y),1),Object(a["f"])("td",null,[e.hasCreatedTable?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("section",Le,[e.playButtonVisible(t)?(Object(a["s"])(),Object(a["e"])("button",{key:0,disabled:!e.createTableButtonVisible,onClick:function(n){return e.play(t)},type:"button",class:"btn btn-primary w-30 float-start"}," Play ",8,Ne)):Object(a["d"])("",!0),t.playerA&&t.playerB?(Object(a["s"])(),Object(a["e"])("button",{key:1,onClick:function(n){return e.watchTable(t)},type:"button",class:"btn btn-primary w-30 float-end"}," Watch ",8,Ae)):Object(a["d"])("",!0)]))])])})),128))])])):(Object(a["s"])(),Object(a["e"])("div",Ee,Ge))])])]),Object(a["f"])("div",Pe,[Object(a["f"])("div",$e,[Object(a["f"])("div",Re,[De,Object(a["f"])("div",Ve,[Object(a["f"])("form",null,[Object(a["f"])("div",_e,[Object(a["J"])(Object(a["f"])("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedGame=t}),value:"1",onChange:t[2]||(t[2]=function(){return e.changeSelectedGame&&e.changeSelectedGame.apply(e,arguments)}),id:"tictactoe",name:"tictactoe",class:"btn"},null,544),[[a["E"],e.selectedGame]]),Fe,Object(a["J"])(Object(a["f"])("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedGame=t}),value:"2",onChange:t[4]||(t[4]=function(){return e.changeSelectedGame&&e.changeSelectedGame.apply(e,arguments)}),id:"connect4",name:"connect4",class:"btn ms-2 pt-1"},null,544),[[a["E"],e.selectedGame]]),Je]),Object(a["f"])("div",Ue,[Object(a["J"])(Object(a["f"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedGameMode=t})},[(Object(a["s"])(),Object(a["e"])("option",We," Select board size ")),(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(e.gameModes,(function(e){return Object(a["s"])(),Object(a["e"])("option",{value:e.id,key:e.id},Object(a["B"])(e.name)+" connect "+Object(a["B"])(e.requiredConnections),9,He)})),128))],512),[[a["F"],e.selectedGameMode]])]),Object(a["f"])("div",ze,[Object(a["J"])(Object(a["f"])("input",{class:"form-check-input mr-2",type:"checkbox",id:"computerSelection",onChange:t[6]||(t[6]=function(){return e.computerSelectionOnChanged&&e.computerSelectionOnChanged.apply(e,arguments)}),"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.playAgainstComputerChecked=t})},null,544),[[a["D"],e.playAgainstComputerChecked]]),qe])])]),Object(a["f"])("div",Xe,[Ye,Object(a["f"])("button",{disabled:e.modalCreateTableDisabled,onClick:t[8]||(t[8]=function(){return e.createTable&&e.createTable.apply(e,arguments)}),type:"button","data-bs-dismiss":"modal",class:"btn btn-primary"}," Create table ",8,Ke)])])])])],64)}var Ze,et;n("4de4"),n("99af"),n("25f0");(function(e){e["O"]="O",e["X"]="X"})(Ze||(Ze={})),function(e){e["GAME"]="G",e["RESIGNITION"]="R"}(et||(et={}));var tt=Object(a["j"])({name:"Lobby",mixins:[$],data:function(){return{createTableButtonVisible:!0,watchTableButtonDisabled:!1,removeTableButtonVisible:!1,selectedGame:"1",selectedGameMode:"0",playAgainstComputerChecked:!1,computerLevel:"0"}},computed:{users:function(){return this.$store.getters.users},tables:function(){return this.$store.getters.tables},gameModes:function(){return"1"===this.selectedGame?this.$store.getters.gameModes.filter((function(e){return 1===e.gameId})):this.$store.getters.gameModes.filter((function(e){return 2===e.gameId}))},modalCreateTableDisabled:function(){return"0"===this.selectedGameMode},tablesExist:function(){return this.$store.getters.tables.length>0},hasCreatedTable:function(){var e=this.$store.getters.tables[0];return!(!e||!e.playerA)&&e.playerA.name===this.userName},isRemoveTableButtonVisible:function(){var e=this.$store.getters.tables[0];return!(!e||!e.playerA)&&e.playerA.name===this.userName}},created:function(){this.user&&!this.user.webSocket&&this.connect(this.user.token)},methods:{connect:function(e){var t=this,n=new WebSocket("ws://35.217.7.146:80/games/ws");n.onopen=function(e){var a="LOGIN",s={title:a,message:t.user.token},r=(JSON.stringify(s),JSON.stringify(s));n.send(r)},n.onmessage=function(e){var a=JSON.parse(e.data);switch(a.title){case"LOGIN":var s={name:a.to,token:a.token,webSocket:n};t.$store.dispatch("setUser",s).then((function(){t.$store.dispatch("setUsers",a.players),t.$store.dispatch("setGameModes",a.gameModes),t.$store.dispatch("setTables",a.tables)}));break;case"CREATE_TABLE":t.$store.dispatch("addTable",a.table),a.table.playerA.name===t.userName&&(t.createTableButtonVisible=!1,t.removeTableButtonVisible=!0);break;case"REMOVE_PLAYER":t.$store.dispatch("leaveTable",a.who.name).then((function(){t.$store.dispatch("removePlayer",a.who),a.table&&t.$store.dispatch("removeTable",a.table)}));break;case"REMOVE_TABLE":t.$store.dispatch("removeTable",a.table);var r=a.table;r.playerA&&r.playerA.name===t.userName&&(t.createTableButtonVisible=!0,t.removeTableButtonVisible=!1);break;case"NEW_PLAYER":t.$store.dispatch("addPlayer",a.who);break;case"START_GAME":t.$store.dispatch("startGame",a.table);var i=a.table;i.playerA.name!==t.userName&&i.playerB.name!==t.userName||(i.playerA.wins=0,i.playerB.wins=0,t.createTableButtonVisible=!1,t.removeTableButtonVisible=!1,t.watchTableButtonVisible=!1,t.$store.dispatch("selectTable",a.table).then((function(){2!==i.gameMode.gameId?t.$router.push({name:"Table",id:a.table.id}):t.$router.push({name:"TableConnectFour",id:a.table.id})})));break;case"MOVE":var o={x:a.x,y:a.y,coordinates:a.x.toString().concat(a.y.toString()),token:a.token};t.$store.dispatch("move",o),t.$store.dispatch("changeTurn",a.table.playerInTurn);break;case"WATCH":t.$router.push({name:"Table",params:{watch:"1"}}),t.$store.dispatch("selectTable",a.table).then((function(){2!==a.table.gameMode.gameId?t.$router.push({name:"Table",id:a.table.id,params:{watch:"1"}}):t.$router.push({name:"TableConnectFour",id:a.table.id,params:{watch:"1"}})}));break;case"ADD_WATCHER":t.$store.dispatch("addWatcher",a.who).then((function(){}));break;case"CHAT":var c={text:a.message,from:a.from};if("COMMON"===a.to)return void t.$store.dispatch("updateCommonChat",c);t.$store.dispatch("chat",c);break;case"REMATCH":t.$store.dispatch("rematch",a.table).then((function(){}));break;case"LEAVE_TABLE":t.$store.dispatch("leaveTable",a.who.name);break;case"GAME_END":var l={x:a.x,y:a.y,coordinates:a.x.toString().concat(a.y.toString()),token:a.token};if(t.$store.dispatch("move",l),a.win.draw){var u={table:a.table,win:a.win};t.$store.dispatch("setDraw",u)}else{var d={winner:a.win.player.name,reason:et.GAME,winsA:a.table.playerA.wins,winsB:a.table.playerB.wins,from:"System"};t.$store.dispatch("updateScore",d);var b={fromX:a.win.fromX,fromY:a.win.fromY,toX:a.win.toX,toY:a.win.toY,winner:{name:a.win.player.name}};t.$store.dispatch("updateWinner",b)}break;case"WINNER":var h={winner:a.who.name,reason:a.reason,winsA:a.table.playerA.wins,winsB:a.table.playerB.wins,from:a.from};t.$store.dispatch("updateScore",h);var m="R"===a.message?et.RESIGNITION:et.GAME,f=a.who.name.concat(m===et.RESIGNITION?" won by resignation":" won"),p={from:a.from,text:f};t.$store.dispatch("chat",p);break}},n.onerror=function(e){},n.onclose=function(e){t.user&&(t.user.webSocket=null)}},createTable:function(){var e={title:"CREATE_TABLE",message:this.selectedGameMode,computer:this.playAgainstComputerChecked};this.user.webSocket.send(JSON.stringify(e)),this.computerLevel=null,this.playAgainstComputerChecked=!1},computerSelectionOnChanged:function(){this.playAgainstComputerChecked||(this.computerLevel="0")},changeSelectedGame:function(e){this.selectedGameMode="0"},removeTable:function(){var e={title:"REMOVE_TABLE",message:""};this.user.webSocket.send(JSON.stringify(e))},play:function(e){var t={title:"JOIN_TABLE",message:e.id};this.user.webSocket.send(JSON.stringify(t))},playButtonVisible:function(e){return!e.playerA||!e.playerB},isOwnTable:function(e){var t;return(null===e||void 0===e||null===(t=e.playerA)||void 0===t?void 0:t.name)===this.userName},watchTable:function(e){var t={title:"WATCH",message:e.id};this.user.webSocket.send(JSON.stringify(t))}}});n("85f4");const nt=V()(tt,[["render",Qe],["__scopeId","data-v-2676133c"]]);var at=nt,st=Object(a["g"])('<div class="row" data-v-0d82d5fb><div class="col fw-bold" data-v-0d82d5fb> Hi! </div></div><div class="row mt-4" data-v-0d82d5fb><div class="col question" data-v-0d82d5fb> Play anonymous <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 25 25" data-v-0d82d5fb><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" data-v-0d82d5fb></path></svg></div><div class="col" data-v-0d82d5fb><p class="text-start" data-v-0d82d5fb> 1. Click play on the top navigation bar <br data-v-0d82d5fb> 2. Join table <br data-v-0d82d5fb> 3. Or create your own table with selected options <br data-v-0d82d5fb> 4. Invite your friend to play or wait for random player </p></div></div><div class="row" data-v-0d82d5fb><div class="col question" data-v-0d82d5fb> Play with nickname <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 25 25" data-v-0d82d5fb><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" data-v-0d82d5fb></path></svg></div><div class="col" data-v-0d82d5fb><p class="text-start" data-v-0d82d5fb> 1. Navigate to nickname registration page <br data-v-0d82d5fb> 2. Type nickname and password <br data-v-0d82d5fb> 3. After registration, login and click play <br data-v-0d82d5fb></p></div></div>',3);function rt(e,t,n,a,s,r){return st}var it=Object(a["j"])({name:"Home",methods:{toMainPage:function(){this.$router.push("/")}},created:function(){}});n("92e3");const ot=V()(it,[["render",rt],["__scopeId","data-v-0d82d5fb"]]);var ct=ot,lt=function(e){return Object(a["v"])("data-v-1580b67c"),e=e(),Object(a["t"])(),e},ut={class:"row"},dt={class:"col"},bt=["disabled"],ht={class:"row"},mt={class:"col-xs-12 col-sm-4"},ft=lt((function(){return Object(a["f"])("br",null,null,-1)})),pt=lt((function(){return Object(a["f"])("label",{class:"form-check-label ms-1",for:"highlight"},"Highlight last",-1)})),gt=lt((function(){return Object(a["f"])("br",null,null,-1)})),vt=lt((function(){return Object(a["f"])("label",{class:"form-check-label ms-1",for:"soundOn"},"Notification sound",-1)})),Ot=lt((function(){return Object(a["f"])("br",null,null,-1)})),jt={class:"text-primary"},Tt=lt((function(){return Object(a["f"])("br",null,null,-1)})),yt=Object(a["h"])(" vs. "),wt=lt((function(){return Object(a["f"])("br",null,null,-1)})),kt={class:"text-primary"},xt={key:2,class:"text-success"},Ct={key:3,class:"text-success"},St={key:4,class:"text-danger"},Bt={class:"text-danger"},It={class:"col-xs-12 col-sm-8"};function Lt(e,t,n,s,r,i){var o,c,l,u,d,b,h,m,f,p,g,v,O,j,T,y,w,k,x,C,S,B,I,L,N,A,E=Object(a["z"])("chat");return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",ut,[Object(a["f"])("div",dt,[e.resignButtonVisible?(Object(a["s"])(),Object(a["e"])("button",{key:0,disabled:e.resignButtonDisabled,onClick:t[0]||(t[0]=function(){return e.resign&&e.resign.apply(e,arguments)}),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Resign ",8,bt)):Object(a["d"])("",!0),e.rematchButtonEnabled?(Object(a["s"])(),Object(a["e"])("button",{key:1,onClick:t[1]||(t[1]=function(){return e.rematch&&e.rematch.apply(e,arguments)}),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Rematch ")):Object(a["d"])("",!0)])]),Object(a["f"])("div",ht,[Object(a["f"])("div",mt,[Object(a["h"])(" Connect "+Object(a["B"])(e.theTable.gameMode.requiredConnections)+" to win ",1),ft,Object(a["J"])(Object(a["f"])("input",{class:"form-check-input",type:"checkbox",id:"highlight",onChange:t[2]||(t[2]=function(){return e.highlightLastSquareIfSelected&&e.highlightLastSquareIfSelected.apply(e,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.showLastVal=t})},null,544),[[a["D"],e.showLastVal]]),pt,gt,Object(a["J"])(Object(a["f"])("input",{class:"form-check-input",type:"checkbox",id:"soundOn","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.soundOn=t})},null,512),[[a["D"],e.soundOn]]),vt,Ot,e.theTable.playerA?(Object(a["s"])(),Object(a["e"])("span",{key:0,class:Object(a["o"])(["fw-bold",{"text-success":(null===(o=e.theTable.playerInTurn)||void 0===o?void 0:o.name)===(null===(c=e.theTable)||void 0===c||null===(l=c.playerA)||void 0===l?void 0:l.name)}])},Object(a["B"])(null===(u=e.theTable)||void 0===u||null===(d=u.playerA)||void 0===d?void 0:d.gameToken)+" = "+Object(a["B"])(null===(b=e.theTable)||void 0===b||null===(h=b.playerA)||void 0===h?void 0:h.name),3)):Object(a["d"])("",!0),Object(a["f"])("span",jt," [ w:"+Object(a["B"])(null===(m=e.theTable)||void 0===m||null===(f=m.playerA)||void 0===f?void 0:f.wins)+" , d:"+Object(a["B"])(null===(p=e.theTable)||void 0===p||null===(g=p.playerA)||void 0===g?void 0:g.draws)+" ] ",1),Tt,yt,wt,e.theTable.playerB?(Object(a["s"])(),Object(a["e"])("span",{key:1,class:Object(a["o"])(["fw-bold",{"text-success":(null===(v=e.theTable.playerInTurn)||void 0===v?void 0:v.name)===(null===(O=e.theTable)||void 0===O||null===(j=O.playerB)||void 0===j?void 0:j.name)}])},Object(a["B"])(null===(T=e.theTable)||void 0===T||null===(y=T.playerB)||void 0===y?void 0:y.gameToken)+" = "+Object(a["B"])(null===(w=e.theTable)||void 0===w||null===(k=w.playerB)||void 0===k?void 0:k.name),3)):Object(a["d"])("",!0),Object(a["f"])("span",kt," [ w:"+Object(a["B"])(null===(x=e.theTable)||void 0===x||null===(C=x.playerB)||void 0===C?void 0:C.wins)+" , d:"+Object(a["B"])(null===(S=e.theTable)||void 0===S||null===(B=S.playerB)||void 0===B?void 0:B.draws)+" ] ",1),(null===(I=e.theTable.playerInTurn)||void 0===I?void 0:I.name)===e.userName?(Object(a["s"])(),Object(a["e"])("span",xt," It's your turn. ")):null===(null===(L=e.theTable)||void 0===L?void 0:L.playerInTurn)?(Object(a["s"])(),Object(a["e"])("span",Ct," Game ended ")):(Object(a["s"])(),Object(a["e"])("div",St," In turn: "+Object(a["B"])(null===(N=e.theTable.playerInTurn)||void 0===N?void 0:N.name),1)),Object(a["f"])("div",{class:Object(a["o"])({hidden:(null===(A=e.theTable.playerInTurn)||void 0===A?void 0:A.name)!==e.userName})},[Object(a["f"])("span",Bt," Time left "+Object(a["B"])(e.timeLeft),1)],2)]),Object(a["f"])("div",It,[Object(a["f"])("canvas",{class:Object(a["o"])({"bg-secondary":null==e.theTable.playerInTurn}),id:"canvas"},null,2)])]),Object(a["i"])(E,{id:e.theTable.id},null,8,["id"])],64)}n("159b"),n("7db0");var Nt={class:"row"},At={class:"col overflow-auto",style:{"max-height":"500px !important"}};function Et(e,t,n,s,r,i){return Object(a["s"])(),Object(a["e"])("div",Nt,[Object(a["f"])("div",At,[Object(a["f"])("ul",null,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(e.messagesd,(function(e,t){return Object(a["s"])(),Object(a["e"])("li",{key:t,class:Object(a["o"])(["list-group-item rounded-pill text-start w-75 text-break mb-1",[t%2==0?"bg-success p-2 text-dark bg-opacity-25":"bg-success p-2 text-dark bg-opacity-10"]])},"  "+Object(a["B"])(e.from)+":  "+Object(a["B"])(e.text),3)})),128))])])])}n("498a");var Mt=Object(a["j"])({name:"Chat",mixins:[$],props:["id","common"],data:function(){return{messages:null,users:null,message:{text:""}}},computed:{messageExist:function(){return this.message.text.length>0},messagesd:function(){return this.common?this.$store.getters.commonChatMessages:this.$store.getters.chatMessages}},created:function(){},methods:{sendMessage:function(){var e=this.message.text.trim();if(e.length<1||e.length>75)this.message.text="";else{var t=this.common?"COMMON":this.id,n={title:"CHAT",message:e,to:t};this.user.webSocket.send(JSON.stringify(n)),this.message.text=""}}}});const Gt=V()(Mt,[["render",Et]]);var Pt=Gt,$t=Object(a["j"])({components:{Chat:Pt},name:"Table",mixins:[$],props:["watch"],data:function(){return{horizontalGap:null,verticalGap:null,canvas:null,renderingContext:null,showLastVal:!1,soundOn:!1,secondsLeft:120}},created:function(){var e,t=this;this.unsubscribe=this.$store.subscribe((function(e,n){if("move"===e.type){n.theTable.board;t.removeLastSquareHighLightning(),t.drawToken(t.theTable.board[t.theTable.board.length-1]),t.playMoveNotification(),t.highlightLastSquareIfSelected()}else if("changeTurn"===e.type)n.theTable.playerInTurn.name===t.userName?(t.addMouseListener(),t.startReducer()):(t.removeMouseListener(),t.stopReducer());else if("rematch"===e.type)t.initBoard();else if("updateWinner"===e.type){var a=n.theTable.win;t.stopReducer(),t.drawWinningLine(a)}})),(null===(e=this.theTable.playerInTurn)||void 0===e?void 0:e.name)===this.userName&&(this.startTime=120,this.startReducer())},computed:{timeLeft:function(){return this.secondsLeft},theTable:function(){return this.$store.getters.theTable},iconColor:function(){var e=this.$store.getters.theTable.watchers;return e&&e.length>1?"green":"#000000"},watchers:function(){return this.$store.getters.theTable.watchers},resignButtonDisabled:function(){this.$store.getters.theTable;return!!this.watch||(!(!this.theTable||this.theTable.playerInTurn)||(this.theTable.playerInTurn.name!==this.userName||!!(this.theTable&&this.theTable.board&&this.theTable.board.length<4)))},rematchButtonEnabled:function(){var e=this.$store.getters.theTable;return!this.watch&&null===e.playerInTurn},resignButtonVisible:function(){var e,t,n,a;return this.userName===(null===(e=this.theTable)||void 0===e||null===(t=e.playerA)||void 0===t?void 0:t.name)||this.userName===(null===(n=this.theTable)||void 0===n||null===(a=n.playerB)||void 0===a?void 0:a.name)}},mounted:function(){this.$store.getters.theTable?(this.initBoard(),"1"===this.watch&&this.drawBoard()):this.$router.push("/error")},beforeUnmount:function(){this.unsubscribe(),this.leaveTable()},methods:{startReducer:function(){var e=this;this.redurcerInterval&&this.stopReducer(),this.secondsLeft=120,this.redurcerInterval=setInterval((function(){e.secondsLeft=e.secondsLeft-1,e.secondsLeft<=0&&(e.stopReducer(),e.resign())}),1e3)},stopReducer:function(){clearInterval(this.redurcerInterval),this.secondsLeft=null},highlightLastSquareIfSelected:function(){if(this.showLastVal&&this.theTable.board.length>1){var e=this.theTable.board,t=e[e.length-1];this.drawToken(t,"#FF0000")}},playMoveNotification:function(){if(this.soundOn){var e=new window.AudioContext,t=e.createOscillator();t.type="sine",t.frequency.setValueAtTime(446,e.currentTime),t.connect(e.destination),t.start(),setTimeout((function(){t.stop()}),250)}},removeLastSquareHighLightning:function(){if(this.theTable.board.length>1){var e=this.theTable.board,t=e[e.length-2];this.drawToken(t,"#000000")}},removeMouseListener:function(){this.canvas.removeEventListener("click",this.handleClick,!1)},addMouseListener:function(){this.canvas.addEventListener("click",this.handleClick,!1)},drawWinningLine:function(e){this.renderingContext.beginPath(),this.renderingContext.moveTo(e.fromX*this.horizontalGap+this.horizontalGap/2-10,e.fromY*this.verticalGap+this.verticalGap/2),this.renderingContext.lineTo(e.toX*this.horizontalGap+this.horizontalGap/2+10,e.toY*this.verticalGap+this.verticalGap/2),this.renderingContext.strokeStyle="#00FFFF",this.renderingContext.lineWidth=5,this.renderingContext.stroke()},initBoard:function(){var e=this.theTable;this.canvas=document.getElementById("canvas"),this.renderingContext=this.canvas.getContext("2d");window.innerHeight,window.innerWidth;this.canvas.height=400,this.canvas.width=400,e.x>=10&&e.x<=20?(this.canvas.height=600,this.canvas.width=600):e.x>20&&(this.canvas.height=800,this.canvas.width=800);var t=e.x-1,n=e.y-1;this.verticalGap=this.canvas.height/e.x,this.horizontalGap=this.canvas.width/e.y;for(var a=0,s=0,r=0;r<t;r++)a+=this.horizontalGap,this.renderingContext.beginPath(),this.renderingContext.moveTo(a,s),this.renderingContext.lineTo(a,this.canvas.height),this.renderingContext.stroke();a=0,s=0;for(var i=0;i<n;i++)s+=this.verticalGap,this.renderingContext.beginPath(),this.renderingContext.moveTo(a,s),this.renderingContext.lineTo(this.canvas.width,s),this.renderingContext.stroke();this.theTable.playerInTurn.name===this.userName&&this.canvas.addEventListener("click",this.handleClick,!1)},drawBoard:function(){var e=this,t=this.theTable.board;t.forEach((function(t){e.drawToken(t)}))},drawToken:function(e,t){var n=e.token,a=e.x,s=e.y;if(n==Ze.X){var r=Math.floor(a*this.horizontalGap+.1*this.horizontalGap),i=Math.floor(s*this.verticalGap+.1*this.verticalGap);t&&(this.renderingContext.strokeStyle=t),this.renderingContext.beginPath(),this.renderingContext.moveTo(r,i),this.renderingContext.lineTo(r+this.horizontalGap-.2*this.horizontalGap,i+this.verticalGap-.2*this.verticalGap),this.renderingContext.stroke(),this.renderingContext.beginPath(),this.renderingContext.moveTo(r,i+this.verticalGap-.2*this.verticalGap),this.renderingContext.lineTo(r+this.horizontalGap-.2*this.horizontalGap,i),this.renderingContext.stroke()}else{t&&(this.renderingContext.strokeStyle=t);var o=this.horizontalGap/2+a*this.horizontalGap,c=this.verticalGap/2+s*this.verticalGap,l=this.verticalGap/2*.85;this.renderingContext.beginPath(),this.renderingContext.arc(o,c,l,0,2*Math.PI),this.renderingContext.stroke()}},handleClick:function(e){var t=Math.floor(e.offsetX/this.verticalGap),n=Math.floor(e.offsetY/this.horizontalGap),a={x:t,y:n,coordinates:t.toString().concat(n.toString())},s=this.theTable.board.find((function(e){return e.coordinates===a.coordinates}));if(!s){this.removeMouseListener();var r={title:"MOVE",x:a.x,y:a.y};this.user.webSocket.send(JSON.stringify(r)),this.removeMouseListener()}},disableBoard:function(){return this.renderingContext.font="30px Arial",this.renderingContext.fillText("Game over",10,this.canvas.height/2),!0},rematch:function(){var e={title:"REMATCH",message:""};this.user.webSocket.send(JSON.stringify(e))},resign:function(){var e={title:"RESIGN",message:this.tablea};this.user.webSocket.send(JSON.stringify(e))},leaveTable:function(){var e={title:"LEAVE_TABLE",message:this.theTable.id};this.user.webSocket.send(JSON.stringify(e))}}});n("140e");const Rt=V()($t,[["render",Lt],["__scopeId","data-v-1580b67c"]]);var Dt=Rt,Vt=function(e){return Object(a["v"])("data-v-2de56915"),e=e(),Object(a["t"])(),e},_t={class:"row"},Ft={class:"col"},Jt=["disabled"],Ut={class:"row"},Wt={class:"col-xs-12 col-sm-4"},Ht=Object(a["h"])(" Connect 4 table "),zt=Vt((function(){return Object(a["f"])("br",null,null,-1)})),qt=Vt((function(){return Object(a["f"])("label",{class:"form-check-label ms-1",for:"highlight"},"Highlight last",-1)})),Xt=Vt((function(){return Object(a["f"])("br",null,null,-1)})),Yt=Vt((function(){return Object(a["f"])("label",{class:"form-check-label ms-1",for:"soundOn"},"Notification sound",-1)})),Kt=Vt((function(){return Object(a["f"])("br",null,null,-1)})),Qt={class:"text-primary"},Zt=Vt((function(){return Object(a["f"])("br",null,null,-1)})),en=Object(a["h"])(" vs. "),tn=Vt((function(){return Object(a["f"])("br",null,null,-1)})),nn={class:"text-primary"},an={key:2,class:"text-success"},sn={key:3,class:"text-success"},rn={key:4,class:"text-danger"},on={class:"text-danger"},cn={class:"col-xs-12 col-sm-8"};function ln(e,t,n,s,r,i){var o,c,l,u,d,b,h,m,f,p,g,v,O,j,T,y,w,k,x,C,S,B,I,L,N,A,E=Object(a["z"])("chat");return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",_t,[Object(a["f"])("div",Ft,[e.resignButtonVisible?(Object(a["s"])(),Object(a["e"])("button",{key:0,disabled:e.resignButtonDisabled,onClick:t[0]||(t[0]=function(){return e.resign&&e.resign.apply(e,arguments)}),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Resign ",8,Jt)):Object(a["d"])("",!0),e.rematchButtonEnabled?(Object(a["s"])(),Object(a["e"])("button",{key:1,onClick:t[1]||(t[1]=function(){return e.rematch&&e.rematch.apply(e,arguments)}),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Rematch ")):Object(a["d"])("",!0)])]),Object(a["f"])("div",Ut,[Object(a["f"])("div",Wt,[Ht,zt,Object(a["J"])(Object(a["f"])("input",{class:"form-check-input",type:"checkbox",id:"highlight",onChange:t[2]||(t[2]=function(){return e.highlightLastSquareIfSelected&&e.highlightLastSquareIfSelected.apply(e,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.showLastVal=t})},null,544),[[a["D"],e.showLastVal]]),qt,Xt,Object(a["J"])(Object(a["f"])("input",{class:"form-check-input",type:"checkbox",id:"soundOn","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.soundOn=t})},null,512),[[a["D"],e.soundOn]]),Yt,Kt,e.theTable.playerA?(Object(a["s"])(),Object(a["e"])("span",{key:0,class:Object(a["o"])(["fw-bold",{"text-success":(null===(o=e.theTable.playerInTurn)||void 0===o?void 0:o.name)===(null===(c=e.theTable)||void 0===c||null===(l=c.playerA)||void 0===l?void 0:l.name)}])},Object(a["B"])(null===(u=e.theTable)||void 0===u||null===(d=u.playerA)||void 0===d?void 0:d.gameToken)+" = "+Object(a["B"])(null===(b=e.theTable)||void 0===b||null===(h=b.playerA)||void 0===h?void 0:h.name),3)):Object(a["d"])("",!0),Object(a["f"])("span",Qt," [ w:"+Object(a["B"])(null===(m=e.theTable)||void 0===m||null===(f=m.playerA)||void 0===f?void 0:f.wins)+" , d:"+Object(a["B"])(null===(p=e.theTable)||void 0===p||null===(g=p.playerA)||void 0===g?void 0:g.draws)+" ] ",1),Zt,en,tn,e.theTable.playerB?(Object(a["s"])(),Object(a["e"])("span",{key:1,class:Object(a["o"])(["fw-bold",{"text-success":(null===(v=e.theTable.playerInTurn)||void 0===v?void 0:v.name)===(null===(O=e.theTable)||void 0===O||null===(j=O.playerB)||void 0===j?void 0:j.name)}])},Object(a["B"])(null===(T=e.theTable)||void 0===T||null===(y=T.playerB)||void 0===y?void 0:y.gameToken)+" = "+Object(a["B"])(null===(w=e.theTable)||void 0===w||null===(k=w.playerB)||void 0===k?void 0:k.name),3)):Object(a["d"])("",!0),Object(a["f"])("span",nn," [ w:"+Object(a["B"])(null===(x=e.theTable)||void 0===x||null===(C=x.playerB)||void 0===C?void 0:C.wins)+" , d:"+Object(a["B"])(null===(S=e.theTable)||void 0===S||null===(B=S.playerB)||void 0===B?void 0:B.draws)+" ] ",1),(null===(I=e.theTable.playerInTurn)||void 0===I?void 0:I.name)===e.userName?(Object(a["s"])(),Object(a["e"])("span",an," It's your turn. ")):null===(null===(L=e.theTable)||void 0===L?void 0:L.playerInTurn)?(Object(a["s"])(),Object(a["e"])("span",sn," Game ended ")):(Object(a["s"])(),Object(a["e"])("div",rn," In turn: "+Object(a["B"])(null===(N=e.theTable.playerInTurn)||void 0===N?void 0:N.name),1)),Object(a["f"])("div",{class:Object(a["o"])({hidden:(null===(A=e.theTable.playerInTurn)||void 0===A?void 0:A.name)!==e.userName})},[Object(a["f"])("span",on," Time left "+Object(a["B"])(e.timeLeft),1)],2)]),Object(a["f"])("div",cn,[Object(a["f"])("canvas",{class:Object(a["o"])({"bg-secondary":null==e.theTable.playerInTurn}),id:"canvas"},null,2)])]),Object(a["i"])(E,{id:e.theTable.id},null,8,["id"])],64)}n("cb29");var un=Object(a["j"])({components:{Chat:Pt},name:"TableConnectFour",mixins:[$],props:["watch"],data:function(){return{canvas:null,renderingContext:null,showLastVal:!1,soundOn:!1,secondsLeft:120,startingPosX:-1,startingPosY:-1,gameBoardHeight:-1,gameBoardWidth:-1,arcDiameter:-1,selectedColumn:-1}},created:function(){var e=this;this.unsubscribe=this.$store.subscribe((function(t,n){if("move"===t.type){n.theTable.board;e.removeLastSquareHighLightning(),e.drawToken(e.theTable.board[e.theTable.board.length-1]),e.playMoveNotification(),e.highlightLastSquareIfSelected()}else if("changeTurn"===t.type)n.theTable.playerInTurn.name===e.userName?(e.addMouseListeners(),e.startReducer()):(e.removeMouseListeners(),e.clearCircleIndicatorRow(),e.stopReducer());else if("rematch"===t.type)e.initBoard();else if("updateWinner"===t.type){var a=n.theTable.win;e.stopReducer(),e.removeMouseListeners(),e.drawWinningLine(a)}}))},computed:{timeLeft:function(){return this.secondsLeft},theTable:function(){return this.$store.getters.theTable},watchers:function(){return this.$store.getters.theTable.watchers},resignButtonDisabled:function(){this.$store.getters.theTable;return!!this.watch||(!(!this.theTable||this.theTable.playerInTurn)||(this.theTable.playerInTurn.name!==this.userName||!!(this.theTable&&this.theTable.board&&this.theTable.board.length<4)))},rematchButtonEnabled:function(){var e=this.$store.getters.theTable;return!this.watch&&null===e.playerInTurn},resignButtonVisible:function(){var e,t,n,a;return this.userName===(null===(e=this.theTable)||void 0===e||null===(t=e.playerA)||void 0===t?void 0:t.name)||this.userName===(null===(n=this.theTable)||void 0===n||null===(a=n.playerB)||void 0===a?void 0:a.name)}},mounted:function(){this.$store.getters.theTable?(this.initBoard(),"1"===this.watch&&this.drawBoard()):this.$router.push("/error")},beforeUnmount:function(){this.unsubscribe(),this.leaveTable()},methods:{startReducer:function(){var e=this;this.redurcerInterval&&this.stopReducer(),this.secondsLeft=120,this.redurcerInterval=setInterval((function(){e.secondsLeft=e.secondsLeft-1,e.secondsLeft<=0&&(e.stopReducer(),e.resign())}),1e3)},stopReducer:function(){clearInterval(this.redurcerInterval),this.secondsLeft=null},highlightLastSquareIfSelected:function(){if(this.showLastVal&&this.theTable.board.length>1){var e=this.theTable.board,t=e[e.length-1];this.drawToken(t,"#FF0000")}},playMoveNotification:function(){if(this.soundOn){var e=new window.AudioContext,t=e.createOscillator();t.type="sine",t.frequency.setValueAtTime(446,e.currentTime),t.connect(e.destination),t.start(),setTimeout((function(){t.stop()}),250)}},removeLastSquareHighLightning:function(){if(this.theTable.board.length>1){var e=this.theTable.board,t=e[e.length-2];this.drawToken(t,"#000000")}},removeMouseListeners:function(){this.canvas.removeEventListener("click",this.handleClick,!1),this.canvas.removeEventListener("mousemove",this.handleCircleIndicator)},addMouseListeners:function(){this.canvas.addEventListener("click",this.handleClick,!1),this.canvas.addEventListener("mousemove",this.handleCircleIndicator)},handleCircleIndicator:function(e){var t=Math.floor((e.offsetX-this.startingPosX)/this.arcDiameter)+1;if(t!=this.column&&t>0&&t<=this.theTable.x){var n,a,s,r=this.column*(this.arcDiameter/2);this.renderingContext.clearRect(r,0,r+this.arcDiameter,this.arcDiameter-3),this.column=t;var i=this.arcDiameter*this.column,o=this.arcDiameter/2;this.renderingContext.fillStyle="red",(null===(n=this.theTable)||void 0===n||null===(a=n.playerInTurn)||void 0===a?void 0:a.gameToken)===Ze.X&&this.userName===(null===(s=this.theTable)||void 0===s?void 0:s.playerInTurn.name)&&(this.renderingContext.fillStyle="blue"),this.renderingContext.beginPath(),this.renderingContext.arc(i,o,23,0,2*Math.PI),this.renderingContext.fill()}},clearCircleIndicatorRow:function(){this.column=-1,this.renderingContext.clearRect(0,0,this.gameBoardWidth,this.arcDiameter-3),console.log("Cleared")},drawWinningLine:function(e){this.renderingContext.beginPath();var t=(e.fromY+1)*this.arcDiameter,n=(e.fromX+1)*this.arcDiameter+this.arcDiameter/2,a=(e.toY+1)*this.arcDiameter,s=(e.toX+1)*this.arcDiameter+this.arcDiameter/2;this.renderingContext.moveTo(t,n),this.renderingContext.lineTo(a,s),this.renderingContext.strokeStyle="#00FFFF",this.renderingContext.lineWidth=5,this.renderingContext.stroke()},initBoard:function(){var e,t=this.theTable;this.canvas=document.getElementById("canvas"),this.renderingContext=this.canvas.getContext("2d"),this.canvas.height=440,this.canvas.width=440,t.x>=10&&t.x<=20?(this.canvas.height=620,this.canvas.width=620):t.x>20&&(this.canvas.height=800,this.canvas.width=800),this.arcDiameter=this.canvas.width/(t.x+1),this.drawBoardFrame(t),this.drawBoardLines(t),(null===(e=this.theTable.playerInTurn)||void 0===e?void 0:e.name)===this.userName&&this.addMouseListeners()},drawBoardFrame:function(e){this.gapBetweenArcs=28,this.gameBoardHeight=e.y*this.arcDiameter,this.gameBoardWidth=e.x*this.arcDiameter,this.startingPosX=this.gapBetweenArcs,this.startingPosY=this.arcDiameter,this.renderingContext.beginPath(),this.renderingContext.rect(this.startingPosX,this.startingPosY,this.gameBoardWidth,this.gameBoardHeight),this.renderingContext.stroke()},drawBoardLines:function(e){for(var t=0;t<e.x;t++)for(var n=0;n<e.y+1;n++)if(0!==n){var a=this.arcDiameter*t+this.arcDiameter,s=this.arcDiameter*n+this.gapBetweenArcs;this.renderingContext.beginPath(),this.renderingContext.arc(a,s,25,0,2*Math.PI),this.renderingContext.stroke()}},drawBoard:function(){var e=this,t=this.theTable.board;t.forEach((function(t){e.drawToken(t)}))},drawToken:function(e,t){var n=e.token;n==Ze.O?this.renderingContext.fillStyle="red":this.renderingContext.fillStyle="blue";var a=this.arcDiameter*(e.x+1)+this.gapBetweenArcs,s=this.arcDiameter*e.y+this.arcDiameter;this.renderingContext.beginPath(),this.renderingContext.arc(s,a,23,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.fill()},handleClick:function(e){var t={title:"MOVE",y:this.column-1};this.user.webSocket.send(JSON.stringify(t))},disableBoard:function(){return this.renderingContext.font="30px Arial",this.renderingContext.fillText("Game over",10,this.canvas.height/2),!0},rematch:function(){var e={title:"REMATCH",message:""};this.user.webSocket.send(JSON.stringify(e))},resign:function(){var e={title:"RESIGN",message:this.tablea};this.user.webSocket.send(JSON.stringify(e))},leaveTable:function(){var e={title:"LEAVE_TABLE",message:this.theTable.id};this.user.webSocket.send(JSON.stringify(e))}}});n("f057");const dn=V()(un,[["render",ln],["__scopeId","data-v-2de56915"]]);var bn=dn,hn={class:"row mb-3 mt-2"},mn=Object(a["g"])('<div class="col"><span class="fw-bold"><h3>Terms and conditions 14.02.2022</h3></span><p class=""><span class="fw-bold">General</span><br> Site is under construction and can change/reset data without informing. At the moment you can play tic-tac-toe and connect4 games. On some occasions IP-address of the client is logged. <br></p><p class=""><span class="fw-bold">Cookies</span><br> This site does not use cookies to store information. Instead it uses browser&#39;s session storage to store login token.<br> With basic browser settings token is removed after closing or after using logging out functionality. <br></p><p class=""><span class="fw-bold">Browsers</span><br> Recommended browsers are latest versions of Firefox, Chrome and Edge. <br></p><p class=""><span class="fw-bold">Bugs</span><br> No bounties are available for bugs. But if you track them and find somethings please use the feedback form or contact using GitHub. <br> Frontend and backend source codes are available from https://github.com/antsa-1/games </p></div>',1),fn=[mn];function pn(e,t,n,s,r,i){return Object(a["s"])(),Object(a["e"])("div",hn,fn)}var gn=Object(a["j"])({name:"Info",data:function(){return{messages:null,message:{text:""}}},computed:{messageExist:function(){return this.message.text.length>0}},created:function(){},methods:{sendMessage:function(){var e=this.message.text.trim();e.length<1||e.length}}});const vn=V()(gn,[["render",pn]]);var On=vn,jn=function(e){return Object(a["v"])("data-v-a6651bfc"),e=e(),Object(a["t"])(),e},Tn={key:0,class:"row"},yn=jn((function(){return Object(a["f"])("div",{class:"col fw-bold"}," Have some feedback? Are games not working, got some improvement ideas? ",-1)})),wn={class:"row mt-4"},kn={class:"col"},xn=["disabled"],Cn={key:0,class:"row d-inline-flex p-2 alert-danger"},Sn={key:1,class:"row spinner-border",role:"status"},Bn=jn((function(){return Object(a["f"])("span",{class:"sr-only"},null,-1)})),In=[Bn],Ln={key:2,class:"row mt-4 alert alert-success"},Nn=jn((function(){return Object(a["f"])("div",{class:"col"}," Thanks! ",-1)})),An=[Nn];function En(e,t,n,s,r,i){return Object(a["s"])(),Object(a["e"])(a["a"],null,[e.showThanks||e.loadingData?e.loadingData?(Object(a["s"])(),Object(a["e"])("div",Sn,In)):Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",Tn,[yn,Object(a["f"])("div",wn,[Object(a["f"])("div",kn,[Object(a["f"])("div",null,[Object(a["J"])(Object(a["f"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.message=t}),maxlength:"400",class:"form-control",rows:"3"}," ",512),[[a["G"],e.message]]),Object(a["f"])("button",{disabled:!e.sendButtonEnabled,onClick:t[1]||(t[1]=function(){return e.send&&e.send.apply(e,arguments)}),class:"btn btn-primary"}," Send feedback ",8,xn)])])]),e.showError?(Object(a["s"])(),Object(a["e"])("div",Cn," Error occured! ")):Object(a["d"])("",!0)])),e.showThanks?(Object(a["s"])(),Object(a["e"])("div",Ln,An)):Object(a["d"])("",!0)],64)}var Mn=Object(a["j"])({name:"Feedback",data:function(){return{message:"",error:!1,success:!1,loading:!1}},computed:{sendButtonEnabled:function(){var e=this.message.trim();return e.length>4},showError:function(){return this.error},showThanks:function(){return this.success},loadingData:function(){return this.loading}},methods:{send:function(){var e=this;console.log("http://35.217.7.146");var t="http://35.217.7.146/portal/api/feedback",n={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify(this.message)};this.loading=!0,fetch(t,n).then((function(e){if(200!==e.status)return Promise.reject("error in feedback")})).then((function(t){e.error=!1,e.success=!0,e.message=""}),(function(t){e.error=!0,e.success=!1})).finally((function(){e.loading=!1}))}},created:function(){}});n("ff08");const Gn=V()(Mn,[["render",En],["__scopeId","data-v-a6651bfc"]]);var Pn=Gn,$n={key:0,class:"row"},Rn=Object(a["f"])("div",{class:"col"},[Object(a["f"])("h3",null," Create nickname")],-1),Dn=Object(a["f"])("div",{class:"row"},[Object(a["f"])("div",{class:"col m-2"}," Nickname is optional to play the game. Nickname must be at least 2 chars and must not contain special characters. Password must be at minimum 8 characters. ")],-1),Vn=[Rn,Dn],_n={key:1,class:"row"},Fn={class:"col m-2"},Jn=Object(a["h"])(" * Nickname "),Un={key:2,class:"row"},Wn={class:"col"},Hn=Object(a["h"])(" * Password "),zn={key:3,class:"row"},qn={class:"col"},Xn=["disabled"],Yn={key:0,class:"text-danger"},Kn={key:0,class:"d-inline-flex p-2 alert-danger",role:"alert"},Qn={key:1,class:"d-inline-flex p-2 alert-danger",role:"alert"},Zn={key:4,class:"row"},ea={class:"col alert alert-success"},ta=Object(a["h"])(" login ");function na(e,t,n,s,r,i){var o=Object(a["z"])("router-link");return Object(a["s"])(),Object(a["e"])(a["a"],null,[e.registerDone?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",$n,Vn)),e.registerDone?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",_n,[Object(a["f"])("div",Fn,[Jn,Object(a["J"])(Object(a["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.usrNameTemp=t}),class:"p-3",id:"username",type:"text",name:"username",pattern:"\\\\S(.\\\\*\\\\S)\\\\?\\\\*",title:"This field is required",size:"40",maxlength:"15",autocomplete:"off"},null,512),[[a["G"],e.usrNameTemp]])])])),e.registerDone?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",Un,[Object(a["f"])("div",Wn,[Hn,Object(a["J"])(Object(a["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.usrPwTemp=t}),class:"p-3",id:"pw",name:"pw",type:"password",minlength:"8",size:"40",maxlength:"150",autocomplete:"off"},null,512),[[a["G"],e.usrPwTemp]])])])),e.registerDone?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("div",zn,[Object(a["f"])("div",qn,[Object(a["f"])("button",{onClick:t[2]||(t[2]=function(){return e.registrate&&e.registrate.apply(e,arguments)}),class:"btn btn-primary",disabled:e.isRegistrateButtonDisabled}," Registrate ",8,Xn),e.registrationDataOk?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("span",Yn," Type (better) password"))]),e.errorInRegistration?(Object(a["s"])(),Object(a["e"])("div",Kn," Registration error occured! Nickname minimum 2 characters and password minimum 8 characters. Try another nickname. ")):Object(a["d"])("",!0),e.errorInRegistrationDuplicate?(Object(a["s"])(),Object(a["e"])("div",Qn,"Oops, seems like nickname is already taken, try another.")):Object(a["d"])("",!0)])),e.registerDone?(Object(a["s"])(),Object(a["e"])("div",Zn,[Object(a["f"])("div",ea,[Object(a["h"])(" Registration for nickname "+Object(a["B"])(e.usrNameTemp)+" is complete. You can now ",1),Object(a["i"])(o,{to:{name:"User"}},{default:Object(a["I"])((function(){return[ta]})),_:1})])])):Object(a["d"])("",!0)],64)}n("8a79");var aa=Object(a["j"])({name:"Registration",data:function(){return{usrNameTemp:null,usrPwTemp:null,registerError:null,registerErrorNickName:null,requestOnTheFly:!1,registerDone:!1}},computed:{isRegistrateButtonDisabled:function(){return!!this.requestOnTheFly||!this.registrationDataOk},errorInRegistration:function(){return null!=this.registerError},errorInRegistrationDuplicate:function(){return null!=this.registerErrorNickName},registrationDataOk:function(){return!(!this.usrPwTemp||!this.usrNameTemp)&&(this.usrPwTemp!==this.usrNameTemp&&(!this.usrPwTemp.startsWith("1234567")&&(!this.usrPwTemp.startsWith("qwerty")&&(!this.usrPwTemp.startsWith(" ")&&!this.usrPwTemp.endsWith(" ")&&(!(this.usrPwTemp.length<8)&&!(this.usrNameTemp.length<1))))))}},created:function(){},methods:{showLogin:function(){},registrate:function(){var e,t=this;this.registerError=null,this.registerErrorNickName=null,this.requestOnTheFly=!0;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify({userName:null===(e=this.usrNameTemp)||void 0===e?void 0:e.trim(),password:this.usrPwTemp.trim()})},a="http://35.217.7.146/portal/api/user/register";this.$store.dispatch("setLoadingStatus",!0),fetch(a,n).then((function(e){return t.resetRegistrationData(),406===e.status?Promise.reject(406):200!==e.status?Promise.reject("error in login"):e.json()})).then((function(e){t.usrNameTemp=e.name,t.registerDone=!0}),(function(e){406===e?t.registerErrorNickName=!0:t.registerError=!0})).finally((function(){t.requestOnTheFly=!1,t.$store.dispatch("setLoadingStatus",!1)}))},resetRegistrationData:function(){this.usrNameTemp=null,this.usrPwTemp=null}}});const sa=V()(aa,[["render",na]]);var ra=sa,ia={class:"row"},oa={class:"col text-danger"},ca=Object(a["h"])(" An error occured. Try navigating to "),la=Object(a["h"])("main page");function ua(e,t,n,s,r,i){var o=Object(a["z"])("router-link");return Object(a["s"])(),Object(a["e"])("div",ia,[Object(a["f"])("div",oa,[ca,Object(a["i"])(o,{to:{name:"Home"}},{default:Object(a["I"])((function(){return[la]})),_:1})])])}var da=Object(a["j"])({name:"Error",methods:{toMainPage:function(){this.$router.push("/")}},created:function(){}});const ba=V()(da,[["render",ua]]);var ha=ba,ma=n("5530"),fa=(n("c740"),n("a434"),n("5502")),pa=Object(fa["a"])({state:{user:null,gameModes:[],tables:[],users:[],theTable:null,commonChat:{messages:[],message:null},loadingStatus:!1},getters:{user:function(e){if(e.user)return e.user;var t=sessionStorage.getItem("userName"),n=sessionStorage.getItem("token");if(t&&n){var a={name:t,token:n};return pa.dispatch("setUser",a),e.user}return null},loading:function(e){return e.loadingStatus},userName:function(e){return e.user?e.user.name:null},users:function(e){return e.users},tables:function(e){return e.tables},gameModes:function(e){return e.gameModes},theTable:function(e){return e.theTable},chatMessages:function(e){return e.theTable&&e.theTable.chat?e.theTable.chat.messages:[]},commonChatMessages:function(e){return e.commonChat.messages},gameBoard:function(e){return e.theTable.board},loadingStatus:function(e){return e.loadingStatus}},mutations:{setUser:function(e,t){t?(sessionStorage.setItem("userName",t.name),sessionStorage.setItem("token",t.token),e.user=t):(sessionStorage.removeItem("userName"),sessionStorage.removeItem("token"),e.user=t)},setGameModes:function(e,t){e.gameModes=t},setTables:function(e,t){e.tables=t},setUsers:function(e,t){e.users=t},addTable:function(e,t){t.playerA.name===e.user.name?e.tables.unshift(t):e.tables.push(t)},removeFromPlayerList:function(e,t){e.users=e.users.filter((function(e){return e.name!==t.name}))},removeTable:function(e,t){e.tables=e.tables.filter((function(e){return e.id!==t.id}))},addPlayer:function(e,t){e.users.push(t)},startGame:function(e,t){var n=e.tables.findIndex((function(e){return e.id===t.id}));e.tables.splice(n,1,t)},selectTable:function(e,t){var n={messages:[],message:{text:""}};t.chat=n;var a=t.board;t.board=a,e.theTable=t},addWatcher:function(e,t){if(e.theTable){var n=t.name.concat(" joined to watch"),a={from:"System",text:n};e.theTable.chat.messages.unshift(a)}},move:function(e,t){e.theTable.board.push(t)},changeTurn:function(e,t){e.theTable=Object(ma["a"])(Object(ma["a"])({},e.theTable),{},{playerInTurn:t})},chat:function(e,t){e.theTable&&e.theTable.chat.messages.unshift(t)},updateCommonChat:function(e,t){e.commonChat.messages.unshift(t)},updateScore:function(e,t){e.theTable&&(e.theTable.playerA.wins=t.winsA,e.theTable.playerB.wins=t.winsB,e.theTable.playerInTurn=null)},leaveTable:function(e,t){if(e.theTable){(e.theTable.playerA.name===t||e.theTable.playerB.name===t)&&(e.theTable.playerInTurn=null);var n=t.concat(" left table"),a={from:"System",text:n};e.theTable.chat.messages.unshift(a)}},rematch:function(e,t){var n={messages:[],message:{text:""}};e.theTable&&e.theTable.chat&&(n=e.theTable.chat);var a=[];t.board=a;var s={text:"Rematch started",from:"System"};n.messages.unshift(s),t.playerA.wins=t.playerA.wins,t.playerB.wins=t.playerB.wins,t.chat=n,e.theTable=t},updateWinner:function(e,t){if(this.state.theTable){e.theTable.playerInTurn=null;var n={text:t.winner.name.concat(" won"),from:"System"};e.theTable.chat.messages.unshift(n),e.theTable.win=t}},setDraw:function(e,t){if(this.state.theTable){e.theTable.playerA&&(e.theTable.playerA.draws=t.table.playerA.draws),e.theTable.playerB&&(e.theTable.playerB.draws=t.table.playerB.draws),e.theTable.playerInTurn&&(e.theTable.playerInTurn=null);var n={text:"Game ended in draw",from:"System"};e.theTable.chat.messages.unshift(n)}},setLoadingStatus:function(e,t){e.loadingStatus=t}},actions:{setUser:function(e,t){e.commit("setUser",t)},setGameModes:function(e,t){e.commit("setGameModes",t)},setTables:function(e,t){e.commit("setTables",t)},setUsers:function(e,t){e.commit("setUsers",t)},addTable:function(e,t){e.commit("addTable",t)},removePlayer:function(e,t){e.commit("removeFromPlayerList",t)},removeTable:function(e,t){e.commit("removeTable",t)},addPlayer:function(e,t){e.commit("addPlayer",t)},startGame:function(e,t){e.commit("startGame",t)},selectTable:function(e,t){e.commit("selectTable",t)},addWatcher:function(e,t){e.commit("addWatcher",t)},move:function(e,t){e.commit("move",t)},changeTurn:function(e,t){e.commit("changeTurn",t)},chat:function(e,t){e.commit("chat",t)},updateCommonChat:function(e,t){e.commit("updateCommonChat",t)},updateScore:function(e,t){e.commit("updateScore",t)},rematch:function(e,t){e.commit("rematch",t)},leaveTable:function(e,t){e.commit("leaveTable",t)},updateWinner:function(e,t){e.commit("updateWinner",t)},setDraw:function(e,t){e.commit("setDraw",t)},logout:function(e,t){e.commit("setTables",[]),e.commit("setUsers",[]),t&&t.webSocket&&(t.webSocket.close(),t.webSocket=null);var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify({token:null===t||void 0===t?void 0:t.token})},a="http://35.217.7.146/portal/api/user/logout";e.commit("setUser",null),fetch(a,n).then((function(e){}))},setLoadingStatus:function(e,t){e.commit("setLoadingStatus",t)}}}),ga=n("6c02"),va=[{path:"/portal/index.html",redirect:{name:"Home"}},{path:"/index.html",redirect:{name:"Home"}},{path:"/",redirect:{name:"Home"}},{path:"/portal",redirect:{name:"Home"}},{path:"/portal/games",component:ct,name:"Home"},{path:"/portal/user",component:le,name:"User",props:!0},{path:"/portal/registration",component:ra,name:"Registration",props:!0},{path:"/portal/lobby",component:at,name:"Lobby",props:!0,beforeEnter:function(e,t,n){if(pa.state.user)n();else{var a=sessionStorage.getItem("userName"),s=sessionStorage.getItem("token"),r={name:a,token:s,webSocket:null};pa.dispatch("setUser",r).then((function(){n()}))}}},{path:"/portal/table/:watch?",component:Dt,name:"Table",props:!0,beforeEnter:function(e,t,n){pa.state.user&&pa.state.theTable?n():n("/")}},{path:"/portal/connectfour/:watch?",component:bn,name:"TableConnectFour",props:!0,beforeEnter:function(e,t,n){pa.state.user&&pa.state.theTable?n():n("/")}},{path:"/portal/terms",component:On,name:"Info"},{path:"/portal/feedback",component:Pn,name:"Feedback"},{path:"/portal/:catchAll(.*)",component:ha,name:"Error",props:!0}],Oa=Object(ga["a"])({history:Object(ga["b"])(),routes:va}),ja=Object(a["c"])(W);ja.use(Oa).use(pa).mount("#app")},d0b4:function(e,t,n){"use strict";n("47c8")},dc3b:function(e,t,n){},f057:function(e,t,n){"use strict";n("52a2")},ff08:function(e,t,n){"use strict";n("5ef9")}});