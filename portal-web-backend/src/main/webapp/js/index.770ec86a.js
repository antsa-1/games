const Mu=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}};Mu();function Bo(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>!!s[i.toLowerCase()]:i=>!!s[i]}const Du="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bu=Bo(Du);function bl(e){return!!e||e===""}function Ho(e){if(ee(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=je(n)?Fu(n):Ho(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(je(e))return e;if($e(e))return e}}const Hu=/;(?![^(]*\))/g,Vu=/:(.+)/;function Fu(e){const t={};return e.split(Hu).forEach(s=>{if(s){const n=s.split(Vu);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ie(e){let t="";if(je(e))t=e;else if(ee(e))for(let s=0;s<e.length;s++){const n=Ie(e[s]);n&&(t+=n+" ")}else if($e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function ju(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=jn(e[n],t[n]);return s}function jn(e,t){if(e===t)return!0;let s=Or(e),n=Or(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ln(e),n=Ln(t),s||n)return e===t;if(s=ee(e),n=ee(t),s||n)return s&&n?ju(e,t):!1;if(s=$e(e),n=$e(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!jn(e[r],t[r]))return!1}}return String(e)===String(t)}function Vo(e,t){return e.findIndex(s=>jn(s,t))}const F=e=>je(e)?e:e==null?"":ee(e)||$e(e)&&(e.toString===_l||!ce(e.toString))?JSON.stringify(e,yl,2):String(e),yl=(e,t)=>t&&t.__v_isRef?yl(e,t.value):zs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i])=>(s[`${n} =>`]=i,s),{})}:on(t)?{[`Set(${t.size})`]:[...t.values()]}:$e(t)&&!ee(t)&&!Tl(t)?String(t):t,xe={},Us=[],_t=()=>{},Uu=()=>!1,zu=/^on[^a-z]/,Pi=e=>zu.test(e),Fo=e=>e.startsWith("onUpdate:"),et=Object.assign,jo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Gu=Object.prototype.hasOwnProperty,pe=(e,t)=>Gu.call(e,t),ee=Array.isArray,zs=e=>Un(e)==="[object Map]",on=e=>Un(e)==="[object Set]",Or=e=>Un(e)==="[object Date]",ce=e=>typeof e=="function",je=e=>typeof e=="string",Ln=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",vl=e=>$e(e)&&ce(e.then)&&ce(e.catch),_l=Object.prototype.toString,Un=e=>_l.call(e),Wu=e=>Un(e).slice(8,-1),Tl=e=>Un(e)==="[object Object]",Uo=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ri=Bo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oi=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Yu=/-(\w)/g,Nt=Oi(e=>e.replace(Yu,(t,s)=>s?s.toUpperCase():"")),qu=/\B([A-Z])/g,rn=Oi(e=>e.replace(qu,"-$1").toLowerCase()),Li=Oi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ji=Oi(e=>e?`on${Li(e)}`:""),$n=(e,t)=>!Object.is(e,t),ai=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},pi=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},mi=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lr;const Ku=()=>Lr||(Lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Pt;class Qu{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Pt&&(this.parent=Pt,this.index=(Pt.scopes||(Pt.scopes=[])).push(this)-1)}run(t){if(this.active){const s=Pt;try{return Pt=this,t()}finally{Pt=s}}}on(){Pt=this}off(){Pt=this.parent}stop(t){if(this.active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Xu(e,t=Pt){t&&t.active&&t.effects.push(e)}const zo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wl=e=>(e.w&os)>0,El=e=>(e.n&os)>0,Ju=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=os},Zu=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const i=t[n];wl(i)&&!El(i)?i.delete(e):t[s++]=i,i.w&=~os,i.n&=~os}t.length=s}},ho=new WeakMap;let yn=0,os=1;const fo=30;let bt;const _s=Symbol(""),po=Symbol("");class Go{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Xu(this,n)}run(){if(!this.active)return this.fn();let t=bt,s=ns;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=bt,bt=this,ns=!0,os=1<<++yn,yn<=fo?Ju(this):$r(this),this.fn()}finally{yn<=fo&&Zu(this),os=1<<--yn,bt=this.parent,ns=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){bt===this?this.deferStop=!0:this.active&&($r(this),this.onStop&&this.onStop(),this.active=!1)}}function $r(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let ns=!0;const Cl=[];function an(){Cl.push(ns),ns=!1}function ln(){const e=Cl.pop();ns=e===void 0?!0:e}function at(e,t,s){if(ns&&bt){let n=ho.get(e);n||ho.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=zo()),xl(i)}}function xl(e,t){let s=!1;yn<=fo?El(e)||(e.n|=os,s=!wl(e)):s=!e.has(bt),s&&(e.add(bt),bt.deps.push(e))}function jt(e,t,s,n,i,o){const r=ho.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(s==="length"&&ee(e))r.forEach((l,h)=>{(h==="length"||h>=n)&&a.push(l)});else switch(s!==void 0&&a.push(r.get(s)),t){case"add":ee(e)?Uo(s)&&a.push(r.get("length")):(a.push(r.get(_s)),zs(e)&&a.push(r.get(po)));break;case"delete":ee(e)||(a.push(r.get(_s)),zs(e)&&a.push(r.get(po)));break;case"set":zs(e)&&a.push(r.get(_s));break}if(a.length===1)a[0]&&mo(a[0]);else{const l=[];for(const h of a)h&&l.push(...h);mo(zo(l))}}function mo(e,t){const s=ee(e)?e:[...e];for(const n of s)n.computed&&Nr(n);for(const n of s)n.computed||Nr(n)}function Nr(e,t){(e!==bt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const eh=Bo("__proto__,__v_isRef,__isVue"),Sl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ln)),th=Wo(),sh=Wo(!1,!0),nh=Wo(!0),Rr=ih();function ih(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=ye(this);for(let o=0,r=this.length;o<r;o++)at(n,"get",o+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(ye)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){an();const n=ye(this)[t].apply(this,s);return ln(),n}}),e}function Wo(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?_h:Ol:t?Pl:Il).get(n))return n;const r=ee(n);if(!e&&r&&pe(Rr,i))return Reflect.get(Rr,i,o);const a=Reflect.get(n,i,o);return(Ln(i)?Sl.has(i):eh(i))||(e||at(n,"get",i),t)?a:qe(a)?r&&Uo(i)?a:a.value:$e(a)?e?Ll(a):cn(a):a}}const oh=kl(),rh=kl(!0);function kl(e=!1){return function(s,n,i,o){let r=s[n];if(Nn(r)&&qe(r)&&!qe(i))return!1;if(!e&&!Nn(i)&&(go(i)||(i=ye(i),r=ye(r)),!ee(s)&&qe(r)&&!qe(i)))return r.value=i,!0;const a=ee(s)&&Uo(n)?Number(n)<s.length:pe(s,n),l=Reflect.set(s,n,i,o);return s===ye(o)&&(a?$n(i,r)&&jt(s,"set",n,i):jt(s,"add",n,i)),l}}function ah(e,t){const s=pe(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&jt(e,"delete",t,void 0),n}function lh(e,t){const s=Reflect.has(e,t);return(!Ln(t)||!Sl.has(t))&&at(e,"has",t),s}function ch(e){return at(e,"iterate",ee(e)?"length":_s),Reflect.ownKeys(e)}const Al={get:th,set:oh,deleteProperty:ah,has:lh,ownKeys:ch},uh={get:nh,set(e,t){return!0},deleteProperty(e,t){return!0}},hh=et({},Al,{get:sh,set:rh}),Yo=e=>e,$i=e=>Reflect.getPrototypeOf(e);function Qn(e,t,s=!1,n=!1){e=e.__v_raw;const i=ye(e),o=ye(t);s||(t!==o&&at(i,"get",t),at(i,"get",o));const{has:r}=$i(i),a=n?Yo:s?Qo:Rn;if(r.call(i,t))return a(e.get(t));if(r.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function Xn(e,t=!1){const s=this.__v_raw,n=ye(s),i=ye(e);return t||(e!==i&&at(n,"has",e),at(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function Jn(e,t=!1){return e=e.__v_raw,!t&&at(ye(e),"iterate",_s),Reflect.get(e,"size",e)}function Mr(e){e=ye(e);const t=ye(this);return $i(t).has.call(t,e)||(t.add(e),jt(t,"add",e,e)),this}function Dr(e,t){t=ye(t);const s=ye(this),{has:n,get:i}=$i(s);let o=n.call(s,e);o||(e=ye(e),o=n.call(s,e));const r=i.call(s,e);return s.set(e,t),o?$n(t,r)&&jt(s,"set",e,t):jt(s,"add",e,t),this}function Br(e){const t=ye(this),{has:s,get:n}=$i(t);let i=s.call(t,e);i||(e=ye(e),i=s.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&jt(t,"delete",e,void 0),o}function Hr(){const e=ye(this),t=e.size!==0,s=e.clear();return t&&jt(e,"clear",void 0,void 0),s}function Zn(e,t){return function(n,i){const o=this,r=o.__v_raw,a=ye(r),l=t?Yo:e?Qo:Rn;return!e&&at(a,"iterate",_s),r.forEach((h,c)=>n.call(i,l(h),l(c),o))}}function ei(e,t,s){return function(...n){const i=this.__v_raw,o=ye(i),r=zs(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,h=i[e](...n),c=s?Yo:t?Qo:Rn;return!t&&at(o,"iterate",l?po:_s),{next(){const{value:f,done:u}=h.next();return u?{value:f,done:u}:{value:a?[c(f[0]),c(f[1])]:c(f),done:u}},[Symbol.iterator](){return this}}}}function Yt(e){return function(...t){return e==="delete"?!1:this}}function dh(){const e={get(o){return Qn(this,o)},get size(){return Jn(this)},has:Xn,add:Mr,set:Dr,delete:Br,clear:Hr,forEach:Zn(!1,!1)},t={get(o){return Qn(this,o,!1,!0)},get size(){return Jn(this)},has:Xn,add:Mr,set:Dr,delete:Br,clear:Hr,forEach:Zn(!1,!0)},s={get(o){return Qn(this,o,!0)},get size(){return Jn(this,!0)},has(o){return Xn.call(this,o,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:Zn(!0,!1)},n={get(o){return Qn(this,o,!0,!0)},get size(){return Jn(this,!0)},has(o){return Xn.call(this,o,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:Zn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=ei(o,!1,!1),s[o]=ei(o,!0,!1),t[o]=ei(o,!1,!0),n[o]=ei(o,!0,!0)}),[e,s,t,n]}const[fh,ph,mh,gh]=dh();function qo(e,t){const s=t?e?gh:mh:e?ph:fh;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(pe(s,i)&&i in n?s:n,i,o)}const bh={get:qo(!1,!1)},yh={get:qo(!1,!0)},vh={get:qo(!0,!1)},Il=new WeakMap,Pl=new WeakMap,Ol=new WeakMap,_h=new WeakMap;function Th(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wh(e){return e.__v_skip||!Object.isExtensible(e)?0:Th(Wu(e))}function cn(e){return Nn(e)?e:Ko(e,!1,Al,bh,Il)}function Eh(e){return Ko(e,!1,hh,yh,Pl)}function Ll(e){return Ko(e,!0,uh,vh,Ol)}function Ko(e,t,s,n,i){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=wh(e);if(r===0)return e;const a=new Proxy(e,r===2?n:s);return i.set(e,a),a}function Gs(e){return Nn(e)?Gs(e.__v_raw):!!(e&&e.__v_isReactive)}function Nn(e){return!!(e&&e.__v_isReadonly)}function go(e){return!!(e&&e.__v_isShallow)}function $l(e){return Gs(e)||Nn(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function Nl(e){return pi(e,"__v_skip",!0),e}const Rn=e=>$e(e)?cn(e):e,Qo=e=>$e(e)?Ll(e):e;function Rl(e){ns&&bt&&(e=ye(e),xl(e.dep||(e.dep=zo())))}function Ml(e,t){e=ye(e),e.dep&&mo(e.dep)}function qe(e){return!!(e&&e.__v_isRef===!0)}function vn(e){return Dl(e,!1)}function Ch(e){return Dl(e,!0)}function Dl(e,t){return qe(e)?e:new xh(e,t)}class xh{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ye(t),this._value=s?t:Rn(t)}get value(){return Rl(this),this._value}set value(t){t=this.__v_isShallow?t:ye(t),$n(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Rn(t),Ml(this))}}function Be(e){return qe(e)?e.value:e}const Sh={get:(e,t,s)=>Be(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return qe(i)&&!qe(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Bl(e){return Gs(e)?e:new Proxy(e,Sh)}class kh{constructor(t,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Go(t,()=>{this._dirty||(this._dirty=!0,Ml(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=ye(this);return Rl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ah(e,t,s=!1){let n,i;const o=ce(e);return o?(n=e,i=_t):(n=e.get,i=e.set),new kh(n,i,o||!i,s)}function is(e,t,s,n){let i;try{i=n?e(...n):e()}catch(o){Ni(o,t,s)}return i}function Tt(e,t,s,n){if(ce(e)){const o=is(e,t,s,n);return o&&vl(o)&&o.catch(r=>{Ni(r,t,s)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Tt(e[o],t,s,n));return i}function Ni(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=s;for(;o;){const h=o.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](e,r,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){is(l,null,10,[e,r,a]);return}}Ih(e,s,i,n)}function Ih(e,t,s,n=!0){console.error(e)}let gi=!1,bo=!1;const rt=[];let Vt=0;const En=[];let _n=null,Ds=0;const Cn=[];let Zt=null,Bs=0;const Hl=Promise.resolve();let Xo=null,yo=null;function Vl(e){const t=Xo||Hl;return e?t.then(this?e.bind(this):e):t}function Ph(e){let t=Vt+1,s=rt.length;for(;t<s;){const n=t+s>>>1;Mn(rt[n])<e?t=n+1:s=n}return t}function Fl(e){(!rt.length||!rt.includes(e,gi&&e.allowRecurse?Vt+1:Vt))&&e!==yo&&(e.id==null?rt.push(e):rt.splice(Ph(e.id),0,e),jl())}function jl(){!gi&&!bo&&(bo=!0,Xo=Hl.then(Gl))}function Oh(e){const t=rt.indexOf(e);t>Vt&&rt.splice(t,1)}function Ul(e,t,s,n){ee(e)?s.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&s.push(e),jl()}function Lh(e){Ul(e,_n,En,Ds)}function $h(e){Ul(e,Zt,Cn,Bs)}function Ri(e,t=null){if(En.length){for(yo=t,_n=[...new Set(En)],En.length=0,Ds=0;Ds<_n.length;Ds++)_n[Ds]();_n=null,Ds=0,yo=null,Ri(e,t)}}function zl(e){if(Ri(),Cn.length){const t=[...new Set(Cn)];if(Cn.length=0,Zt){Zt.push(...t);return}for(Zt=t,Zt.sort((s,n)=>Mn(s)-Mn(n)),Bs=0;Bs<Zt.length;Bs++)Zt[Bs]();Zt=null,Bs=0}}const Mn=e=>e.id==null?1/0:e.id;function Gl(e){bo=!1,gi=!0,Ri(e),rt.sort((s,n)=>Mn(s)-Mn(n));const t=_t;try{for(Vt=0;Vt<rt.length;Vt++){const s=rt[Vt];s&&s.active!==!1&&is(s,null,14)}}finally{Vt=0,rt.length=0,zl(),gi=!1,Xo=null,(rt.length||En.length||Cn.length)&&Gl(e)}}function Nh(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||xe;let i=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in n){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:f,trim:u}=n[c]||xe;u&&(i=s.map(b=>b.trim())),f&&(i=s.map(mi))}let a,l=n[a=Ji(t)]||n[a=Ji(Nt(t))];!l&&o&&(l=n[a=Ji(rn(t))]),l&&Tt(l,e,6,i);const h=n[a+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Tt(h,e,6,i)}}function Wl(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!ce(e)){const l=h=>{const c=Wl(h,t,!0);c&&(a=!0,et(r,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(n.set(e,null),null):(ee(o)?o.forEach(l=>r[l]=null):et(r,o),n.set(e,r),r)}function Mi(e,t){return!e||!Pi(t)?!1:(t=t.slice(2).replace(/Once$/,""),pe(e,t[0].toLowerCase()+t.slice(1))||pe(e,rn(t))||pe(e,t))}let yt=null,Di=null;function bi(e){const t=yt;return yt=e,Di=e&&e.type.__scopeId||null,t}function un(e){Di=e}function hn(){Di=null}function st(e,t=yt,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Kr(-1);const o=bi(t),r=e(...i);return bi(o),n._d&&Kr(1),r};return n._n=!0,n._c=!0,n._d=!0,n}function Zi(e){const{type:t,vnode:s,proxy:n,withProxy:i,props:o,propsOptions:[r],slots:a,attrs:l,emit:h,render:c,renderCache:f,data:u,setupState:b,ctx:C,inheritAttrs:O}=e;let I,E;const H=bi(e);try{if(s.shapeFlag&4){const R=i||n;I=Ot(c.call(R,R,f,o,b,u,C)),E=l}else{const R=t;I=Ot(R.length>1?R(o,{attrs:l,slots:a,emit:h}):R(o,null)),E=t.props?l:Rh(l)}}catch(R){xn.length=0,Ni(R,e,1),I=se(xs)}let W=I;if(E&&O!==!1){const R=Object.keys(E),{shapeFlag:Q}=W;R.length&&Q&7&&(r&&R.some(Fo)&&(E=Mh(E,r)),W=Ys(W,E))}return s.dirs&&(W=Ys(W),W.dirs=W.dirs?W.dirs.concat(s.dirs):s.dirs),s.transition&&(W.transition=s.transition),I=W,bi(H),I}const Rh=e=>{let t;for(const s in e)(s==="class"||s==="style"||Pi(s))&&((t||(t={}))[s]=e[s]);return t},Mh=(e,t)=>{const s={};for(const n in e)(!Fo(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Dh(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Vr(n,r,h):!!r;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const u=c[f];if(r[u]!==n[u]&&!Mi(h,u))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Vr(n,r,h):!0:!!r;return!1}function Vr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Mi(s,o))return!0}return!1}function Bh({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const Hh=e=>e.__isSuspense;function Vh(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):$h(e)}function li(e,t){if(Ge){let s=Ge.provides;const n=Ge.parent&&Ge.parent.provides;n===s&&(s=Ge.provides=Object.create(n)),s[e]=t}}function Lt(e,t,s=!1){const n=Ge||yt;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&ce(t)?t.call(n.proxy):t}}const Fr={};function Ts(e,t,s){return Yl(e,t,s)}function Yl(e,t,{immediate:s,deep:n,flush:i,onTrack:o,onTrigger:r}=xe){const a=Ge;let l,h=!1,c=!1;if(qe(e)?(l=()=>e.value,h=go(e)):Gs(e)?(l=()=>e,n=!0):ee(e)?(c=!0,h=e.some(E=>Gs(E)||go(E)),l=()=>e.map(E=>{if(qe(E))return E.value;if(Gs(E))return vs(E);if(ce(E))return is(E,a,2)})):ce(e)?t?l=()=>is(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Tt(e,a,3,[u])}:l=_t,t&&n){const E=l;l=()=>vs(E())}let f,u=E=>{f=I.onStop=()=>{is(E,a,4)}};if(Bn)return u=_t,t?s&&Tt(t,a,3,[l(),c?[]:void 0,u]):l(),_t;let b=c?[]:Fr;const C=()=>{if(!!I.active)if(t){const E=I.run();(n||h||(c?E.some((H,W)=>$n(H,b[W])):$n(E,b)))&&(f&&f(),Tt(t,a,3,[E,b===Fr?void 0:b,u]),b=E)}else I.run()};C.allowRecurse=!!t;let O;i==="sync"?O=C:i==="post"?O=()=>tt(C,a&&a.suspense):O=()=>Lh(C);const I=new Go(l,O);return t?s?C():b=I.run():i==="post"?tt(I.run.bind(I),a&&a.suspense):I.run(),()=>{I.stop(),a&&a.scope&&jo(a.scope.effects,I)}}function Fh(e,t,s){const n=this.proxy,i=je(e)?e.includes(".")?ql(n,e):()=>n[e]:e.bind(n,n);let o;ce(t)?o=t:(o=t.handler,s=t);const r=Ge;qs(this);const a=Yl(i,o.bind(n),s);return r?qs(r):ws(),a}function ql(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function vs(e,t){if(!$e(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),qe(e))vs(e.value,t);else if(ee(e))for(let s=0;s<e.length;s++)vs(e[s],t);else if(on(e)||zs(e))e.forEach(s=>{vs(s,t)});else if(Tl(e))for(const s in e)vs(e[s],t);return e}function De(e){return ce(e)?{setup:e,name:e.name}:e}const ci=e=>!!e.type.__asyncLoader,Kl=e=>e.type.__isKeepAlive;function jh(e,t){Ql(e,"a",t)}function Uh(e,t){Ql(e,"da",t)}function Ql(e,t,s=Ge){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Bi(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Kl(i.parent.vnode)&&zh(n,t,s,i),i=i.parent}}function zh(e,t,s,n){const i=Bi(t,e,n,!0);Jo(()=>{jo(n[t],i)},s)}function Bi(e,t,s=Ge,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;an(),qs(s);const a=Tt(t,s,e,r);return ws(),ln(),a});return n?i.unshift(o):i.push(o),o}}const zt=e=>(t,s=Ge)=>(!Bn||e==="sp")&&Bi(e,t,s),Gh=zt("bm"),Xl=zt("m"),Wh=zt("bu"),Yh=zt("u"),qh=zt("bum"),Jo=zt("um"),Kh=zt("sp"),Qh=zt("rtg"),Xh=zt("rtc");function Jh(e,t=Ge){Bi("ec",e,t)}function Me(e,t){const s=yt;if(s===null)return e;const n=Vi(s)||s.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,a,l,h=xe]=t[o];ce(r)&&(r={mounted:r,updated:r}),r.deep&&vs(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:l,modifiers:h})}return e}function us(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(an(),Tt(l,s,8,[e.el,a,e,t]),ln())}}const Jl="components";function Et(e,t){return ed(Jl,e,!0,t)||e}const Zh=Symbol();function ed(e,t,s=!0,n=!1){const i=yt||Ge;if(i){const o=i.type;if(e===Jl){const a=Pd(o,!1);if(a&&(a===t||a===Nt(t)||a===Li(Nt(t))))return o}const r=jr(i[e]||o[e],t)||jr(i.appContext[e],t);return!r&&n?o:r}}function jr(e,t){return e&&(e[t]||e[Nt(t)]||e[Li(Nt(t))])}function gt(e,t,s,n){let i;const o=s&&s[n];if(ee(e)||je(e)){i=new Array(e.length);for(let r=0,a=e.length;r<a;r++)i[r]=t(e[r],r,void 0,o&&o[r])}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o&&o[r])}else if($e(e))if(e[Symbol.iterator])i=Array.from(e,(r,a)=>t(r,a,void 0,o&&o[a]));else{const r=Object.keys(e);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const h=r[a];i[a]=t(e[h],h,a,o&&o[a])}}else i=[];return s&&(s[n]=i),i}const vo=e=>e?uc(e)?Vi(e)||e.proxy:vo(e.parent):null,yi=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vo(e.parent),$root:e=>vo(e.root),$emit:e=>e.emit,$options:e=>ec(e),$forceUpdate:e=>e.f||(e.f=()=>Fl(e.update)),$nextTick:e=>e.n||(e.n=Vl.bind(e.proxy)),$watch:e=>Fh.bind(e)}),td={get({_:e},t){const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;let h;if(t[0]!=="$"){const b=r[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(n!==xe&&pe(n,t))return r[t]=1,n[t];if(i!==xe&&pe(i,t))return r[t]=2,i[t];if((h=e.propsOptions[0])&&pe(h,t))return r[t]=3,o[t];if(s!==xe&&pe(s,t))return r[t]=4,s[t];_o&&(r[t]=0)}}const c=yi[t];let f,u;if(c)return t==="$attrs"&&at(e,"get",t),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==xe&&pe(s,t))return r[t]=4,s[t];if(u=l.config.globalProperties,pe(u,t))return u[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return i!==xe&&pe(i,t)?(i[t]=s,!0):n!==xe&&pe(n,t)?(n[t]=s,!0):pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||e!==xe&&pe(e,r)||t!==xe&&pe(t,r)||(a=o[0])&&pe(a,r)||pe(n,r)||pe(yi,r)||pe(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:pe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let _o=!0;function sd(e){const t=ec(e),s=e.proxy,n=e.ctx;_o=!1,t.beforeCreate&&Ur(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:h,created:c,beforeMount:f,mounted:u,beforeUpdate:b,updated:C,activated:O,deactivated:I,beforeDestroy:E,beforeUnmount:H,destroyed:W,unmounted:R,render:Q,renderTracked:X,renderTriggered:te,errorCaptured:ue,serverPrefetch:J,expose:Te,inheritAttrs:ve,components:Se,directives:Pe,filters:Ke}=t;if(h&&nd(h,n,null,e.appContext.config.unwrapInjectedRef),r)for(const re in r){const fe=r[re];ce(fe)&&(n[re]=fe.bind(s))}if(i){const re=i.call(s,s);$e(re)&&(e.data=cn(re))}if(_o=!0,o)for(const re in o){const fe=o[re],Oe=ce(fe)?fe.bind(s,s):ce(fe.get)?fe.get.bind(s,s):_t,Ne=!ce(fe)&&ce(fe.set)?fe.set.bind(s):_t,Ye=Ae({get:Oe,set:Ne});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Ve=>Ye.value=Ve})}if(a)for(const re in a)Zl(a[re],n,s,re);if(l){const re=ce(l)?l.call(s):l;Reflect.ownKeys(re).forEach(fe=>{li(fe,re[fe])})}c&&Ur(c,e,"c");function de(re,fe){ee(fe)?fe.forEach(Oe=>re(Oe.bind(s))):fe&&re(fe.bind(s))}if(de(Gh,f),de(Xl,u),de(Wh,b),de(Yh,C),de(jh,O),de(Uh,I),de(Jh,ue),de(Xh,X),de(Qh,te),de(qh,H),de(Jo,R),de(Kh,J),ee(Te))if(Te.length){const re=e.exposed||(e.exposed={});Te.forEach(fe=>{Object.defineProperty(re,fe,{get:()=>s[fe],set:Oe=>s[fe]=Oe})})}else e.exposed||(e.exposed={});Q&&e.render===_t&&(e.render=Q),ve!=null&&(e.inheritAttrs=ve),Se&&(e.components=Se),Pe&&(e.directives=Pe)}function nd(e,t,s=_t,n=!1){ee(e)&&(e=To(e));for(const i in e){const o=e[i];let r;$e(o)?"default"in o?r=Lt(o.from||i,o.default,!0):r=Lt(o.from||i):r=Lt(o),qe(r)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[i]=r}}function Ur(e,t,s){Tt(ee(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Zl(e,t,s,n){const i=n.includes(".")?ql(s,n):()=>s[n];if(je(e)){const o=t[e];ce(o)&&Ts(i,o)}else if(ce(e))Ts(i,e.bind(s));else if($e(e))if(ee(e))e.forEach(o=>Zl(o,t,s,n));else{const o=ce(e.handler)?e.handler.bind(s):t[e.handler];ce(o)&&Ts(i,o,e)}}function ec(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(h=>vi(l,h,r,!0)),vi(l,t,r)),o.set(t,l),l}function vi(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&vi(e,o,s,!0),i&&i.forEach(r=>vi(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=id[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const id={data:zr,props:ps,emits:ps,methods:ps,computed:ps,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:ps,directives:ps,watch:rd,provide:zr,inject:od};function zr(e,t){return t?e?function(){return et(ce(e)?e.call(this,this):e,ce(t)?t.call(this,this):t)}:t:e}function od(e,t){return ps(To(e),To(t))}function To(e){if(ee(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function ps(e,t){return e?et(et(Object.create(null),e),t):t}function rd(e,t){if(!e)return t;if(!t)return e;const s=et(Object.create(null),e);for(const n in t)s[n]=Xe(e[n],t[n]);return s}function ad(e,t,s,n=!1){const i={},o={};pi(o,Hi,1),e.propsDefaults=Object.create(null),tc(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Eh(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function ld(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=ye(i),[l]=e.propsOptions;let h=!1;if((n||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let u=c[f];if(Mi(e.emitsOptions,u))continue;const b=t[u];if(l)if(pe(o,u))b!==o[u]&&(o[u]=b,h=!0);else{const C=Nt(u);i[C]=wo(l,a,C,b,e,!1)}else b!==o[u]&&(o[u]=b,h=!0)}}}else{tc(e,t,i,o)&&(h=!0);let c;for(const f in a)(!t||!pe(t,f)&&((c=rn(f))===f||!pe(t,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(i[f]=wo(l,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!pe(t,f)&&!0)&&(delete o[f],h=!0)}h&&jt(e,"set","$attrs")}function tc(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(ri(l))continue;const h=t[l];let c;i&&pe(i,c=Nt(l))?!o||!o.includes(c)?s[c]=h:(a||(a={}))[c]=h:Mi(e.emitsOptions,l)||(!(l in n)||h!==n[l])&&(n[l]=h,r=!0)}if(o){const l=ye(s),h=a||xe;for(let c=0;c<o.length;c++){const f=o[c];s[f]=wo(i,l,f,h[f],e,!pe(h,f))}}return r}function wo(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=pe(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&ce(l)){const{propsDefaults:h}=i;s in h?n=h[s]:(qs(i),n=h[s]=l.call(null,t),ws())}else n=l}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===rn(s))&&(n=!0))}return n}function sc(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!ce(e)){const c=f=>{l=!0;const[u,b]=sc(f,t,!0);et(r,u),b&&a.push(...b)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return n.set(e,Us),Us;if(ee(o))for(let c=0;c<o.length;c++){const f=Nt(o[c]);Gr(f)&&(r[f]=xe)}else if(o)for(const c in o){const f=Nt(c);if(Gr(f)){const u=o[c],b=r[f]=ee(u)||ce(u)?{type:u}:u;if(b){const C=qr(Boolean,b.type),O=qr(String,b.type);b[0]=C>-1,b[1]=O<0||C<O,(C>-1||pe(b,"default"))&&a.push(f)}}}const h=[r,a];return n.set(e,h),h}function Gr(e){return e[0]!=="$"}function Wr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Yr(e,t){return Wr(e)===Wr(t)}function qr(e,t){return ee(t)?t.findIndex(s=>Yr(s,e)):ce(t)&&Yr(t,e)?0:-1}const nc=e=>e[0]==="_"||e==="$stable",Zo=e=>ee(e)?e.map(Ot):[Ot(e)],cd=(e,t,s)=>{if(t._n)return t;const n=st((...i)=>Zo(t(...i)),s);return n._c=!1,n},ic=(e,t,s)=>{const n=e._ctx;for(const i in e){if(nc(i))continue;const o=e[i];if(ce(o))t[i]=cd(i,o,n);else if(o!=null){const r=Zo(o);t[i]=()=>r}}},oc=(e,t)=>{const s=Zo(t);e.slots.default=()=>s},ud=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=ye(t),pi(t,"_",s)):ic(t,e.slots={})}else e.slots={},t&&oc(e,t);pi(e.slots,Hi,1)},hd=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=xe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:(et(i,t),!s&&a===1&&delete i._):(o=!t.$stable,ic(t,i)),r=t}else t&&(oc(e,t),r={default:1});if(o)for(const a in i)!nc(a)&&!(a in r)&&delete i[a]};function rc(){return{app:null,config:{isNativeTag:Uu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dd=0;function fd(e,t){return function(n,i=null){ce(n)||(n=Object.assign({},n)),i!=null&&!$e(i)&&(i=null);const o=rc(),r=new Set;let a=!1;const l=o.app={_uid:dd++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Ld,get config(){return o.config},set config(h){},use(h,...c){return r.has(h)||(h&&ce(h.install)?(r.add(h),h.install(l,...c)):ce(h)&&(r.add(h),h(l,...c))),l},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),l},component(h,c){return c?(o.components[h]=c,l):o.components[h]},directive(h,c){return c?(o.directives[h]=c,l):o.directives[h]},mount(h,c,f){if(!a){const u=se(n,i);return u.appContext=o,c&&t?t(u,h):e(u,h,f),a=!0,l._container=h,h.__vue_app__=l,Vi(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,c){return o.provides[h]=c,l}};return l}}function Eo(e,t,s,n,i=!1){if(ee(e)){e.forEach((u,b)=>Eo(u,t&&(ee(t)?t[b]:t),s,n,i));return}if(ci(n)&&!i)return;const o=n.shapeFlag&4?Vi(n.component)||n.component.proxy:n.el,r=i?null:o,{i:a,r:l}=e,h=t&&t.r,c=a.refs===xe?a.refs={}:a.refs,f=a.setupState;if(h!=null&&h!==l&&(je(h)?(c[h]=null,pe(f,h)&&(f[h]=null)):qe(h)&&(h.value=null)),ce(l))is(l,a,12,[r,c]);else{const u=je(l),b=qe(l);if(u||b){const C=()=>{if(e.f){const O=u?c[l]:l.value;i?ee(O)&&jo(O,o):ee(O)?O.includes(o)||O.push(o):u?(c[l]=[o],pe(f,l)&&(f[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else u?(c[l]=r,pe(f,l)&&(f[l]=r)):b&&(l.value=r,e.k&&(c[e.k]=r))};r?(C.id=-1,tt(C,s)):C()}}}const tt=Vh;function pd(e){return md(e)}function md(e,t){const s=Ku();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:h,setElementText:c,parentNode:f,nextSibling:u,setScopeId:b=_t,cloneNode:C,insertStaticContent:O}=e,I=(p,g,v,A=null,S=null,N=null,B=!1,$=null,M=!!g.dynamicChildren)=>{if(p===g)return;p&&!mn(p,g)&&(A=z(p),Re(p,S,N,!0),p=null),g.patchFlag===-2&&(M=!1,g.dynamicChildren=null);const{type:P,ref:q,shapeFlag:G}=g;switch(P){case er:E(p,g,v,A);break;case xs:H(p,g,v,A);break;case ui:p==null&&W(g,v,A,B);break;case ae:Pe(p,g,v,A,S,N,B,$,M);break;default:G&1?X(p,g,v,A,S,N,B,$,M):G&6?Ke(p,g,v,A,S,N,B,$,M):(G&64||G&128)&&P.process(p,g,v,A,S,N,B,$,M,be)}q!=null&&S&&Eo(q,p&&p.ref,N,g||p,!g)},E=(p,g,v,A)=>{if(p==null)n(g.el=a(g.children),v,A);else{const S=g.el=p.el;g.children!==p.children&&h(S,g.children)}},H=(p,g,v,A)=>{p==null?n(g.el=l(g.children||""),v,A):g.el=p.el},W=(p,g,v,A)=>{[p.el,p.anchor]=O(p.children,g,v,A,p.el,p.anchor)},R=({el:p,anchor:g},v,A)=>{let S;for(;p&&p!==g;)S=u(p),n(p,v,A),p=S;n(g,v,A)},Q=({el:p,anchor:g})=>{let v;for(;p&&p!==g;)v=u(p),i(p),p=v;i(g)},X=(p,g,v,A,S,N,B,$,M)=>{B=B||g.type==="svg",p==null?te(g,v,A,S,N,B,$,M):Te(p,g,S,N,B,$,M)},te=(p,g,v,A,S,N,B,$)=>{let M,P;const{type:q,props:G,shapeFlag:Y,transition:Z,patchFlag:he,dirs:ge}=p;if(p.el&&C!==void 0&&he===-1)M=p.el=C(p.el);else{if(M=p.el=r(p.type,N,G&&G.is,G),Y&8?c(M,p.children):Y&16&&J(p.children,M,null,A,S,N&&q!=="foreignObject",B,$),ge&&us(p,null,A,"created"),G){for(const we in G)we!=="value"&&!ri(we)&&o(M,we,null,G[we],N,p.children,A,S,D);"value"in G&&o(M,"value",null,G.value),(P=G.onVnodeBeforeMount)&&It(P,A,p)}ue(M,p,p.scopeId,B,A)}ge&&us(p,null,A,"beforeMount");const _e=(!S||S&&!S.pendingBranch)&&Z&&!Z.persisted;_e&&Z.beforeEnter(M),n(M,g,v),((P=G&&G.onVnodeMounted)||_e||ge)&&tt(()=>{P&&It(P,A,p),_e&&Z.enter(M),ge&&us(p,null,A,"mounted")},S)},ue=(p,g,v,A,S)=>{if(v&&b(p,v),A)for(let N=0;N<A.length;N++)b(p,A[N]);if(S){let N=S.subTree;if(g===N){const B=S.vnode;ue(p,B,B.scopeId,B.slotScopeIds,S.parent)}}},J=(p,g,v,A,S,N,B,$,M=0)=>{for(let P=M;P<p.length;P++){const q=p[P]=$?es(p[P]):Ot(p[P]);I(null,q,g,v,A,S,N,B,$)}},Te=(p,g,v,A,S,N,B)=>{const $=g.el=p.el;let{patchFlag:M,dynamicChildren:P,dirs:q}=g;M|=p.patchFlag&16;const G=p.props||xe,Y=g.props||xe;let Z;v&&hs(v,!1),(Z=Y.onVnodeBeforeUpdate)&&It(Z,v,g,p),q&&us(g,p,v,"beforeUpdate"),v&&hs(v,!0);const he=S&&g.type!=="foreignObject";if(P?ve(p.dynamicChildren,P,$,v,A,he,N):B||Oe(p,g,$,null,v,A,he,N,!1),M>0){if(M&16)Se($,g,G,Y,v,A,S);else if(M&2&&G.class!==Y.class&&o($,"class",null,Y.class,S),M&4&&o($,"style",G.style,Y.style,S),M&8){const ge=g.dynamicProps;for(let _e=0;_e<ge.length;_e++){const we=ge[_e],ot=G[we],Gt=Y[we];(Gt!==ot||we==="value")&&o($,we,ot,Gt,S,p.children,v,A,D)}}M&1&&p.children!==g.children&&c($,g.children)}else!B&&P==null&&Se($,g,G,Y,v,A,S);((Z=Y.onVnodeUpdated)||q)&&tt(()=>{Z&&It(Z,v,g,p),q&&us(g,p,v,"updated")},A)},ve=(p,g,v,A,S,N,B)=>{for(let $=0;$<g.length;$++){const M=p[$],P=g[$],q=M.el&&(M.type===ae||!mn(M,P)||M.shapeFlag&70)?f(M.el):v;I(M,P,q,null,A,S,N,B,!0)}},Se=(p,g,v,A,S,N,B)=>{if(v!==A){for(const $ in A){if(ri($))continue;const M=A[$],P=v[$];M!==P&&$!=="value"&&o(p,$,P,M,B,g.children,S,N,D)}if(v!==xe)for(const $ in v)!ri($)&&!($ in A)&&o(p,$,v[$],null,B,g.children,S,N,D);"value"in A&&o(p,"value",v.value,A.value)}},Pe=(p,g,v,A,S,N,B,$,M)=>{const P=g.el=p?p.el:a(""),q=g.anchor=p?p.anchor:a("");let{patchFlag:G,dynamicChildren:Y,slotScopeIds:Z}=g;Z&&($=$?$.concat(Z):Z),p==null?(n(P,v,A),n(q,v,A),J(g.children,v,q,S,N,B,$,M)):G>0&&G&64&&Y&&p.dynamicChildren?(ve(p.dynamicChildren,Y,v,S,N,B,$),(g.key!=null||S&&g===S.subTree)&&ac(p,g,!0)):Oe(p,g,v,q,S,N,B,$,M)},Ke=(p,g,v,A,S,N,B,$,M)=>{g.slotScopeIds=$,p==null?g.shapeFlag&512?S.ctx.activate(g,v,A,B,M):Ue(g,v,A,S,N,B,M):de(p,g,M)},Ue=(p,g,v,A,S,N,B)=>{const $=p.component=xd(p,A,S);if(Kl(p)&&($.ctx.renderer=be),Sd($),$.asyncDep){if(S&&S.registerDep($,re),!p.el){const M=$.subTree=se(xs);H(null,M,g,v)}return}re($,p,g,v,S,N,B)},de=(p,g,v)=>{const A=g.component=p.component;if(Dh(p,g,v))if(A.asyncDep&&!A.asyncResolved){fe(A,g,v);return}else A.next=g,Oh(A.update),A.update();else g.el=p.el,A.vnode=g},re=(p,g,v,A,S,N,B)=>{const $=()=>{if(p.isMounted){let{next:q,bu:G,u:Y,parent:Z,vnode:he}=p,ge=q,_e;hs(p,!1),q?(q.el=he.el,fe(p,q,B)):q=he,G&&ai(G),(_e=q.props&&q.props.onVnodeBeforeUpdate)&&It(_e,Z,q,he),hs(p,!0);const we=Zi(p),ot=p.subTree;p.subTree=we,I(ot,we,f(ot.el),z(ot),p,S,N),q.el=we.el,ge===null&&Bh(p,we.el),Y&&tt(Y,S),(_e=q.props&&q.props.onVnodeUpdated)&&tt(()=>It(_e,Z,q,he),S)}else{let q;const{el:G,props:Y}=g,{bm:Z,m:he,parent:ge}=p,_e=ci(g);if(hs(p,!1),Z&&ai(Z),!_e&&(q=Y&&Y.onVnodeBeforeMount)&&It(q,ge,g),hs(p,!0),G&&ie){const we=()=>{p.subTree=Zi(p),ie(G,p.subTree,p,S,null)};_e?g.type.__asyncLoader().then(()=>!p.isUnmounted&&we()):we()}else{const we=p.subTree=Zi(p);I(null,we,v,A,p,S,N),g.el=we.el}if(he&&tt(he,S),!_e&&(q=Y&&Y.onVnodeMounted)){const we=g;tt(()=>It(q,ge,we),S)}(g.shapeFlag&256||ge&&ci(ge.vnode)&&ge.vnode.shapeFlag&256)&&p.a&&tt(p.a,S),p.isMounted=!0,g=v=A=null}},M=p.effect=new Go($,()=>Fl(P),p.scope),P=p.update=()=>M.run();P.id=p.uid,hs(p,!0),P()},fe=(p,g,v)=>{g.component=p;const A=p.vnode.props;p.vnode=g,p.next=null,ld(p,g.props,A,v),hd(p,g.children,v),an(),Ri(void 0,p.update),ln()},Oe=(p,g,v,A,S,N,B,$,M=!1)=>{const P=p&&p.children,q=p?p.shapeFlag:0,G=g.children,{patchFlag:Y,shapeFlag:Z}=g;if(Y>0){if(Y&128){Ye(P,G,v,A,S,N,B,$,M);return}else if(Y&256){Ne(P,G,v,A,S,N,B,$,M);return}}Z&8?(q&16&&D(P,S,N),G!==P&&c(v,G)):q&16?Z&16?Ye(P,G,v,A,S,N,B,$,M):D(P,S,N,!0):(q&8&&c(v,""),Z&16&&J(G,v,A,S,N,B,$,M))},Ne=(p,g,v,A,S,N,B,$,M)=>{p=p||Us,g=g||Us;const P=p.length,q=g.length,G=Math.min(P,q);let Y;for(Y=0;Y<G;Y++){const Z=g[Y]=M?es(g[Y]):Ot(g[Y]);I(p[Y],Z,v,null,S,N,B,$,M)}P>q?D(p,S,N,!0,!1,G):J(g,v,A,S,N,B,$,M,G)},Ye=(p,g,v,A,S,N,B,$,M)=>{let P=0;const q=g.length;let G=p.length-1,Y=q-1;for(;P<=G&&P<=Y;){const Z=p[P],he=g[P]=M?es(g[P]):Ot(g[P]);if(mn(Z,he))I(Z,he,v,null,S,N,B,$,M);else break;P++}for(;P<=G&&P<=Y;){const Z=p[G],he=g[Y]=M?es(g[Y]):Ot(g[Y]);if(mn(Z,he))I(Z,he,v,null,S,N,B,$,M);else break;G--,Y--}if(P>G){if(P<=Y){const Z=Y+1,he=Z<q?g[Z].el:A;for(;P<=Y;)I(null,g[P]=M?es(g[P]):Ot(g[P]),v,he,S,N,B,$,M),P++}}else if(P>Y)for(;P<=G;)Re(p[P],S,N,!0),P++;else{const Z=P,he=P,ge=new Map;for(P=he;P<=Y;P++){const Qe=g[P]=M?es(g[P]):Ot(g[P]);Qe.key!=null&&ge.set(Qe.key,P)}let _e,we=0;const ot=Y-he+1;let Gt=!1,Wn=0;const cs=new Array(ot);for(P=0;P<ot;P++)cs[P]=0;for(P=Z;P<=G;P++){const Qe=p[P];if(we>=ot){Re(Qe,S,N,!0);continue}let ut;if(Qe.key!=null)ut=ge.get(Qe.key);else for(_e=he;_e<=Y;_e++)if(cs[_e-he]===0&&mn(Qe,g[_e])){ut=_e;break}ut===void 0?Re(Qe,S,N,!0):(cs[ut-he]=P+1,ut>=Wn?Wn=ut:Gt=!0,I(Qe,g[ut],v,null,S,N,B,$,M),we++)}const Wt=Gt?gd(cs):Us;for(_e=Wt.length-1,P=ot-1;P>=0;P--){const Qe=he+P,ut=g[Qe],Dt=Qe+1<q?g[Qe+1].el:A;cs[P]===0?I(null,ut,v,Dt,S,N,B,$,M):Gt&&(_e<0||P!==Wt[_e]?Ve(ut,v,Dt,2):_e--)}}},Ve=(p,g,v,A,S=null)=>{const{el:N,type:B,transition:$,children:M,shapeFlag:P}=p;if(P&6){Ve(p.component.subTree,g,v,A);return}if(P&128){p.suspense.move(g,v,A);return}if(P&64){B.move(p,g,v,be);return}if(B===ae){n(N,g,v);for(let G=0;G<M.length;G++)Ve(M[G],g,v,A);n(p.anchor,g,v);return}if(B===ui){R(p,g,v);return}if(A!==2&&P&1&&$)if(A===0)$.beforeEnter(N),n(N,g,v),tt(()=>$.enter(N),S);else{const{leave:G,delayLeave:Y,afterLeave:Z}=$,he=()=>n(N,g,v),ge=()=>{G(N,()=>{he(),Z&&Z()})};Y?Y(N,he,ge):ge()}else n(N,g,v)},Re=(p,g,v,A=!1,S=!1)=>{const{type:N,props:B,ref:$,children:M,dynamicChildren:P,shapeFlag:q,patchFlag:G,dirs:Y}=p;if($!=null&&Eo($,null,v,p,!0),q&256){g.ctx.deactivate(p);return}const Z=q&1&&Y,he=!ci(p);let ge;if(he&&(ge=B&&B.onVnodeBeforeUnmount)&&It(ge,g,p),q&6)V(p.component,v,A);else{if(q&128){p.suspense.unmount(v,A);return}Z&&us(p,null,g,"beforeUnmount"),q&64?p.type.remove(p,g,v,S,be,A):P&&(N!==ae||G>0&&G&64)?D(P,g,v,!1,!0):(N===ae&&G&384||!S&&q&16)&&D(M,g,v),A&&Le(p)}(he&&(ge=B&&B.onVnodeUnmounted)||Z)&&tt(()=>{ge&&It(ge,g,p),Z&&us(p,null,g,"unmounted")},v)},Le=p=>{const{type:g,el:v,anchor:A,transition:S}=p;if(g===ae){x(v,A);return}if(g===ui){Q(p);return}const N=()=>{i(v),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:B,delayLeave:$}=S,M=()=>B(v,N);$?$(p.el,N,M):M()}else N()},x=(p,g)=>{let v;for(;p!==g;)v=u(p),i(p),p=v;i(g)},V=(p,g,v)=>{const{bum:A,scope:S,update:N,subTree:B,um:$}=p;A&&ai(A),S.stop(),N&&(N.active=!1,Re(B,p,g,v)),$&&tt($,g),tt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},D=(p,g,v,A=!1,S=!1,N=0)=>{for(let B=N;B<p.length;B++)Re(p[B],g,v,A,S)},z=p=>p.shapeFlag&6?z(p.component.subTree):p.shapeFlag&128?p.suspense.next():u(p.anchor||p.el),me=(p,g,v)=>{p==null?g._vnode&&Re(g._vnode,null,null,!0):I(g._vnode||null,p,g,null,null,null,v),zl(),g._vnode=p},be={p:I,um:Re,m:Ve,r:Le,mt:Ue,mc:J,pc:Oe,pbc:ve,n:z,o:e};let oe,ie;return t&&([oe,ie]=t(be)),{render:me,hydrate:oe,createApp:fd(me,oe)}}function hs({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function ac(e,t,s=!1){const n=e.children,i=t.children;if(ee(n)&&ee(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=es(i[o]),a.el=r.el),s||ac(r,a))}}function gd(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const h=e[n];if(h!==0){if(i=s[s.length-1],e[i]<h){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<h?o=a+1:r=a;h<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}const bd=e=>e.__isTeleport,ae=Symbol(void 0),er=Symbol(void 0),xs=Symbol(void 0),ui=Symbol(void 0),xn=[];let vt=null;function T(e=!1){xn.push(vt=e?null:[])}function yd(){xn.pop(),vt=xn[xn.length-1]||null}let Dn=1;function Kr(e){Dn+=e}function lc(e){return e.dynamicChildren=Dn>0?vt||Us:null,yd(),Dn>0&&vt&&vt.push(e),e}function w(e,t,s,n,i,o){return lc(m(e,t,s,n,i,o,!0))}function vd(e,t,s,n,i){return lc(se(e,t,s,n,i,!0))}function Co(e){return e?e.__v_isVNode===!0:!1}function mn(e,t){return e.type===t.type&&e.key===t.key}const Hi="__vInternal",cc=({key:e})=>e!=null?e:null,hi=({ref:e,ref_key:t,ref_for:s})=>e!=null?je(e)||qe(e)||ce(e)?{i:yt,r:e,k:t,f:!!s}:e:null;function m(e,t=null,s=null,n=0,i=null,o=e===ae?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cc(t),ref:t&&hi(t),scopeId:Di,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(sr(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=je(s)?8:16),Dn>0&&!r&&vt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&vt.push(l),l}const se=_d;function _d(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===Zh)&&(e=xs),Co(e)){const a=Ys(e,t,!0);return s&&sr(a,s),Dn>0&&!o&&vt&&(a.shapeFlag&6?vt[vt.indexOf(e)]=a:vt.push(a)),a.patchFlag|=-2,a}if(Od(e)&&(e=e.__vccOpts),t){t=Td(t);let{class:a,style:l}=t;a&&!je(a)&&(t.class=Ie(a)),$e(l)&&($l(l)&&!ee(l)&&(l=et({},l)),t.style=Ho(l))}const r=je(e)?1:Hh(e)?128:bd(e)?64:$e(e)?4:ce(e)?2:0;return m(e,t,s,n,i,r,o,!0)}function Td(e){return e?$l(e)||Hi in e?et({},e):e:null}function Ys(e,t,s=!1){const{props:n,ref:i,patchFlag:o,children:r}=e,a=t?wd(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&cc(a),ref:t&&t.ref?s&&i?ee(i)?i.concat(hi(t)):[i,hi(t)]:hi(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ae?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ys(e.ssContent),ssFallback:e.ssFallback&&Ys(e.ssFallback),el:e.el,anchor:e.anchor}}function K(e=" ",t=0){return se(er,null,e,t)}function tr(e,t){const s=se(ui,null,e);return s.staticCount=t,s}function j(e="",t=!1){return t?(T(),vd(xs,null,e)):se(xs,null,e)}function Ot(e){return e==null||typeof e=="boolean"?se(xs):ee(e)?se(ae,null,e.slice()):typeof e=="object"?es(e):se(er,null,String(e))}function es(e){return e.el===null||e.memo?e:Ys(e)}function sr(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ee(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),sr(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(Hi in t)?t._ctx=yt:i===3&&yt&&(yt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ce(t)?(t={default:t,_ctx:yt},s=32):(t=String(t),n&64?(s=16,t=[K(t)]):s=8);e.children=t,e.shapeFlag|=s}function wd(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Ie([t.class,n.class]));else if(i==="style")t.style=Ho([t.style,n.style]);else if(Pi(i)){const o=t[i],r=n[i];r&&o!==r&&!(ee(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function It(e,t,s,n=null){Tt(e,t,7,[s,n])}const Ed=rc();let Cd=0;function xd(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||Ed,o={uid:Cd++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Qu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sc(n,i),emitsOptions:Wl(n,i),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:n.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Nh.bind(null,o),e.ce&&e.ce(o),o}let Ge=null;const qs=e=>{Ge=e,e.scope.on()},ws=()=>{Ge&&Ge.scope.off(),Ge=null};function uc(e){return e.vnode.shapeFlag&4}let Bn=!1;function Sd(e,t=!1){Bn=t;const{props:s,children:n}=e.vnode,i=uc(e);ad(e,s,i,t),ud(e,n);const o=i?kd(e,t):void 0;return Bn=!1,o}function kd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Nl(new Proxy(e.ctx,td));const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?Id(e):null;qs(e),an();const o=is(n,e,0,[e.props,i]);if(ln(),ws(),vl(o)){if(o.then(ws,ws),t)return o.then(r=>{Qr(e,r,t)}).catch(r=>{Ni(r,e,0)});e.asyncDep=o}else Qr(e,o,t)}else hc(e,t)}function Qr(e,t,s){ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Bl(t)),hc(e,s)}let Xr;function hc(e,t,s){const n=e.type;if(!e.render){if(!t&&Xr&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,h=et(et({isCustomElement:o,delimiters:a},r),l);n.render=Xr(i,h)}}e.render=n.render||_t}qs(e),an(),sd(e),ln(),ws()}function Ad(e){return new Proxy(e.attrs,{get(t,s){return at(e,"get","$attrs"),t[s]}})}function Id(e){const t=n=>{e.exposed=n||{}};let s;return{get attrs(){return s||(s=Ad(e))},slots:e.slots,emit:e.emit,expose:t}}function Vi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Bl(Nl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in yi)return yi[s](e)}}))}function Pd(e,t=!0){return ce(e)?e.displayName||e.name:e.name||t&&e.__name}function Od(e){return ce(e)&&"__vccOpts"in e}const Ae=(e,t)=>Ah(e,t,Bn);function dc(e,t,s){const n=arguments.length;return n===2?$e(t)&&!ee(t)?Co(t)?se(e,null,[t]):se(e,t):se(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Co(s)&&(s=[s]),se(e,t,s))}const Ld="3.2.37",$d="http://www.w3.org/2000/svg",gs=typeof document<"u"?document:null,Jr=gs&&gs.createElement("template"),Nd={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t?gs.createElementNS($d,e):gs.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>gs.createTextNode(e),createComment:e=>gs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Jr.innerHTML=n?`<svg>${e}</svg>`:e;const a=Jr.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function Rd(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function Md(e,t,s){const n=e.style,i=je(s);if(s&&!i){for(const o in s)xo(n,o,s[o]);if(t&&!je(t))for(const o in t)s[o]==null&&xo(n,o,"")}else{const o=n.display;i?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Zr=/\s*!important$/;function xo(e,t,s){if(ee(s))s.forEach(n=>xo(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Dd(e,t);Zr.test(s)?e.setProperty(rn(n),s.replace(Zr,""),"important"):e[n]=s}}const ea=["Webkit","Moz","ms"],eo={};function Dd(e,t){const s=eo[t];if(s)return s;let n=Nt(t);if(n!=="filter"&&n in e)return eo[t]=n;n=Li(n);for(let i=0;i<ea.length;i++){const o=ea[i]+n;if(o in e)return eo[t]=o}return t}const ta="http://www.w3.org/1999/xlink";function Bd(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(ta,t.slice(6,t.length)):e.setAttributeNS(ta,t,s);else{const o=Bu(t);s==null||o&&!bl(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function Hd(e,t,s,n,i,o,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,i,o),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const l=s==null?"":s;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),s==null&&e.removeAttribute(t);return}let a=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=bl(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(t)}const[fc,Vd]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let So=0;const Fd=Promise.resolve(),jd=()=>{So=0},Ud=()=>So||(Fd.then(jd),So=fc());function ss(e,t,s,n){e.addEventListener(t,s,n)}function zd(e,t,s,n){e.removeEventListener(t,s,n)}function Gd(e,t,s,n,i=null){const o=e._vei||(e._vei={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=Wd(t);if(n){const h=o[t]=Yd(n,i);ss(e,a,h,l)}else r&&(zd(e,a,r,l),o[t]=void 0)}}const sa=/(?:Once|Passive|Capture)$/;function Wd(e){let t;if(sa.test(e)){t={};let s;for(;s=e.match(sa);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[rn(e.slice(2)),t]}function Yd(e,t){const s=n=>{const i=n.timeStamp||fc();(Vd||i>=s.attached-1)&&Tt(qd(n,s.value),t,5,[n])};return s.value=e,s.attached=Ud(),s}function qd(e,t){if(ee(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const na=/^on[a-z]/,Kd=(e,t,s,n,i=!1,o,r,a,l)=>{t==="class"?Rd(e,n,i):t==="style"?Md(e,s,n):Pi(t)?Fo(t)||Gd(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qd(e,t,n,i))?Hd(e,t,n,o,r,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Bd(e,t,n,i))};function Qd(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&na.test(t)&&ce(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||na.test(t)&&je(s)?!1:t in e}const Ks=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ee(t)?s=>ai(t,s):t};function Xd(e){e.target.composing=!0}function ia(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hn={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e._assign=Ks(i);const o=n||i.props&&i.props.type==="number";ss(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=mi(a)),e._assign(a)}),s&&ss(e,"change",()=>{e.value=e.value.trim()}),t||(ss(e,"compositionstart",Xd),ss(e,"compositionend",ia),ss(e,"change",ia))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:i}},o){if(e._assign=Ks(o),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(i||e.type==="number")&&mi(e.value)===t))return;const r=t==null?"":t;e.value!==r&&(e.value=r)}},wt={deep:!0,created(e,t,s){e._assign=Ks(s),ss(e,"change",()=>{const n=e._modelValue,i=Vn(e),o=e.checked,r=e._assign;if(ee(n)){const a=Vo(n,i),l=a!==-1;if(o&&!l)r(n.concat(i));else if(!o&&l){const h=[...n];h.splice(a,1),r(h)}}else if(on(n)){const a=new Set(n);o?a.add(i):a.delete(i),r(a)}else r(pc(e,o))})},mounted:oa,beforeUpdate(e,t,s){e._assign=Ks(s),oa(e,t,s)}};function oa(e,{value:t,oldValue:s},n){e._modelValue=t,ee(t)?e.checked=Vo(t,n.props.value)>-1:on(t)?e.checked=t.has(n.props.value):t!==s&&(e.checked=jn(t,pc(e,!0)))}const ti={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=on(t);ss(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?mi(Vn(r)):Vn(r));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=Ks(n)},mounted(e,{value:t}){ra(e,t)},beforeUpdate(e,t,s){e._assign=Ks(s)},updated(e,{value:t}){ra(e,t)}};function ra(e,t){const s=e.multiple;if(!(s&&!ee(t)&&!on(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],r=Vn(o);if(s)ee(t)?o.selected=Vo(t,r)>-1:o.selected=t.has(r);else if(jn(Vn(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Vn(e){return"_value"in e?e._value:e.value}function pc(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Jd=et({patchProp:Kd},Nd);let aa;function Zd(){return aa||(aa=pd(Jd))}const ef=(...e)=>{const t=Zd().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=tf(n);if(!i)return;const o=t._component;!ce(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function tf(e){return je(e)?document.querySelector(e):e}const la="Guest_",xt={data(){return{token:null}},computed:{authenticated(){let e=this.$store.getters.user;return!!(e&&e.token&&!e.token.startsWith("null")&&!e.token.startsWith("Guest:"))},userName(){var e;return(e=this.$store.getters.user)==null?void 0:e.name},user(){return this.$store.getters.user}},created(){},methods:{getToken(){const e=this.$store.getters.user;return e?e.token:null},logout(){return this.$store.dispatch("logout",this.$store.getters.user)}}},sf=De({name:"NavbarTop",mixins:[xt],props:{msg:String},data(){return{toggle:!1}},created(){},computed:{loading(){return this.$store.getters.loadingStatus}},methods:{}}),He=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},nf={class:"navbar navbar-expand-lg navbar-light rounded",style:{"background-color":"#BC8F8F"}},of={key:0,class:"container-fluid"},rf=m("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[m("span",{class:"navbar-toggler-icon"})],-1),af={id:"navbarSupportedContent",class:"collapse navbar-collapse"},lf={class:"navbar-nav me-auto mb-2 mb-lg-0"},cf={class:"nav-item"},uf=K("Home"),hf={class:"nav-item"},df=K("Games"),ff={key:0,class:"nav-item"},pf=K("Registration"),mf={class:"nav-item"},gf=K(" Terms and conditions "),bf={class:"nav-item"},yf=m("i",{class:"bi bi-megaphone"},null,-1),vf=K(" Top lists "),_f={class:"nav-item"},Tf=K(" Feedback "),wf={class:"nav-item"},Ef=K(" Game instructions "),Cf={class:"navbar-nav ms-auto"},xf={class:"nav-item dropdown"},Sf=m("i",{class:"bi bi-person-fill"},null,-1),kf=K(" User "),Af=[Sf,kf],If={key:0},Pf=K("Show profile"),Of={key:1},Lf=K("Logout"),$f={key:2},Nf=K(" Login "),Rf={key:1,class:"container-fluid"},Mf=m("div",{class:"spinner-border",role:"status"},[m("span",{class:"sr-only"})],-1),Df=[Mf];function Bf(e,t,s,n,i,o){const r=Et("router-link");return T(),w("nav",nf,[e.loading?j("",!0):(T(),w("div",of,[rf,m("div",af,[m("ul",lf,[m("li",cf,[se(r,{class:"nav-link",to:{name:"Home"}},{default:st(()=>[uf]),_:1})]),m("li",hf,[se(r,{class:"nav-link",to:{name:"Lobby"}},{default:st(()=>[df]),_:1})]),e.authenticated?j("",!0):(T(),w("li",ff,[se(r,{class:"nav-link",to:{name:"Registration"}},{default:st(()=>[pf]),_:1})])),m("li",mf,[se(r,{class:"nav-link",to:{name:"Info"}},{default:st(()=>[gf]),_:1})]),m("li",bf,[se(r,{class:"nav-link",to:{name:"TopLists"}},{default:st(()=>[yf,vf]),_:1})]),m("li",_f,[se(r,{class:"nav-link",to:{name:"Feedback"}},{default:st(()=>[Tf]),_:1})]),m("li",wf,[se(r,{class:"nav-link",to:{name:"Instructions"}},{default:st(()=>[Ef]),_:1})])]),m("ul",Cf,[m("li",xf,[m("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button",onClick:t[0]||(t[0]=a=>e.toggle=!e.toggle),"data-bs-toggle":"dropdown","aria-expanded":"false"},Af),m("ul",{class:Ie(["dropdown-menu ms-auto",{show:e.toggle}]),"aria-labelledby":"navbarDropdown",onClick:t[1]||(t[1]=a=>e.toggle=!e.toggle)},[e.authenticated?(T(),w("li",If,[se(r,{class:"dropdown-item",to:{name:"Profile",params:{selectedName:e.userName}}},{default:st(()=>[Pf]),_:1},8,["to"])])):j("",!0),e.authenticated?(T(),w("li",Of,[se(r,{onClick:e.logout,class:"dropdown-item",to:{name:"Login"}},{default:st(()=>[Lf]),_:1},8,["onClick"])])):j("",!0),e.authenticated?j("",!0):(T(),w("li",$f,[se(r,{class:"dropdown-item",to:{name:"Login"}},{default:st(()=>[Nf]),_:1})]))],2)])])])])),e.loading?(T(),w("div",Rf,Df)):j("",!0)])}const Hf=He(sf,[["render",Bf]]),Vf=De({name:"Games",components:{NavbarTop:Hf},mixins:[xt],data(){return{title:""}},async created(){if(!this.user){const e=sessionStorage.getItem("userName"),t=sessionStorage.getItem("token");let s={name:e,token:t,webSocket:null};e&&e.startsWith("Anon"),await this.$store.dispatch("setUser",s)}},methods:{}});const Ff={class:"container"},jf=m("header",null,[m("h2",null,"Welcomes you!")],-1),Uf=m("footer",null,null,-1);function zf(e,t,s,n,i,o){const r=Et("NavbarTop"),a=Et("router-view");return T(),w("div",Ff,[jf,se(r),se(a),Uf])}const Gf=He(Vf,[["render",zf]]),Wf=De({name:"Login",mixins:[xt],props:{token:String},data(){return{loginToken:null,usrNameTemp:null,usrPwTemp:null,loginError:null,loginRequestOnTheFly:!1}},computed:{isLoginButtonDisabled(){return this.loginRequestOnTheFly?!0:this.usrNameTemp&&this.usrPwTemp?this.usrNameTemp.length<1||this.usrPwTemp.length<1:!0},errorFromLogin(){return this.loginError!=null}},created(){},methods:{login(){this.logout().then(()=>{this.loginError=null,this.loginRequestOnTheFly=!0;const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify({userName:this.usrNameTemp,password:this.usrPwTemp})},t="http://35.217.7.146/portal/api/user/login";this.$store.dispatch("setLoadingStatus",!0),fetch(t,e).then(s=>(this.resetLoginData(),s.status!==200?Promise.reject("error in login"):s.json())).then(s=>{let n={name:s.name,token:s.activeLoginId};this.$store.dispatch("setUser",n)},()=>{this.loginError=!0}).finally(()=>{this.loginRequestOnTheFly=!1,this.$store.dispatch("setLoadingStatus",!1)})})},resetLoginData(){this.usrName=null,this.pw=null}}}),Yf={key:0,class:"row"},qf={class:"row"},Kf={class:"col-md-6 offset-md-3 alert alert-info"},Qf=m("br",null,null,-1),Xf={key:1,class:"row"},Jf={class:"col m-2"},Zf=m("h3",null,"Login ",-1),ep=K(" UserName: "),tp=m("br",null,null,-1),sp={key:2,class:"row"},np={class:"col m-2"},ip=K(" Password: "),op=["disabled"],rp={key:3,class:"row d-inline-flex p-2 alert-danger",role:"alert"};function ap(e,t,s,n,i,o){return T(),w(ae,null,[e.authenticated?(T(),w("div",Yf,[m("div",qf,[m("div",Kf,[K(" Welcome "+F(e.userName)+" ",1),Qf])])])):j("",!0),e.authenticated?j("",!0):(T(),w("div",Xf,[m("div",Jf,[Zf,m("div",null,[ep,Me(m("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.usrNameTemp=r),class:"p-3",type:"text"},null,512),[[Hn,e.usrNameTemp]]),tp])])])),e.authenticated?j("",!0):(T(),w("div",sp,[m("div",np,[ip,Me(m("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.usrPwTemp=r),class:"p-3",type:"password"},null,512),[[Hn,e.usrPwTemp]]),m("div",null,[m("button",{onClick:t[2]||(t[2]=(...r)=>e.login&&e.login(...r)),disabled:e.isLoginButtonDisabled},"Login",8,op)])])])),e.errorFromLogin?(T(),w("div",rp," Login error occured! ")):j("",!0)],64)}const lp=He(Wf,[["render",ap]]);var _i=(e=>(e.O="O",e.X="X",e))(_i||{}),Tn=(e=>(e.GAME="G",e.RESIGNITION="R",e))(Tn||{}),mc=(e=>(e[e.WIN_BY_PLAY=1]="WIN_BY_PLAY",e[e.WIN_BY_TIME=2]="WIN_BY_TIME",e[e.WIN_BY_RESIGNATION=3]="WIN_BY_RESIGNATION",e[e.WIN_BY_DISCONNECT=4]="WIN_BY_DISCONNECT",e[e.DRAW=5]="DRAW",e[e.LEFT_TABLE=6]="LEFT_TABLE",e))(mc||{});function cp(e){return new Date(e).toLocaleDateString()}function to(e){if(e.initialRanking>=0&&e.finalRanking>=0){const t=e.finalRanking>=e.initialRanking?"+":"-",s=Math.abs(e.initialRanking-e.finalRanking),n=t.concat(s.toFixed());return"("+n+")"}}function di(e){return e==null?void 0:e.toFixed()}const Fi={data(){return{token:null}},computed:{resignButtonDisabled(){var e;return(e=this.$store.getters)==null||e.theTable,this.watch||this.theTable&&!this.theTable.playerInTurn?!0:this.theTable.playerInTurn.name!==this.userName},rematchButtonEnabled(){const e=this.$store.getters.theTable;return e?!this.watch&&e.playerInTurn===null:!1},resignButtonVisible(){var t,s;const e=this.$store.getters.theTable;return e?this.userName===((t=e.playerA)==null?void 0:t.name)||this.userName===((s=e.playerB)==null?void 0:s.name):!1},theTable(){return this.$store.getters.theTable}},timeLeft(){return this.secondsLeft},theTable(){return this.$store.getters.theTable},watchers(){return this.$store.getters.theTable.watchers},created(){var e,t;((t=(e=this.theTable)==null?void 0:e.playerInTurn)==null?void 0:t.name)===this.userName&&(this.startTime=120)},methods:{stopReducer(){clearInterval(this.redurcerInterval),this.secondsLeft=null},playMoveNotification(){if(this.soundOn){const e=new window.AudioContext,t=e.createOscillator();t.type="sine",t.frequency.setValueAtTime(446,e.currentTime),t.connect(e.destination),t.start(),setTimeout(()=>{t.stop()},250)}},removeMouseListeners(){this.canvas.removeEventListener("click",this.handleClick,!1)},disableBoard(){console.log("disable")},rematch(){const e={title:"REMATCH",message:""};this.user.webSocket.send(JSON.stringify(e))},resign(){const e={title:"RESIGN",message:this.tablea};this.user.webSocket.send(JSON.stringify(e))},leaveTable(){var t,s;const e={title:"LEAVE_TABLE",message:this.theTable.tableId};(s=(t=this==null?void 0:this.user)==null?void 0:t.webSocket)==null||s.send(JSON.stringify(e)),this.$store.dispatch("clearTable")},openTable(e){this.$router.push({name:this.getTableName(e.gameMode.gameNumber),id:e.tableId})},openWatcherTable(e){this.$router.push({name:this.getTableName(e.gameMode.gameNumber),id:e.tableId,params:{watch:"1"}})},getTableName(e){if(e===1)return"TableTicTacToe";if(e===2)return"TableConnectFour";if(e===3)return"PoolTable";if(e===4)return"YatzyTable"},getAllTimeControls(){return[{id:0,seconds:10},{id:1,seconds:15},{id:2,seconds:20},{id:3,seconds:30},{id:4,seconds:45},{id:5,seconds:60},{id:6,seconds:90},{id:7,seconds:240},{id:8,seconds:300}]},getTableTimeControl(e){return this.getAllTimeControls()[e.timeControlIndex].seconds},isPlayerInTurn(e){return this.theTable.playerInTurn.name===e},isTurnChange(e){return this.$store.getters.playerInTurn.name!==e},isTurnChangeToMe(e){return e.playerInTurn.name===this.userName&&this.$store.getters.playerInTurn.name!==this.userName},isTurnChangeFromMe(e){return e.playerInTurn.name!==this.userName&&this.$store.getters.playerInTurn.name===this.userName},isTurnChangeToMe2(e){return console.log("isTurnChangeToMe2 nextPlayer:"+e+"  storePlayerinInTurn "+this.$store.getters.playerInTurn.name+"  myName:"+this.userName),e===this.userName&&this.$store.getters.playerInTurn.name!==this.userName},shouldChangeTurn(e){return!(!this.$store.getters.playerInTurn||this.$store.getters.playerInTurn.name===e.name)},async changeTurnIfRequired(e){this.shouldChangeTurn(e)&&await this.$store.dispatch("changeTurn",e)},isMe(e){return this.userName===e},isMyTurnInStore(){var e,t;return((t=(e=this.theTable)==null?void 0:e.playerInTurn)==null?void 0:t.name)===this.userName},isOnTable(e){return e.gameMode.gameNumber<4?e.playerA.name===this.userName||e.playerB.name===this.userName:e.players.filter(s=>s.name===this.userName).length>0},playNotificationSound(){const e=new window.AudioContext,t=e.createOscillator();t.type="sine",t.frequency.setValueAtTime(446,e.currentTime),t.connect(e.destination),t.start(),setTimeout(()=>{t.stop()},500)}}},gc={mixins:[xt,Fi],data(){return{p:0}},computed:{},created(){},methods:{sendPocketSelection(e){e=e===null?0:e;const t={title:"POOL_SELECT_POCKET",message:this.theTable.tableId,pool:{selectedPocket:e}};console.log("*** Sending pocket selection to server"+JSON.stringify(t)),this.user.webSocket.send(JSON.stringify(t))},hb(e,t,s){let i={position:{x:e,y:t}};const o={title:"POOL_HANDBALL",message:this.theTable.tableId,pool:{cueBall:i,canvas:{x:s.width,y:s.height}}};console.log("*** Sending handball to server"+JSON.stringify(o)),this.user.webSocket.send(JSON.stringify(o))},sendTurn(e,t,s){const n={title:"POOL_PLAY_TURN",message:this.theTable.tableId,pool:{cue:this.prepareTransfer(e),cueBall:this.prepareTransfer(t),canvas:{x:s.width,y:s.height}}};console.log("*** Sending turn to server"+JSON.stringify(n)),this.user.webSocket.send(JSON.stringify(n))},sp(e,t,s){const n={title:"POOL_UPDATE",message:this.theTable.tableId,pool:{cue:this.prepareTransfer(e),cueBall:this.prepareTransfer(t),canvas:{x:s.width,y:s.height}}};this.user.webSocket.send(JSON.stringify(n))},prepareHandBall(e){const{image:t,color:s,...n}=e;return n},prepareTransfer(e){const{image:t,color:s,...n}=e;return n},t(e,t,s,n,i,o=!1){this.p||(this.p=0<=0,setTimeout(()=>{e(s,n,i),this.p=atob("dHJ1ZQ==")<"m"?"YmFzZTY0IGlzIG5vIGVuY3J5cHRpb24gCg==":.1+.2==.3},t))},isHandBall(e){return e.pool.turnResult==="HANDBALL"},isOngoingGame(){return this.theTable?!!this.theTable.playerInTurn:!1},getClosestPocket(e){return e.offsetY<this.canvas.height/2?e.offsetX<this.canvas.width/3?0:e.offsetX<this.canvas.width*.66?1:2:e.offsetX<this.canvas.width/3?5:e.offsetX<this.canvas.width*.66?4:3}}};function up(){return bc().__VUE_DEVTOOLS_GLOBAL_HOOK__}function bc(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const hp=typeof Proxy=="function",dp="devtools-plugin:setup",fp="plugin:settings:set";class pp{constructor(t,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=s;const n={};if(t.settings)for(const r in t.settings){const a=t.settings[r];n[r]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},n);try{const r=localStorage.getItem(i),a=JSON.parse(r);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(r){try{localStorage.setItem(i,JSON.stringify(r))}catch{}o=r}},s&&s.on(fp,(r,a)=>{r===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(r,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(r,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:a,args:l,resolve:h})})})}async setRealTarget(t){this.target=t;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function mp(e,t){const s=bc(),n=up(),i=hp&&e.enableEarlyProxy;if(n&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))n.emit(dp,e,t);else{const o=i?new pp(e,n):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var yc="store";function gp(e){return e===void 0&&(e=null),Lt(e!==null?e:yc)}function dn(e,t){Object.keys(e).forEach(function(s){return t(e[s],s)})}function bp(e){return e!==null&&typeof e=="object"}function yp(e){return e&&typeof e.then=="function"}function vp(e,t){return function(){return e(t)}}function vc(e,t,s){return t.indexOf(e)<0&&(s&&s.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function _c(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var s=e.state;ji(e,s,[],e._modules.root,!0),nr(e,s,t)}function nr(e,t,s){var n=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};dn(i,function(r,a){o[a]=vp(r,e),Object.defineProperty(e.getters,a,{get:function(){return o[a]()},enumerable:!0})}),e._state=cn({data:t}),e.strict&&Cp(e),n&&s&&e._withCommit(function(){n.data=null})}function ji(e,t,s,n,i){var o=!s.length,r=e._modules.getNamespace(s);if(n.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=n),!o&&!i){var a=ir(t,s.slice(0,-1)),l=s[s.length-1];e._withCommit(function(){a[l]=n.state})}var h=n.context=_p(e,r,s);n.forEachMutation(function(c,f){var u=r+f;Tp(e,u,c,h)}),n.forEachAction(function(c,f){var u=c.root?f:r+f,b=c.handler||c;wp(e,u,b,h)}),n.forEachGetter(function(c,f){var u=r+f;Ep(e,u,c,h)}),n.forEachChild(function(c,f){ji(e,t,s.concat(f),c,i)})}function _p(e,t,s){var n=t==="",i={dispatch:n?e.dispatch:function(o,r,a){var l=Ti(o,r,a),h=l.payload,c=l.options,f=l.type;return(!c||!c.root)&&(f=t+f),e.dispatch(f,h)},commit:n?e.commit:function(o,r,a){var l=Ti(o,r,a),h=l.payload,c=l.options,f=l.type;(!c||!c.root)&&(f=t+f),e.commit(f,h,c)}};return Object.defineProperties(i,{getters:{get:n?function(){return e.getters}:function(){return Tc(e,t)}},state:{get:function(){return ir(e.state,s)}}}),i}function Tc(e,t){if(!e._makeLocalGettersCache[t]){var s={},n=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,n)===t){var o=i.slice(n);Object.defineProperty(s,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=s}return e._makeLocalGettersCache[t]}function Tp(e,t,s,n){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(r){s.call(e,n.state,r)})}function wp(e,t,s,n){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(r){var a=s.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},r);return yp(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function Ep(e,t,s,n){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return s(n.state,n.getters,o.state,o.getters)})}function Cp(e){Ts(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function ir(e,t){return t.reduce(function(s,n){return s[n]},e)}function Ti(e,t,s){return bp(e)&&e.type&&(s=t,t=e,e=e.type),{type:e,payload:t,options:s}}var xp="vuex bindings",ca="vuex:mutations",so="vuex:actions",Rs="vuex",Sp=0;function kp(e,t){mp({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[xp]},function(s){s.addTimelineLayer({id:ca,label:"Vuex Mutations",color:ua}),s.addTimelineLayer({id:so,label:"Vuex Actions",color:ua}),s.addInspector({id:Rs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),s.on.getInspectorTree(function(n){if(n.app===e&&n.inspectorId===Rs)if(n.filter){var i=[];xc(i,t._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[Cc(t._modules.root,"")]}),s.on.getInspectorState(function(n){if(n.app===e&&n.inspectorId===Rs){var i=n.nodeId;Tc(t,i),n.state=Pp(Lp(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),s.on.editInspectorState(function(n){if(n.app===e&&n.inspectorId===Rs){var i=n.nodeId,o=n.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){n.set(t._state.data,o,n.state.value)})}}),t.subscribe(function(n,i){var o={};n.payload&&(o.payload=n.payload),o.state=i,s.notifyComponentUpdate(),s.sendInspectorTree(Rs),s.sendInspectorState(Rs),s.addTimelineEvent({layerId:ca,event:{time:Date.now(),title:n.type,data:o}})}),t.subscribeAction({before:function(n,i){var o={};n.payload&&(o.payload=n.payload),n._id=Sp++,n._time=Date.now(),o.state=i,s.addTimelineEvent({layerId:so,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:o}})},after:function(n,i){var o={},r=Date.now()-n._time;o.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},n.payload&&(o.payload=n.payload),o.state=i,s.addTimelineEvent({layerId:so,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:o}})}})})}var ua=8702998,Ap=6710886,Ip=16777215,wc={label:"namespaced",textColor:Ip,backgroundColor:Ap};function Ec(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Cc(e,t){return{id:t||"root",label:Ec(t),tags:e.namespaced?[wc]:[],children:Object.keys(e._children).map(function(s){return Cc(e._children[s],t+s+"/")})}}function xc(e,t,s,n){n.includes(s)&&e.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:t.namespaced?[wc]:[]}),Object.keys(t._children).forEach(function(i){xc(e,t._children[i],s,n+i+"/")})}function Pp(e,t,s){t=s==="root"?t:t[s];var n=Object.keys(t),i={state:Object.keys(e.state).map(function(r){return{key:r,editable:!0,value:e.state[r]}})};if(n.length){var o=Op(t);i.getters=Object.keys(o).map(function(r){return{key:r.endsWith("/")?Ec(r):r,editable:!1,value:ko(function(){return o[r]})}})}return i}function Op(e){var t={};return Object.keys(e).forEach(function(s){var n=s.split("/");if(n.length>1){var i=t,o=n.pop();n.forEach(function(r){i[r]||(i[r]={_custom:{value:{},display:r,tooltip:"Module",abstract:!0}}),i=i[r]._custom.value}),i[o]=ko(function(){return e[s]})}else t[s]=ko(function(){return e[s]})}),t}function Lp(e,t){var s=t.split("/").filter(function(n){return n});return s.reduce(function(n,i,o){var r=n[i];if(!r)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===s.length-1?r:r._children},t==="root"?e:e.root._children)}function ko(e){try{return e()}catch(t){return t}}var St=function(t,s){this.runtime=s,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=(typeof n=="function"?n():n)||{}},Sc={namespaced:{configurable:!0}};Sc.namespaced.get=function(){return!!this._rawModule.namespaced};St.prototype.addChild=function(t,s){this._children[t]=s};St.prototype.removeChild=function(t){delete this._children[t]};St.prototype.getChild=function(t){return this._children[t]};St.prototype.hasChild=function(t){return t in this._children};St.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};St.prototype.forEachChild=function(t){dn(this._children,t)};St.prototype.forEachGetter=function(t){this._rawModule.getters&&dn(this._rawModule.getters,t)};St.prototype.forEachAction=function(t){this._rawModule.actions&&dn(this._rawModule.actions,t)};St.prototype.forEachMutation=function(t){this._rawModule.mutations&&dn(this._rawModule.mutations,t)};Object.defineProperties(St.prototype,Sc);var As=function(t){this.register([],t,!1)};As.prototype.get=function(t){return t.reduce(function(s,n){return s.getChild(n)},this.root)};As.prototype.getNamespace=function(t){var s=this.root;return t.reduce(function(n,i){return s=s.getChild(i),n+(s.namespaced?i+"/":"")},"")};As.prototype.update=function(t){kc([],this.root,t)};As.prototype.register=function(t,s,n){var i=this;n===void 0&&(n=!0);var o=new St(s,n);if(t.length===0)this.root=o;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],o)}s.modules&&dn(s.modules,function(a,l){i.register(t.concat(l),a,n)})};As.prototype.unregister=function(t){var s=this.get(t.slice(0,-1)),n=t[t.length-1],i=s.getChild(n);!i||!i.runtime||s.removeChild(n)};As.prototype.isRegistered=function(t){var s=this.get(t.slice(0,-1)),n=t[t.length-1];return s?s.hasChild(n):!1};function kc(e,t,s){if(t.update(s),s.modules)for(var n in s.modules){if(!t.getChild(n))return;kc(e.concat(n),t.getChild(n),s.modules[n])}}function $p(e){return new it(e)}var it=function(t){var s=this;t===void 0&&(t={});var n=t.plugins;n===void 0&&(n=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new As(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var r=this,a=this,l=a.dispatch,h=a.commit;this.dispatch=function(u,b){return l.call(r,u,b)},this.commit=function(u,b,C){return h.call(r,u,b,C)},this.strict=i;var c=this._modules.root.state;ji(this,c,[],this._modules.root),nr(this,c),n.forEach(function(f){return f(s)})},or={state:{configurable:!0}};it.prototype.install=function(t,s){t.provide(s||yc,this),t.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:!1;n&&kp(t,this)};or.state.get=function(){return this._state.data};or.state.set=function(e){};it.prototype.commit=function(t,s,n){var i=this,o=Ti(t,s,n),r=o.type,a=o.payload,l={type:r,payload:a},h=this._mutations[r];!h||(this._withCommit(function(){h.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};it.prototype.dispatch=function(t,s){var n=this,i=Ti(t,s),o=i.type,r=i.payload,a={type:o,payload:r},l=this._actions[o];if(!!l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,n.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(c){return c(r)})):l[0](r);return new Promise(function(c,f){h.then(function(u){try{n._actionSubscribers.filter(function(b){return b.after}).forEach(function(b){return b.after(a,n.state)})}catch{}c(u)},function(u){try{n._actionSubscribers.filter(function(b){return b.error}).forEach(function(b){return b.error(a,n.state,u)})}catch{}f(u)})})}};it.prototype.subscribe=function(t,s){return vc(t,this._subscribers,s)};it.prototype.subscribeAction=function(t,s){var n=typeof t=="function"?{before:t}:t;return vc(n,this._actionSubscribers,s)};it.prototype.watch=function(t,s,n){var i=this;return Ts(function(){return t(i.state,i.getters)},s,Object.assign({},n))};it.prototype.replaceState=function(t){var s=this;this._withCommit(function(){s._state.data=t})};it.prototype.registerModule=function(t,s,n){n===void 0&&(n={}),typeof t=="string"&&(t=[t]),this._modules.register(t,s),ji(this,this.state,t,this._modules.get(t),n.preserveState),nr(this,this.state)};it.prototype.unregisterModule=function(t){var s=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=ir(s.state,t.slice(0,-1));delete n[t[t.length-1]]}),_c(this)};it.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};it.prototype.hotUpdate=function(t){this._modules.update(t),_c(this,!0)};it.prototype._withCommit=function(t){var s=this._committing;this._committing=!0,t(),this._committing=s};Object.defineProperties(it.prototype,or);const ze=$p({state:{user:null,games:[],tables:[],users:[],theTable:null,commonChat:{messages:[],message:null},loadingStatus:!1},getters:{user(e){if(e.user)return e.user;const t=sessionStorage.getItem("userName"),s=sessionStorage.getItem("token");if(t&&s){const n={name:t,token:s};return ze.dispatch("setUser",n),e.user}return null},loading(e){return e.loadingStatus},userName(e){return e.user?e.user.name:null},users(e){return e.users},tables(e){return e.tables},games(e){return e.games},theTable(e){return e.theTable},yatzyTable(e){return e.theTable},chatMessages(e){return e.theTable&&e.theTable.chat?e.theTable.chat.messages:[]},commonChatMessages(e){return e.commonChat.messages},loadingStatus(e){return e.loadingStatus},playerInTurn(e){return e.theTable.playerInTurn}},mutations:{setUser(e,t){t?(sessionStorage.setItem("userName",t.name),sessionStorage.setItem("token",t.token),e.user=t):(sessionStorage.removeItem("userName"),sessionStorage.removeItem("token"),e.user=t)},updateRollCount(e,t){let s=e.theTable.playerInTurn;s.rollsLeft=t},updateUserTableId(e,t){e.user.tableId=t},setGames(e,t){e.games=t},joinMultiplayerTable(e,t){let s=e.tables.find(n=>n.tableId===t.tableId);s.players=t.players},setTables(e,t){e.tables=t},clearTable(e){e.theTable=null},setUsers(e,t){e.users=t},updateScore(e,t){e.theTable&&(e.theTable.playerA.wins=t.winsA,e.theTable.playerB.wins=t.winsB,e.theTable.playerInTurn=null)},addTable(e,t){t.playerA.name===e.user.name?e.tables.unshift(t):e.tables.push(t)},removeFromPlayerList(e,t){e.users=e.users.filter(s=>s.name!==t.name)},removeTable(e,t){e.tables=e.tables.filter(s=>s.tableId!==t)},addPlayer(e,t){e.users.push(t)},startGame(e,t){const s=e.tables.findIndex(n=>n.tableId===t.tableId);e.tables.splice(s,1,t)},selectTable(e,t){let s={messages:[],message:{text:""}};t.chat=s;const n=t.board;t.board=n,e.theTable=t,e.user.tableId=t.tableId},addWatcher(e,t){if(e.theTable){let s=t.name.concat(" joined to watch");const n={from:"System",text:s};e.theTable.chat.messages.unshift(n)}},move(e,t){e.theTable.board.push(t)},changeTurn(e,t){e.theTable={...e.theTable,playerInTurn:t}},chat(e,t){e.theTable&&e.theTable.chat.messages.unshift(t)},updateCommonChat(e,t){e.commonChat.messages.unshift(t)},resign(e,t){e.theTable&&(e.theTable.playerA.wins=t.winsA,e.theTable.playerB.wins=t.winsB,e.theTable.playerInTurn=null)},leaveStartedTable(e,t){if(e.theTable){if(e.theTable.gameMode.gameNumber===4)return;(e.theTable.playerA.name===t||e.theTable.playerB.name===t)&&(e.theTable.playerInTurn=null);let s=t.concat(" left table");const n={from:"System",text:s};e.theTable.chat.messages.unshift(n)}},leaveStartingTable(e,t){let s=t.table,n=t.who.name,i=e.tables.find(o=>o.tableId==(s==null?void 0:s.tableId));if(i&&i.players){let o=i.players.findIndex(r=>r.name===n);i.players.splice(o,1)}},rematch(e,t){let s={messages:[],message:{text:""}};e.theTable&&e.theTable.chat&&(s=e.theTable.chat);const n={text:"Rematch started",from:"System"};s.messages.unshift(n),t.table.chat=s,e.theTable=t.table},updateWinner(e,t){if(this.state.theTable){e.theTable.playerInTurn=null;const s={text:t.winner.name.concat(" won"),from:"System"};e.theTable.chat.messages.unshift(s);let n=e.theTable;n.win=t}},setDraw(e,t){if(this.state.theTable){e.theTable.playerA&&(e.theTable.playerA.draws=t.table.playerA.draws),e.theTable.playerB&&(e.theTable.playerB.draws=t.table.playerB.draws),e.theTable.playerInTurn&&(e.theTable.playerInTurn=null);const s={text:"Game ended in draw",from:"System"};e.theTable.chat.messages.unshift(s)}},setLoadingStatus(e,t){e.loadingStatus=t}},actions:{poolUpdate(e,t){},poolPlayTurn(e,t){},poolSetHandBall(e,t){},poolSelectPocket(e,t){},poolSetHandBallFail(e,t){},poolGameEnded(e,t){},yatzyRollDices(e,t){},yatzySelectHand(e,t){},timeout(e,t){},multiplayerTableResign(e,t){},currentTableIsClosed(e,t){},setUser(e,t){e.commit("setUser",t)},setGames(e,t){e.commit("setGames",t)},setTables(e,t){e.commit("setTables",t)},setUsers(e,t){e.commit("setUsers",t)},addTable(e,t){e.commit("addTable",t)},removePlayer(e,t){e.commit("removeFromPlayerList",t)},removeTable(e,t){e.commit("removeTable",t)},addPlayer(e,t){e.commit("addPlayer",t)},startGame(e,t){e.commit("startGame",t)},selectTable(e,t){e.commit("selectTable",t)},addWatcher(e,t){e.commit("addWatcher",t)},move(e,t){e.commit("move",t)},changeTurn(e,t){e.commit("changeTurn",t)},chat(e,t){e.commit("chat",t)},updateCommonChat(e,t){e.commit("updateCommonChat",t)},resign(e,t){e.commit("resign",t)},updateScore(e,t){e.commit("updateScore",t)},rematch(e,t){e.commit("rematch",t)},clearTable(e){e.commit("clearTable")},leaveTable(e,t){var s;if(!((s=t==null?void 0:t.table)!=null&&s.started))e.commit("leaveStartingTable",t);else if(e.state.theTable)e.state.theTable.tableId===t.table.tableId&&e.commit("leaveStartedTable",t.who.name);else return},updateWinner(e,t){e.commit("updateWinner",t)},setDraw(e,t){e.commit("setDraw",t)},joinMultiplayerTable(e,t){e.commit("joinMultiplayerTable",t)},updateUserTableId(e,t){e.commit("updateUserTableId",t)},logout(e,t){e.commit("setTables",[]),e.commit("setUsers",[]),t&&t.webSocket&&(t.webSocket.close(),t.webSocket=null);const s={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify({token:t==null?void 0:t.token})},n="http://35.217.7.146/portal/api/user/logout";e.commit("setUser",null),fetch(n,s).then(i=>{})},setLoadingStatus(e,t){e.commit("setLoadingStatus",t)}}}),Np=De({name:"Lobby",mixins:[xt,Fi,gc],data(){return{selectedGame:0,selectedGameMode:"0",selectedTimeControl:0,selectedPlayerAmount:2,playAgainstComputerChecked:!1,randomStarterChecked:!1,onlyRegistered:!1,computerLevel:"0",GUEST:la,fixVal:di}},computed:{users(){return this.$store.getters.users},tables(){return this.$store.getters.tables},games(){return this.$store.getters.games},gameModes(){if(this.selectedGame===1)return this.$store.getters.games.filter(e=>e.gameId===1)[0].gameModes;if(this.selectedGame===2)return this.$store.getters.games.filter(e=>e.gameId===2)[0].gameModes;if(this.selectedGame===3)return this.$store.getters.games.filter(e=>e.gameId===3)[0].gameModes;if(this.selectedGame===4)return this.$store.getters.games.filter(e=>e.gameId===4)[0].gameModes},isMainCreateTableButtonVisible(){return!this.hasCreatedUnStartedTable&&!this.user.tableId},hasVariants(){return this.selectedGame!==0},isCreateTableButtonInModalDisabled(){return this.selectedGameMode==="0"&&this.selectedGame!==4},tablesExist(){return this.$store.getters.tables.length>0},hasCreatedUnStartedTable(){const e=this.$store.getters.tables[0];return e&&e.playerA&&!e.started?e.playerA.name===this.userName:!1},canRandomizeStarter(){return this.selectedGame===3||this.selectedGame===4},isTimeControlledGame(){return this.selectedGame===3||this.selectedGame===4&&this.selectedGameMode===40},canSelectPlayerAmount(){return this.selectedGame===4},isRemoveTableButtonVisible(){const e=this.$store.getters.tables[0];return e&&e.playerA?e.playerA.name===this.userName&&!e.started:!1}},created(){this.user&&!this.user.webSocket&&this.connect(this.user.token)},methods:{connect(e){let t=new WebSocket("ws://35.217.7.146:80/games/ws");t.onopen=s=>{const i={title:"LOGIN",message:this.user.token};JSON.stringify(i);const o=JSON.stringify(i);t.send(o)},t.onmessage=s=>{var i,o,r,a,l;let n=JSON.parse(s.data);switch(n.title){case"LOGIN":let h={name:n.to,token:n.token,webSocket:t};this.$store.dispatch("setUser",h).then(()=>{this.$store.dispatch("setUsers",n.players),this.$store.dispatch("setGames",n.games),this.$store.dispatch("setTables",n.tables)});break;case"CREATE_TABLE":this.$store.dispatch("addTable",n.table);break;case"REMOVE_PLAYER":((o=(i=ze.getters)==null?void 0:i.theTable)==null?void 0:o.tableId)==((r=n==null?void 0:n.table)==null?void 0:r.tableId)?(console.log("lobby remove player "+((l=(a=ze.getters)==null?void 0:a.theTable)==null?void 0:l.tableId)),this.$store.dispatch("leaveTable",n).then(()=>{this.$store.dispatch("removePlayer",n.who)})):this.$store.dispatch("removePlayer",n.who);break;case"REMOVE_TABLE":this.$store.dispatch("removeTable",n.message),this.user.tableId===n.message&&(this.$store.dispatch("currentTableIsClosed",n),this.$store.dispatch("updateUserTableId",null));break;case"NEW_PLAYER":this.$store.dispatch("addPlayer",n.who);break;case"START_GAME":this.$store.dispatch("startGame",n.table).then(()=>{n.table,this.isOnTable(n.table)&&this.$store.dispatch("selectTable",n.table).then(()=>{this.openTable(n.table)})});break;case"MOVE":const c={x:n.x,y:n.y,coordinates:n.x.toString().concat(n.y.toString()),token:n.token};this.$store.dispatch("move",c),this.$store.dispatch("changeTurn",n.table.playerInTurn);break;case"WATCH":this.$store.dispatch("selectTable",n.table).then(()=>{this.openWatcherTable(n.table)});break;case"ADD_WATCHER":this.$store.dispatch("addWatcher",n.who).then(()=>{});break;case"CHAT":const f={text:n.message,from:n.from};if(n.to==="COMMON"){this.$store.dispatch("updateCommonChat",f);return}this.$store.dispatch("chat",f);break;case"REMATCH":this.$store.dispatch("rematch",n).then(()=>{});break;case"JOIN_TABLE":this.$store.dispatch("joinMultiplayerTable",n.table),n.who.name===this.userName&&this.$store.dispatch("updateUserTableId",n.table.tableId);break;case"POOL_UPDATE":this.$store.dispatch("poolUpdate",n);break;case"POOL_SELECT_POCKET":this.$store.dispatch("poolSelectPocket",n);break;case"POOL_HANDBALL":if(n.pool.turnResult==="HANDBALL_FAIL")this.$store.dispatch("poolSetHandBallFail",n);else{this.$store.dispatch("poolSetHandBall",n);const E={from:n.from,text:"Handball set by "+n.table.playerInTurn.name};this.$store.dispatch("chat",E)}break;case"POOL_PLAY_TURN":this.$store.dispatch("poolPlayTurn",n).then(()=>{});break;case"YATZY_ROLL_DICES":this.$store.dispatch("yatzyRollDices",n);break;case"YATZY_SELECT_HAND":this.$store.dispatch("yatzySelectHand",n);break;case"TIMEOUT":this.$store.dispatch("timeout",n);break;case"LEAVE_TABLE":this.$store.dispatch("leaveTable",n),n.who.name===this.userName&&this.$store.dispatch("updateUserTableId",null);break;case"GAME_END":const u={x:n.x,y:n.y,coordinates:n.x.toString().concat(n.y.toString()),token:n.token};if(n.table.gameMode.gameNumber!==3){if(this.$store.dispatch("move",u),n.gameResult.resultType==="DRAW"){const E={table:n.table,win:n.win};this.$store.dispatch("setDraw",E)}else{const E={winner:n.gameResult.winner.name,reason:Tn.GAME,winsA:n.table.playerA.wins,winsB:n.table.playerB.wins,from:"System"};this.$store.dispatch("updateScore",E);const H={fromX:n.gameResult.fromX,fromY:n.gameResult.fromY,toX:n.gameResult.toX,toY:n.gameResult.toY,resultType:n.gameResult.resultType,winner:{name:n.gameResult.winner.name}};this.$store.dispatch("updateWinner",H)}return}n.table.gameMode.gameNumber===3&&(this.$store.dispatch("poolPlayTurn",n),this.$store.dispatch("poolGameEnded",n));break;case"RESIGN":if(n.table.multiplayerTable){this.$store.dispatch("multiplayerTableResign",n);return}const b={winner:n.who.name,reason:n.reason,winsA:n.table.playerA.wins,winsB:n.table.playerB.wins,from:n.from};this.$store.dispatch("resign",b);const C=n.message==="R"?Tn.RESIGNITION:Tn.GAME;let O=n.who.name.concat(C===Tn.RESIGNITION?" won by resignation":" won");const I={from:n.from,text:O};this.$store.dispatch("chat",I);break}},t.onerror=s=>{},t.onclose=s=>{this.user&&(this.user.webSocket=null)}},createTable(){let e=null;if(e={title:"CREATE_TABLE",message:this.selectedGameMode,computer:this.playAgainstComputerChecked,randomStarter:this.randomStarterChecked,onlyRegistered:this.onlyRegistered},this.isTimeControlledGame){let t=this.selectedTimeControl;t||(t=this.getAllTimeControls[this.getAllTimeControls.length]),e.timeControlIndex=t}this.canSelectPlayerAmount&&(e.playerAmount=this.selectedPlayerAmount),this.user.webSocket.send(JSON.stringify(e)),this.computerLevel=null,this.playAgainstComputerChecked=!1,this.randomStarterChecked=!1,this.selectedTimeControl=null},getTableShortDesc(e){return e<20?"x.o":e<30?"4x":e<40?"Pool":e===40?"Classic Yatzy":e===41?"Fast Yatzy":e===42?"Super Yatzy":e===43?"Hyper Yatzy":"err"},getBoardDesc(e){return e.gameMode.gameNumber<3?e.x+" x "+e.y:e.gameMode.gameNumber===3?"8-ball":e.gameMode.gameNumber===4?e.playerAmount+"p":"err"},onComputerSelectionChange(){this.playAgainstComputerChecked||(this.computerLevel="0")},getAvailableTimeControls(){return this.selectedGameMode===40?this.getAllTimeControls().filter(e=>e.id>2):this.selectedGameMode===30?this.getAllTimeControls().filter(e=>e.id>2):this.getAllTimeControls()},onSelectedGameChange(e){if(e.target.selectedIndex===3){this.selectedGameMode=30;return}else if(e.target.selectedIndex===4){this.selectedGameMode=40,this.selectedTimeControl=7;return}this.selectedGameMode="0"},removeTable(){const e={title:"REMOVE_TABLE",message:""};this.user.webSocket.send(JSON.stringify(e))},play(e){const t={title:"JOIN_TABLE",message:e.tableId};this.user.webSocket.send(JSON.stringify(t))},leave(e){const t={title:"LEAVE_TABLE",message:e.tableId};this.user.webSocket.send(JSON.stringify(t))},playButtonVisible(e){return!(e.registeredOnly&&!this.authenticated||this.user.tableId||e.started)},leaveButtonVisible(e){return this.user.tableId===e.tableId},watchButtonVisible(e){return!!e.started},isLoginRequiredTextVisible(e){return!this.authenticated&&!this.user.tableId&&e.registeredOnly},isOwnTable(e){var t;return((t=e==null?void 0:e.playerA)==null?void 0:t.name)===this.userName},watchTable(e){const t={title:"WATCH",message:e.tableId};this.user.webSocket.send(JSON.stringify(t))},openProfile(e){e.startsWith(la)||this.$router.push({name:"Profile",params:{selectedName:e}})},getAllowedPlayerAmounts(){return[2,3,4]}}});const Rp={class:"row mt-3"},Mp={class:"col-xs-12 col-sm-4 mt-3 mt-md-0 pt-3"},Dp=m("span",{class:"fw-bold"}," Players ",-1),Bp={class:"list-group"},Hp=["onClick"],Vp={class:"float-start"},Fp={key:0,xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},jp=m("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"},null,-1),Up=[jp],zp={key:0,class:"bi bi-star float-end tooltipselector",title:"ConnectFour ranking"},Gp={key:1,class:"bi bi-suit-diamond float-end tooltipselector",title:"TicTacToe ranking"},Wp={class:"col-xs-12 col-sm-4 mt-3 mt-md-0"},Yp={class:"row"},qp={class:"col-xs-6"},Kp=m("span",{class:"fw-bold"}," Tables ",-1),Qp={class:"float-end"},Xp={key:0,type:"button",class:"btn btn-primary w-30 float-start","data-bs-toggle":"modal","data-bs-target":"#createTableModal"},Jp={class:"row"},Zp={key:0,class:"table"},em=m("thead",null,[m("tr",null,[m("th",{scope:"col"},"Table"),m("th",{scope:"col"},"Board"),m("th",{scope:"col"},"Playing"),m("th",{scope:"col"},"Starter"),m("th",{scope:"col"},"Time"),m("th",{scope:"col"},"Action")])],-1),tm={scope:"row"},sm={key:0},nm={key:1},im={key:0},om=["onClick"],rm=["onClick"],am=["onClick"],lm={key:3},cm={key:1,class:"col fw-bold"},um=m("span",{class:"float-start"}," No tables at the moment. ",-1),hm=[um],dm={class:"modal fade",id:"createTableModal",tabindex:"-1","aria-labelledby":"createTableModalLabel","aria-hidden":"true"},fm={class:"modal-dialog"},pm={class:"modal-content"},mm=m("div",{class:"modal-header"},[m("h5",{class:"modal-title",id:"createTableModalLabel"},"Create table"),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),gm={class:"modal-body col-xs-12"},bm={class:"",role:"group","aria-label":"Select game",id:"select-game"},ym={value:0,key:0},vm=["value"],_m={class:""},Tm={key:0,class:"",id:"v-model-select-dynamic"},wm={value:"0",key:0},Em=["value"],Cm={class:"form-check",id:"computer_selection"},xm=m("label",{class:"",for:"computerSelection"},"Play against computer",-1),Sm={class:"form-check",id:"only_registered"},km=m("label",{class:"",for:"onlyRegistered"},"Play only against registered",-1),Am={key:0,class:"form-check",id:"random_starter"},Im=m("label",{class:"",for:"randomStarter"},"Random starter",-1),Pm={key:1},Om=K(" Time control "),Lm=["value"],$m={key:2},Nm=K(" Players "),Rm=["value"],Mm={class:"modal-footer justify-content-between"},Dm=m("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Bm=["disabled"];function Hm(e,t,s,n,i,o){return T(),w(ae,null,[m("div",Rp,[m("div",Mp,[Dp,m("ul",Bp,[(T(!0),w(ae,null,gt(e.users,(r,a)=>(T(),w("li",{key:r.name,onClick:l=>e.openProfile(r.name),class:Ie(["list-group-item bg-success p-2 text-dark",[a%2==0?"bg-opacity-25":" bg-opacity-10",r.name.startsWith(e.GUEST)?"":"games-profile-link"]])},[m("div",Vp,[K(F(r.name)+" ",1),r.name===e.userName?(T(),w("svg",Fp,Up)):j("",!0)]),r.rankingConnectFour>0?(T(),w("i",zp," \xA0"+F(e.fixVal(r.rankingConnectFour))+"\xA0 ",1)):j("",!0),r.rankingTictactoe>0?(T(),w("i",Gp," \xA0"+F(e.fixVal(r.rankingTictactoe))+"\xA0 ",1)):j("",!0)],10,Hp))),128))])]),m("div",Wp,[m("div",Yp,[m("div",qp,[Kp,m("span",Qp,[e.isMainCreateTableButtonVisible?(T(),w("button",Xp," Create table ")):j("",!0),e.isRemoveTableButtonVisible?(T(),w("button",{key:1,onClick:t[0]||(t[0]=r=>e.removeTable()),type:"button",class:"btn btn-primary bg-danger w-30 float-start"}," Remove table ")):j("",!0)])])]),m("div",Jp,[e.tablesExist?(T(),w("table",Zp,[em,m("tbody",null,[(T(!0),w(ae,null,gt(e.tables,r=>{var a,l;return T(),w("tr",{key:r.tableId},[m("td",tm,F(e.getTableShortDesc(r.gameMode.id)),1),m("td",null,F(e.getBoardDesc(r)),1),r.gameMode.gameNumber!==4?(T(),w("td",sm,F((a=r.playerA)==null?void 0:a.name)+" - "+F((l=r.playerB)==null?void 0:l.name),1)):j("",!0),r.gameMode.gameNumber===4?(T(),w("td",nm,[m("ul",null,[(T(!0),w(ae,null,gt(r.players,h=>(T(),w("li",{key:r.id},F(h.name),1))),128))])])):j("",!0),m("td",null,F(r.randomizeStarter?"?":"fixed"),1),m("td",null,F(e.getTableTimeControl(r))+"s ",1),m("td",null,[e.hasCreatedUnStartedTable?j("",!0):(T(),w("section",im,[e.playButtonVisible(r)?(T(),w("button",{key:0,onClick:h=>e.play(r),type:"button",class:"btn btn-primary w-30 float-start"}," Play ",8,om)):e.leaveButtonVisible(r)?(T(),w("button",{key:1,onClick:h=>e.leave(r),type:"button",class:"btn btn-primary w-30 float-start"}," Leave ",8,rm)):e.watchButtonVisible(r)?(T(),w("button",{key:2,onClick:h=>e.watchTable(r),type:"button",class:"btn btn-primary w-30 float-end"}," Watch ",8,am)):e.isLoginRequiredTextVisible(r)?(T(),w("span",lm,"Requires login")):j("",!0)]))])])}),128))])])):(T(),w("div",cm,hm))])])]),m("div",dm,[m("div",fm,[m("div",pm,[mm,m("div",gm,[m("div",bm,[Me(m("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.selectedGame=r),onChange:t[2]||(t[2]=(...r)=>e.onSelectedGameChange&&e.onSelectedGameChange(...r))},[(T(),w("option",ym," Select game ")),(T(!0),w(ae,null,gt(e.games,r=>(T(),w("option",{value:r.gameId,key:r.id},F(r.name),9,vm))),128))],544),[[ti,e.selectedGame]])]),m("div",_m,[e.hasVariants?(T(),w("div",Tm,[Me(m("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.selectedGameMode=r)},[(T(),w("option",wm," Select variant ")),(T(!0),w(ae,null,gt(e.gameModes,r=>(T(),w("option",{value:r.id,key:r.id},F(r.name),9,Em))),128))],512),[[ti,e.selectedGameMode]])])):j("",!0)]),m("div",Cm,[Me(m("input",{class:"",type:"checkbox",id:"computerSelection",onChange:t[4]||(t[4]=(...r)=>e.onComputerSelectionChange&&e.onComputerSelectionChange(...r)),"onUpdate:modelValue":t[5]||(t[5]=r=>e.playAgainstComputerChecked=r)},null,544),[[wt,e.playAgainstComputerChecked]]),xm]),m("div",Sm,[Me(m("input",{class:"",type:"checkbox",id:"onlyRegistered","onUpdate:modelValue":t[6]||(t[6]=r=>e.onlyRegistered=r)},null,512),[[wt,e.onlyRegistered]]),km]),e.canRandomizeStarter?(T(),w("div",Am,[Me(m("input",{class:"",type:"checkbox",id:"randomStarter","onUpdate:modelValue":t[7]||(t[7]=r=>e.randomStarterChecked=r)},null,512),[[wt,e.randomStarterChecked]]),Im])):j("",!0),e.isTimeControlledGame?(T(),w("div",Pm,[Om,m("div",null,[Me(m("select",{"onUpdate:modelValue":t[8]||(t[8]=r=>e.selectedTimeControl=r)},[(T(!0),w(ae,null,gt(e.getAvailableTimeControls(),r=>(T(),w("option",{value:r.id,key:r.id},F(r.seconds)+" seconds ",9,Lm))),128))],512),[[ti,e.selectedTimeControl]])])])):j("",!0),e.canSelectPlayerAmount?(T(),w("div",$m,[Nm,m("div",null,[Me(m("select",{"onUpdate:modelValue":t[9]||(t[9]=r=>e.selectedPlayerAmount=r)},[(T(!0),w(ae,null,gt(e.getAllowedPlayerAmounts(),r=>(T(),w("option",{value:r,key:r},F(r)+" players ",9,Rm))),128))],512),[[ti,e.selectedPlayerAmount]])])])):j("",!0)]),m("div",Mm,[Dm,m("button",{disabled:e.isCreateTableButtonInModalDisabled,onClick:t[10]||(t[10]=(...r)=>e.createTable&&e.createTable(...r)),type:"button","data-bs-dismiss":"modal",class:"btn btn-primary"}," Create table ",8,Bm)])])])])],64)}const Vm=He(Np,[["render",Hm]]),Fm=De({name:"Home",methods:{toMainPage(){this.$router.push("/")}},created(){}});const jm=tr('<div class="row" data-v-cc97b8ca><div class="col fw-bold" data-v-cc97b8ca> Hi! </div></div><div class="row mt-4" data-v-cc97b8ca><div class="col question" data-v-cc97b8ca> Play as a guest <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 25 25" data-v-cc97b8ca><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" data-v-cc97b8ca></path></svg></div><div class="col" data-v-cc97b8ca><p class="text-start" data-v-cc97b8ca> 1. Click Games on the top navigation bar <br data-v-cc97b8ca> 2. Join table <br data-v-cc97b8ca> 3. Or create your own table with selected options <br data-v-cc97b8ca> 4. Invite your friend to play or wait for random player </p></div></div><div class="row" data-v-cc97b8ca><div class="col question" data-v-cc97b8ca> Play with nickname and statistics <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 25 25" data-v-cc97b8ca><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" data-v-cc97b8ca></path></svg></div><div class="col" data-v-cc97b8ca><p class="text-start" data-v-cc97b8ca> 1. Click Registration <br data-v-cc97b8ca> 2. Type nickname and password <br data-v-cc97b8ca> 3. After registration, login and click play <br data-v-cc97b8ca></p></div></div>',3);function Um(e,t,s,n,i,o){return jm}const ha=He(Fm,[["render",Um],["__scopeId","data-v-cc97b8ca"]]),zm=De({name:"Chat",mixins:[xt],props:["id","common"],data(){return{messages:null,message:{text:""}}},computed:{messageExist(){return this.message.text.length>0},messagesd(){return this.common?this.$store.getters.commonChatMessages:this.$store.getters.chatMessages}},created(){},methods:{sendMessage(){let e=this.message.text.trim();if(e.length<1||e.length>75){this.message.text="";return}const t=this.common?"COMMON":this.id,s={title:"CHAT",message:e,to:t};this.user.webSocket.send(JSON.stringify(s)),this.message.text=""}}}),Gm={class:"row"},Wm={class:"col overflow-auto",style:{"max-height":"500px !important"}};function Ym(e,t,s,n,i,o){return T(),w("div",Gm,[m("div",Wm,[m("ul",null,[(T(!0),w(ae,null,gt(e.messagesd,(r,a)=>(T(),w("li",{key:a,class:Ie(["list-group-item rounded-pill text-start w-75 text-break mb-1",[a%2==0?"bg-success p-2 text-dark bg-opacity-25":"bg-success p-2 text-dark bg-opacity-10"]])}," \xA0"+F(r.from)+":\xA0 "+F(r.text),3))),128))])])])}const rr=He(zm,[["render",Ym]]),qm=De({components:{Chat:rr},name:"TableTicTacToe",mixins:[xt],props:["watch"],data(){return{horizontalGap:null,verticalGap:null,canvas:null,renderingContext:null,showLastVal:!1,soundOn:!1,secondsLeft:120}},created(){var e;this.unsubscribeAction=this.$store.subscribeAction((t,s)=>{t.type==="currentTableIsClosed"&&(this.stopReducer(),this.theTable.playerInTurn=null)}),this.unsubscribe=this.$store.subscribe((t,s)=>{if(t.type==="move")s.theTable.board,this.removeLastSquareHighLightning(),this.drawToken(this.theTable.board[this.theTable.board.length-1]),this.playMoveNotification(),this.highlightLastSquareIfSelected();else if(t.type==="changeTurn")s.theTable.playerInTurn.name===this.userName?(this.addMouseListener(),this.startReducer()):(this.removeMouseListener(),this.stopReducer());else if(t.type==="rematch")this.initBoard();else if(t.type==="updateWinner"){const n=s.theTable.win;this.removeMouseListener(),this.stopReducer(),this.drawWinningLine(n)}else(t.type==="setDraw"||t.type==="resign")&&(this.stopReducer(),this.removeMouseListener())}),((e=this.theTable.playerInTurn)==null?void 0:e.name)===this.userName&&(this.startTime=120,this.startReducer())},computed:{timeLeft(){return this.secondsLeft},theTable(){return this.$store.getters.theTable},iconColor(){const e=this.$store.getters.theTable.watchers;return e&&e.length>1?"green":"#000000"},watchers(){return this.$store.getters.theTable.watchers},resignButtonDisabled(){return this.$store.getters.theTable,this.watch||this.theTable&&!this.theTable.playerInTurn||this.theTable.playerInTurn.name!==this.userName?!0:!!(this.theTable&&this.theTable.board&&this.theTable.board.length<4)},rematchButtonEnabled(){const e=this.$store.getters.theTable;return!this.watch&&e.playerInTurn===null},resignButtonVisible(){var e,t,s,n;return this.userName===((t=(e=this.theTable)==null?void 0:e.playerA)==null?void 0:t.name)||this.userName===((n=(s=this.theTable)==null?void 0:s.playerB)==null?void 0:n.name)}},mounted(){if(!this.$store.getters.theTable){this.$router.push("/error");return}this.initBoard(),this.watch==="1"&&this.drawBoard()},beforeUnmount(){this.unsubscribe(),this.stopReducer(),this.leaveTable()},methods:{startReducer(){this.redurcerInterval&&this.stopReducer(),this.secondsLeft=120,this.redurcerInterval=setInterval(()=>{this.secondsLeft=this.secondsLeft-1,this.secondsLeft<=0&&(this.stopReducer(),this.resign())},1e3)},stopReducer(){clearInterval(this.redurcerInterval),this.secondsLeft=null},highlightLastSquareIfSelected(){if(this.showLastVal&&this.theTable.board.length>1){const e=this.theTable.board,t=e[e.length-1];this.drawToken(t,"#FF0000")}},playMoveNotification(){if(this.soundOn){const e=new window.AudioContext,t=e.createOscillator();t.type="sine",t.frequency.setValueAtTime(446,e.currentTime),t.connect(e.destination),t.start(),setTimeout(()=>{t.stop()},250)}},removeLastSquareHighLightning(){if(this.theTable.board.length>1){const e=this.theTable.board,t=e[e.length-2];this.drawToken(t,"#000000")}},removeMouseListener(){this.canvas.removeEventListener("click",this.handleClick,!1)},addMouseListener(){this.canvas.addEventListener("click",this.handleClick,!1)},drawWinningLine(e){this.renderingContext.beginPath(),this.renderingContext.moveTo(e.fromX*this.horizontalGap+this.horizontalGap/2-10,e.fromY*this.verticalGap+this.verticalGap/2),this.renderingContext.lineTo(e.toX*this.horizontalGap+this.horizontalGap/2+10,e.toY*this.verticalGap+this.verticalGap/2),this.renderingContext.strokeStyle="#00FFFF",this.renderingContext.lineWidth=5,this.renderingContext.stroke()},initBoard(){let e=this.theTable;this.canvas=document.getElementById("canvas"),this.renderingContext=this.canvas.getContext("2d"),this.canvas.height=400,this.canvas.width=400,e.x>=10&&e.x<=20?(this.canvas.height=600,this.canvas.width=600):e.x>20&&(this.canvas.height=800,this.canvas.width=800);let t=e.x-1,s=e.y-1;this.verticalGap=this.canvas.height/e.x,this.horizontalGap=this.canvas.width/e.y;let n=0,i=0;for(let o=0;o<t;o++)n+=this.horizontalGap,this.renderingContext.beginPath(),this.renderingContext.moveTo(n,i),this.renderingContext.lineTo(n,this.canvas.height),this.renderingContext.stroke();n=0,i=0;for(let o=0;o<s;o++)i+=this.verticalGap,this.renderingContext.beginPath(),this.renderingContext.moveTo(n,i),this.renderingContext.lineTo(this.canvas.width,i),this.renderingContext.stroke();this.theTable.playerInTurn.name===this.userName&&this.canvas.addEventListener("click",this.handleClick,!1)},drawBoard(){this.theTable.board.forEach(t=>{this.drawToken(t)})},drawToken(e,t){const s=e.token,n=e.x,i=e.y;if(s==_i.X){const o=Math.floor(n*this.horizontalGap+this.horizontalGap*.1),r=Math.floor(i*this.verticalGap+this.verticalGap*.1);t&&(this.renderingContext.strokeStyle=t),this.renderingContext.beginPath(),this.renderingContext.moveTo(o,r),this.renderingContext.lineTo(o+this.horizontalGap-this.horizontalGap*.2,r+this.verticalGap-this.verticalGap*.2),this.renderingContext.stroke(),this.renderingContext.beginPath(),this.renderingContext.moveTo(o,r+this.verticalGap-this.verticalGap*.2),this.renderingContext.lineTo(o+this.horizontalGap-this.horizontalGap*.2,r),this.renderingContext.stroke()}else{t&&(this.renderingContext.strokeStyle=t);const o=this.horizontalGap/2+n*this.horizontalGap,r=this.verticalGap/2+i*this.verticalGap,a=this.verticalGap/2*.85;this.renderingContext.beginPath(),this.renderingContext.arc(o,r,a,0,2*Math.PI),this.renderingContext.stroke()}},handleClick(e){const t=Math.floor(e.offsetX/this.verticalGap),s=Math.floor(e.offsetY/this.horizontalGap);let n={x:t,y:s,coordinates:t.toString().concat(s.toString())};if(!this.theTable.board.find(o=>o.coordinates===n.coordinates)){this.removeMouseListener();const o={title:"MOVE",message:this.theTable.tableId,x:n.x,y:n.y};this.user.webSocket.send(JSON.stringify(o)),this.removeMouseListener()}},disableBoard(){return this.renderingContext.font="30px Arial",this.renderingContext.fillText("Game over",10,this.canvas.height/2),!0},rematch(){const e={title:"REMATCH",message:""};this.user.webSocket.send(JSON.stringify(e))},resign(){const e={title:"RESIGN",message:this.tablea};this.user.webSocket.send(JSON.stringify(e))},leaveTable(){var t,s;const e={title:"LEAVE_TABLE",message:this.theTable.tableId};(s=(t=this==null?void 0:this.user)==null?void 0:t.webSocket)==null||s.send(JSON.stringify(e))}}});const Is=e=>(un("data-v-8faa2019"),e=e(),hn(),e),Km={class:"row"},Qm={class:"col"},Xm=["disabled"],Jm={class:"row"},Zm={class:"col-xs-12 col-sm-4"},eg=Is(()=>m("br",null,null,-1)),tg=Is(()=>m("label",{class:"form-check-label ms-1",for:"highlight"},"Highlight last",-1)),sg=Is(()=>m("br",null,null,-1)),ng=Is(()=>m("label",{class:"form-check-label ms-1",for:"soundOn"},"Notification sound",-1)),ig=Is(()=>m("br",null,null,-1)),og=Is(()=>m("br",null,null,-1)),rg=K(" vs. "),ag=Is(()=>m("br",null,null,-1)),lg={key:2,class:"text-success"},cg={key:3,class:"text-success"},ug={key:4,class:"text-danger"},hg={class:"text-danger"},dg={class:"col-xs-12 col-sm-8"};function fg(e,t,s,n,i,o){var a,l,h,c,f,u,b,C,O,I,E,H,W,R,Q,X,te,ue;const r=Et("chat");return T(),w(ae,null,[m("div",Km,[m("div",Qm,[e.resignButtonVisible?(T(),w("button",{key:0,disabled:e.resignButtonDisabled,onClick:t[0]||(t[0]=(...J)=>e.resign&&e.resign(...J)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Resign ",8,Xm)):j("",!0),e.rematchButtonEnabled?(T(),w("button",{key:1,onClick:t[1]||(t[1]=(...J)=>e.rematch&&e.rematch(...J)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Rematch ")):j("",!0)])]),m("div",Jm,[m("div",Zm,[K(" Connect "+F(e.theTable.gameMode.requiredConnections)+" to win ",1),eg,Me(m("input",{class:"form-check-input",type:"checkbox",id:"highlight",onChange:t[2]||(t[2]=(...J)=>e.highlightLastSquareIfSelected&&e.highlightLastSquareIfSelected(...J)),"onUpdate:modelValue":t[3]||(t[3]=J=>e.showLastVal=J)},null,544),[[wt,e.showLastVal]]),tg,sg,Me(m("input",{class:"form-check-input",type:"checkbox",id:"soundOn","onUpdate:modelValue":t[4]||(t[4]=J=>e.soundOn=J)},null,512),[[wt,e.soundOn]]),ng,ig,e.theTable.playerA?(T(),w("span",{key:0,class:Ie(["fw-bold",{"text-success":((a=e.theTable.playerInTurn)==null?void 0:a.name)===((h=(l=e.theTable)==null?void 0:l.playerA)==null?void 0:h.name)}])},F((f=(c=e.theTable)==null?void 0:c.playerA)==null?void 0:f.gameToken)+" = "+F((b=(u=e.theTable)==null?void 0:u.playerA)==null?void 0:b.name),3)):j("",!0),og,rg,ag,e.theTable.playerB?(T(),w("span",{key:1,class:Ie(["fw-bold",{"text-success":((C=e.theTable.playerInTurn)==null?void 0:C.name)===((I=(O=e.theTable)==null?void 0:O.playerB)==null?void 0:I.name)}])},F((H=(E=e.theTable)==null?void 0:E.playerB)==null?void 0:H.gameToken)+" = "+F((R=(W=e.theTable)==null?void 0:W.playerB)==null?void 0:R.name),3)):j("",!0),((Q=e.theTable.playerInTurn)==null?void 0:Q.name)===e.userName?(T(),w("span",lg," It's your turn. ")):((X=e.theTable)==null?void 0:X.playerInTurn)===null?(T(),w("span",cg," Game ended ")):(T(),w("div",ug," In turn: "+F((te=e.theTable.playerInTurn)==null?void 0:te.name),1)),m("div",{class:Ie({hidden:((ue=e.theTable.playerInTurn)==null?void 0:ue.name)!==e.userName})},[m("span",hg," Time left "+F(e.timeLeft),1)],2)]),m("div",dg,[m("canvas",{class:Ie({"bg-secondary":e.theTable.playerInTurn==null}),id:"canvas"},null,2)])]),se(r,{id:e.theTable.tableId},null,8,["id"])],64)}const pg=He(qm,[["render",fg],["__scopeId","data-v-8faa2019"]]),pt=e=>(un("data-v-ce153fca"),e=e(),hn(),e),mg={class:"fw-bold"},gg={class:"list-group"},bg={class:""},yg=pt(()=>m("br",null,null,-1)),vg={key:0},_g=pt(()=>m("br",null,null,-1)),Tg=pt(()=>m("br",null,null,-1)),wg=pt(()=>m("br",null,null,-1)),Eg=pt(()=>m("br",null,null,-1)),Cg=pt(()=>m("br",null,null,-1)),xg=pt(()=>m("br",null,null,-1)),Sg={key:1,class:"multiplayer-list text-start"},kg={class:"text-bold"},Ag=pt(()=>m("br",null,null,-1)),Ig=pt(()=>m("br",null,null,-1)),Pg=pt(()=>m("br",null,null,-1)),Og=pt(()=>m("br",null,null,-1)),Lg=pt(()=>m("br",null,null,-1)),$g=De({__name:"GameHistory",props:{title:String,games:Array},setup(e){const t=n=>mc[n].toLowerCase(),s=n=>n.toLowerCase();return(n,i)=>(T(),w(ae,null,[m("span",mg,F(e.title),1),m("ul",gg,[(T(!0),w(ae,null,gt(e.games,(o,r)=>(T(),w("li",{key:o.gameId,class:Ie(["list-group-item",[r%2==0?"bg-success p-2 text-dark bg-opacity-25":"bg-success p-2 text-dark bg-opacity-10"]])},[m("div",bg,[K(F(Be(cp)(o.startInstant))+" ",1),yg,o.players.length==2?(T(),w("p",vg,[K(F(o.players[0].name)+" ",1),o.players[0].initialRanking>=0?(T(),w(ae,{key:0},[K(F(Be(di)(o.players[0].initialRanking))+" "+F(Be(to)(o.players[0])),1)],64)):j("",!0),K(" - "+F(o.players[1].name)+" ",1),o.players[1].initialRanking>=0?(T(),w(ae,{key:1},[K(F(Be(di)(o.players[1].initialRanking))+" "+F(Be(to)(o.players[1])),1)],64)):j("",!0),_g,o.players[0].score>=0||o.players[1].score>=0?(T(),w(ae,{key:2},[K(" Score: "+F(o.players[0].score)+" - "+F(o.players[1].score)+" ",1),Tg],64)):j("",!0),o.winner?(T(),w(ae,{key:3},[K(" Winner: "+F(o.winner)+" ",1),wg],64)):j("",!0),o.result?(T(),w(ae,{key:4},[K(" Result: "+F(t(o.result))+" ",1),Eg],64)):j("",!0),o.finishStatus?(T(),w(ae,{key:5},[K(" Game status: "+F(s(o.finishStatus))+" ",1),Cg],64)):j("",!0),o.timeControlSeconds?(T(),w(ae,{key:6},[K(" TimeControl: "+F(o.timeControlSeconds)+" s. ",1),xg],64)):j("",!0),o.description&&o.gameType<30?(T(),w(ae,{key:7},[K(" Description: "+F(o.description),1)],64)):j("",!0)])):j("",!0),o.players.length>2?(T(),w("ul",Sg,[(T(!0),w(ae,null,gt(o.players,(a,l)=>(T(),w("li",{key:a.name},[m("span",kg,F(a.name),1),Ag,K(" Ranking: "+F(Be(di)(o.players[l].initialRanking))+" "+F(Be(to)(o.players[l]))+" ",1),Ig,a.score>=0?(T(),w(ae,{key:0},[K(" Score: "+F(a.score)+" ",1),Pg],64)):j("",!0),a.position?(T(),w(ae,{key:1},[K(" Position: "+F(a.position),1)],64)):j("",!0)]))),128)),o.finishStatus?(T(),w(ae,{key:0},[K(" Game status: "+F(s(o.finishStatus))+" ",1),Og],64)):j("",!0),o.timeControlSeconds?(T(),w(ae,{key:1},[K(" TimeControl: "+F(o.timeControlSeconds)+" s. ",1),Lg],64)):j("",!0)])):j("",!0)])],2))),128))])],64))}});const Ng=He($g,[["__scopeId","data-v-ce153fca"]]),Rg=De({name:"Profile",mixins:[xt],components:{GameHistory:Ng},props:{selectedName:String},data(){return{stats:null,text:null,memberSince:null,connectFours:[],tictactoes:[],status:-1,fetchText:"",eightBalls:[],yatzyClassics:[],yatzySupers:[],yatzyFasts:[],yatzyHypers:[]}},computed:{getClass(){const e=this.eightBalls>0,t=this.tictactoes>0,s=this.connectFours>0;return e&&t&&s?"col-sm-4":"col-sm-6"}},created(){this.fetchProfile()},methods:{fetchProfile(){this.status=-1,this.fetchText="";const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:null}},t="http://35.217.7.146/portal/api/profile/"+this.selectedName;this.$store.dispatch("setLoadingStatus",!0),fetch(t,e).then(s=>(this.status=s.status,s.status!==200?Promise.reject("error fetching profile"):s.json())).then(s=>{this.text=s.user.profileText,this.memberSince=new Date(s.user.memberSince).toLocaleDateString(),this.tictactoes=s.user.tictactoes,this.connectFours=s.user.connectFours,this.eightBalls=s.user.eightBalls,this.yatzyClassics=s.user.yatzyClassics,this.yatzyFasts=s.user.yatzyFasts,this.yatzySupers=s.user.yatzySupers,this.yatzyHypers=s.user.yatzyHypers},s=>{console.error("error in profile fetch "+s)}).finally(()=>{this.$store.dispatch("setLoadingStatus",!1)})}}}),Mg={key:0,class:"row"},Dg={class:"row col-md-6 offset-md-3 alert alert-info text-start"},Bg=m("br",null,null,-1),Hg=m("br",null,null,-1),Vg={class:"row"},Fg={key:1,class:"row"};function jg(e,t,s,n,i,o){const r=Et("GameHistory");return T(),w(ae,null,[e.memberSince?(T(),w("div",Mg,[m("div",Dg,[m("b",null,F(e.selectedName),1),Bg,K(" Joined: "+F(e.memberSince)+" ",1),Hg,K(" "+F(e.text),1)]),m("div",Vg,[e.yatzyClassics.length>0?(T(),w("div",{key:0,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.yatzyClassics,title:"Yatzy classics"},null,8,["games"])],2)):j("",!0),e.yatzyFasts.length>0?(T(),w("div",{key:1,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.yatzyFasts,title:"Yatzy Fast"},null,8,["games"])],2)):j("",!0),e.yatzySupers.length>0?(T(),w("div",{key:2,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.yatzySupers,title:"Yatzy Super"},null,8,["games"])],2)):j("",!0),e.yatzyHypers.length>0?(T(),w("div",{key:3,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.yatzyHypers,title:"Yatzy Hyper"},null,8,["games"])],2)):j("",!0),e.eightBalls.length>0?(T(),w("div",{key:4,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.eightBalls,title:"Eight ball"},null,8,["games"])],2)):j("",!0),e.connectFours.length>0?(T(),w("div",{key:5,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.connectFours,title:"Connect four"},null,8,["games"])],2)):j("",!0),e.tictactoes.length>0?(T(),w("div",{key:6,class:Ie(["col-xs-12",e.getClass])},[se(r,{games:e.tictactoes,title:"TicTacToe"},null,8,["games"])],2)):j("",!0)])])):j("",!0),e.status==204||e.status>=400?(T(),w("div",Fg," User not found ")):j("",!0)],64)}const Ug=He(Rg,[["render",jg]]),zg={name:"Gamers",props:{games:Array,title:String,totalGames:Number,gameNumber:Number,gameMode:Number},data(){return{}},computed:{},created(){},methods:{getRanking(e){return e.ranking}}},Gg={class:"col-xs-12 col-sm-4 mt-3 mt-md-0 pt-3"},Wg={class:"fw-bold"},Yg={class:"list-group"},qg={class:"float-end"};function Kg(e,t,s,n,i,o){const r=Et("router-link");return T(),w("div",Gg,[m("span",Wg,F(s.title),1),m("ul",Yg,[(T(!0),w(ae,null,gt(s.games,(a,l)=>(T(),w("li",{key:a,class:Ie(["list-group-item",[l%2==0?"bg-success p-2 text-dark bg-opacity-25":"bg-success p-2 text-dark bg-opacity-10"]])},[se(r,{to:{name:"Profile",params:{selectedName:a.nickname}},class:"games-profile-link float-start"},{default:st(()=>[K(F(l+1)+". "+F(a.nickname),1)]),_:2},1032,["to"]),m("span",qg,F(o.getRanking(a)),1)],2))),128))]),K(" Games "+F(s.totalGames),1)])}const Qg=He(zg,[["render",Kg]]),Xg=De({name:"TopLists",components:{Gamers:Qg},data(){return{connectFours:[],tictactoes:[],eightBalls:[],yatzyClassics:[],yatzyFasts:[],yatzySupers:[],yatzyHypers:[],errorFlag:!1,dateTime:void 0,totalConnectFours:0,totalTictactoes:0,totalEightBalls:0,totalYatzyClassics:0,totalYatzyFasts:0,totalYatzyHypers:0,totalYatzySupers:0}},computed:{},created(){this.fetchLists()},methods:{fetchLists(){console.log("Ui starts fetch"),this.errorFlag=!1;const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:null}},t="http://35.217.7.146/portal/api/toplists";this.$store.dispatch("setLoadingStatus",!0),fetch(t,e).then(s=>s.status!==200?Promise.reject("error fetching lists"):s.json()).then(s=>{this.connectFours=s.connectFours,this.tictactoes=s.tictactoes,this.eightBalls=s.eightBalls,this.yatzyClassics=s.yatzyClassics,this.yatzyFasts=s.yatzyFasts,this.yatzySupers=s.yatzySupers,this.yatzyHypers=s.yatzyHypers,this.dateTime=new Date(s.instant).toLocaleString(),this.totalConnectFours=s.totalConnectFours,this.totalTictactoes=s.totalTictactoes,this.totalEightBalls=s.totalEightBalls,this.totalYatzyClassics=s.totalYatzyClassics,this.totalYatzyFasts=s.totalYatzyFasts,this.totalYatzySupers=s.totalYatzySupers,this.totalYatzyHypers=s.totalYatzyHypers},s=>{this.errorFlag=!0}).finally(()=>{this.$store.dispatch("setLoadingStatus",!1)})}}}),Jg={class:"row mt-3"},Zg=m("span",{class:"fw-bold"}," Hall of fame ",-1),eb=m("br",null,null,-1);function tb(e,t,s,n,i,o){const r=Et("Gamers");return T(),w("div",Jg,[m("p",null,[Zg,eb,K(" "+F(e.dateTime),1)]),se(r,{games:e.yatzyClassics,totalGames:e.totalYatzyClassics,gameNumber:4,gameMode:40,title:"Yatzy classic"},null,8,["games","totalGames"]),se(r,{games:e.yatzyFasts,totalGames:e.totalYatzyFasts,gameNumber:4,gameMode:41,title:"Yatzy fast"},null,8,["games","totalGames"]),se(r,{games:e.yatzySupers,totalGames:e.totalYatzySupers,gameNumber:4,gameMode:42,title:"Yatzy super"},null,8,["games","totalGames"]),se(r,{games:e.yatzyHypers,totalGames:e.totalYatzyHypers,gameNumber:4,gameMode:43,title:"Yatzy hyper"},null,8,["games","totalGames"]),se(r,{games:e.eightBalls,totalGames:e.totalEightBalls,gameNumber:3,title:"Eight ball"},null,8,["games","totalGames"]),se(r,{games:e.connectFours,totalGames:e.totalConnectFours,gameNumber:2,title:"ConnectFour"},null,8,["games","totalGames"]),se(r,{games:e.tictactoes,totalGames:e.totalTictactoes,gameNumber:1,title:"TicTacToe"},null,8,["games","totalGames"])])}const sb=He(Xg,[["render",tb]]),nb=De({components:{Chat:rr},name:"TableConnectFour",mixins:[xt,Fi],props:["watch"],data(){return{canvas:null,renderingContext:null,showLastVal:!1,soundOn:!1,secondsLeft:120,startingPosX:-1,startingPosY:-1,gameBoardHeight:-1,gameBoardWidth:-1,arcDiameter:-1,selectedColumn:-1}},created(){this.unsubscribeAction=this.$store.subscribeAction((e,t)=>{e.type==="currentTableIsClosed"&&(this.stopReducer(),this.theTable.playerInTurn=null)}),this.unsubscribe=this.$store.subscribe((e,t)=>{if(e.type==="move")t.theTable.board,this.removeLastSquareHighLightning(),this.drawToken(this.theTable.board[this.theTable.board.length-1]),this.playMoveNotification(),this.highlightLastSquareIfSelected();else if(e.type==="changeTurn")t.theTable.playerInTurn.name===this.userName?(this.addMouseListeners(),this.startReducer()):(this.removeMouseListeners(),this.clearCircleIndicatorRow(),this.stopReducer());else if(e.type==="rematch")this.removeMouseListeners(),this.initBoard(),this.isMyTurnInStore()&&this.startReducer();else if(e.type==="updateWinner"){const s=t.theTable.win;this.stopReducer(),this.removeMouseListeners(),this.drawWinningLine(s)}else(e.type==="setDraw"||e.type==="resign")&&(this.stopReducer(),this.removeMouseListeners())})},computed:{timeLeft(){return this.secondsLeft},theTable(){return this.$store.getters.theTable},watchers(){return this.$store.getters.theTable.watchers},resignButtonDisabled(){return this.$store.getters.theTable,this.watch||this.theTable&&!this.theTable.playerInTurn||this.theTable.playerInTurn.name!==this.userName?!0:!!(this.theTable&&this.theTable.board&&this.theTable.board.length<4)},rematchButtonEnabled(){const e=this.$store.getters.theTable;return!this.watch&&e.playerInTurn===null},resignButtonVisible(){var e,t,s,n;return this.userName===((t=(e=this.theTable)==null?void 0:e.playerA)==null?void 0:t.name)||this.userName===((n=(s=this.theTable)==null?void 0:s.playerB)==null?void 0:n.name)}},mounted(){if(!this.$store.getters.theTable){this.$router.push("/error");return}this.initBoard(),this.watch==="1"&&this.drawBoard()},beforeUnmount(){this.unsubscribeAction(),this.unsubscribe(),this.stopReducer(),this.leaveTable()},methods:{startReducer(){this.redurcerInterval&&this.stopReducer(),this.secondsLeft=120,this.redurcerInterval=setInterval(()=>{this.secondsLeft--,this.secondsLeft<=0&&(this.stopReducer(),this.resign())},1e3)},stopReducer(){clearInterval(this.redurcerInterval),this.secondsLeft=null},highlightLastSquareIfSelected(){if(this.showLastVal&&this.theTable.board.length>1){const e=this.theTable.board,t=e[e.length-1];this.drawToken(t,"#FF0000")}},playMoveNotification(){if(this.soundOn){const e=new window.AudioContext,t=e.createOscillator();t.type="sine",t.frequency.setValueAtTime(446,e.currentTime),t.connect(e.destination),t.start(),setTimeout(()=>{t.stop()},250)}},removeLastSquareHighLightning(){if(this.theTable.board.length>1){const e=this.theTable.board,t=e[e.length-2];this.drawToken(t,"#000000")}},removeMouseListeners(){this.canvas.removeEventListener("click",this.handleClick,!1),this.canvas.removeEventListener("mousemove",this.handleCircleIndicator)},addMouseListeners(){this.canvas.addEventListener("click",this.handleClick,!1),this.canvas.addEventListener("mousemove",this.handleCircleIndicator)},handleCircleIndicator(e){var s,n,i;const t=Math.floor((e.offsetX-this.startingPosX)/this.arcDiameter)+1;if(t!=this.column&&t>0&&t<=this.theTable.x){const o=this.column*(this.arcDiameter/2);this.renderingContext.clearRect(o,0,o+this.arcDiameter,this.arcDiameter-3),this.column=t;const r=this.arcDiameter*this.column,a=this.arcDiameter/2;this.renderingContext.fillStyle="red",((n=(s=this.theTable)==null?void 0:s.playerInTurn)==null?void 0:n.gameToken)===_i.X&&this.userName===((i=this.theTable)==null?void 0:i.playerInTurn.name)&&(this.renderingContext.fillStyle="blue"),this.renderingContext.beginPath(),this.renderingContext.arc(r,a,23,0,2*Math.PI),this.renderingContext.fill()}},clearCircleIndicatorRow(){this.column=-1,this.renderingContext.clearRect(0,0,this.gameBoardWidth,this.arcDiameter-3)},drawWinningLine(e){this.renderingContext.beginPath();const t=(e.fromY+1)*this.arcDiameter,s=(e.fromX+1)*this.arcDiameter+this.arcDiameter/2,n=(e.toY+1)*this.arcDiameter,i=(e.toX+1)*this.arcDiameter+this.arcDiameter/2;this.renderingContext.moveTo(t,s),this.renderingContext.lineTo(n,i),this.renderingContext.strokeStyle="#00FFFF",this.renderingContext.lineWidth=5,this.renderingContext.stroke()},initBoard(){var t;const e=this.theTable;this.canvas=document.getElementById("canvas"),this.renderingContext=this.canvas.getContext("2d"),this.canvas.height=440,this.canvas.width=440,e.x>=10&&e.x<=20?(this.canvas.height=620,this.canvas.width=620):e.x>20&&(this.canvas.height=800,this.canvas.width=800),this.arcDiameter=this.canvas.width/(e.x+1),this.drawBoardFrame(e),this.drawBoardLines(e),((t=this.theTable.playerInTurn)==null?void 0:t.name)===this.userName&&this.addMouseListeners()},drawBoardFrame(e){this.gapBetweenArcs=28,this.gameBoardHeight=e.y*this.arcDiameter,this.gameBoardWidth=e.x*this.arcDiameter,this.startingPosX=this.gapBetweenArcs,this.startingPosY=this.arcDiameter,this.renderingContext.beginPath(),this.renderingContext.rect(this.startingPosX,this.startingPosY,this.gameBoardWidth,this.gameBoardHeight),this.renderingContext.stroke()},drawBoardLines(e){for(let t=0;t<e.x;t++)for(let s=0;s<e.y+1;s++){if(s===0)continue;const n=this.arcDiameter*t+this.arcDiameter,i=this.arcDiameter*s+this.gapBetweenArcs;this.renderingContext.beginPath(),this.renderingContext.arc(n,i,25,0,2*Math.PI),this.renderingContext.stroke()}},drawBoard(){this.theTable.board.forEach(t=>{this.drawToken(t)})},drawToken(e,t){e.token==_i.O?this.renderingContext.fillStyle="red":this.renderingContext.fillStyle="blue";const n=this.arcDiameter*(e.x+1)+this.gapBetweenArcs,i=this.arcDiameter*e.y+this.arcDiameter;this.renderingContext.beginPath(),this.renderingContext.arc(i,n,23,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.fill()},handleClick(e){const t={title:"MOVE",message:this.theTable.tableId,y:this.column-1};this.user.webSocket.send(JSON.stringify(t))},disableBoard(){return this.renderingContext.font="30px Arial",this.renderingContext.fillText("Game over",10,this.canvas.height/2),!0},rematch(){const e={title:"REMATCH",message:""};this.user.webSocket.send(JSON.stringify(e))},resign(){const e={title:"RESIGN",message:this.tablea};this.user.webSocket.send(JSON.stringify(e))},leaveTable(){var t,s;const e={title:"LEAVE_TABLE",message:this.theTable.tableId};(s=(t=this==null?void 0:this.user)==null?void 0:t.webSocket)==null||s.send(JSON.stringify(e))}}});const Ps=e=>(un("data-v-7efa9c6e"),e=e(),hn(),e),ib={class:"row"},ob={class:"col"},rb=["disabled"],ab={class:"row"},lb={class:"col-xs-12 col-sm-4"},cb=K(" Connect 4 table "),ub=Ps(()=>m("br",null,null,-1)),hb=Ps(()=>m("label",{class:"form-check-label ms-1",for:"highlight"},"Highlight last",-1)),db=Ps(()=>m("br",null,null,-1)),fb=Ps(()=>m("label",{class:"form-check-label ms-1",for:"soundOn"},"Notification sound",-1)),pb=Ps(()=>m("br",null,null,-1)),mb=Ps(()=>m("br",null,null,-1)),gb=K(" vs. "),bb=Ps(()=>m("br",null,null,-1)),yb={key:2,class:"text-success"},vb={key:3,class:"text-success"},_b={key:4,class:"text-danger"},Tb={class:"text-danger"},wb={class:"col-xs-12 col-sm-8"};function Eb(e,t,s,n,i,o){var a,l,h,c,f,u,b,C,O,I,E,H,W,R,Q,X,te,ue;const r=Et("chat");return T(),w(ae,null,[m("div",ib,[m("div",ob,[e.resignButtonVisible?(T(),w("button",{key:0,disabled:e.resignButtonDisabled,onClick:t[0]||(t[0]=(...J)=>e.resign&&e.resign(...J)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Resign ",8,rb)):j("",!0),e.rematchButtonEnabled?(T(),w("button",{key:1,onClick:t[1]||(t[1]=(...J)=>e.rematch&&e.rematch(...J)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Rematch ")):j("",!0)])]),m("div",ab,[m("div",lb,[cb,ub,Me(m("input",{class:"form-check-input",type:"checkbox",id:"highlight",onChange:t[2]||(t[2]=(...J)=>e.highlightLastSquareIfSelected&&e.highlightLastSquareIfSelected(...J)),"onUpdate:modelValue":t[3]||(t[3]=J=>e.showLastVal=J)},null,544),[[wt,e.showLastVal]]),hb,db,Me(m("input",{class:"form-check-input",type:"checkbox",id:"soundOn","onUpdate:modelValue":t[4]||(t[4]=J=>e.soundOn=J)},null,512),[[wt,e.soundOn]]),fb,pb,e.theTable.playerA?(T(),w("span",{key:0,class:Ie(["fw-bold",{"text-success":((a=e.theTable.playerInTurn)==null?void 0:a.name)===((h=(l=e.theTable)==null?void 0:l.playerA)==null?void 0:h.name)}])},F((f=(c=e.theTable)==null?void 0:c.playerA)==null?void 0:f.gameToken)+" = "+F((b=(u=e.theTable)==null?void 0:u.playerA)==null?void 0:b.name),3)):j("",!0),mb,gb,bb,e.theTable.playerB?(T(),w("span",{key:1,class:Ie(["fw-bold",{"text-success":((C=e.theTable.playerInTurn)==null?void 0:C.name)===((I=(O=e.theTable)==null?void 0:O.playerB)==null?void 0:I.name)}])},F((H=(E=e.theTable)==null?void 0:E.playerB)==null?void 0:H.gameToken)+" = "+F((R=(W=e.theTable)==null?void 0:W.playerB)==null?void 0:R.name),3)):j("",!0),((Q=e.theTable.playerInTurn)==null?void 0:Q.name)===e.userName?(T(),w("span",yb," It's your turn. ")):((X=e.theTable)==null?void 0:X.playerInTurn)===null?(T(),w("span",vb," Game ended ")):(T(),w("div",_b," In turn: "+F((te=e.theTable.playerInTurn)==null?void 0:te.name),1)),m("div",{class:Ie({hidden:((ue=e.theTable.playerInTurn)==null?void 0:ue.name)!==e.userName})},[m("span",Tb," Time left "+F(e.timeLeft),1)],2)]),m("div",wb,[m("canvas",{class:Ie({"bg-secondary":e.theTable.playerInTurn==null}),id:"canvas"},null,2)])]),se(r,{id:e.theTable.tableId},null,8,["id"])],64)}const Cb=He(nb,[["render",Eb],["__scopeId","data-v-7efa9c6e"]]);var Je="top",lt="bottom",ct="right",Ze="left",Ui="auto",fn=[Je,lt,ct,Ze],Ss="start",Qs="end",Ac="clippingParents",ar="viewport",Hs="popper",Ic="reference",Ao=fn.reduce(function(e,t){return e.concat([t+"-"+Ss,t+"-"+Qs])},[]),lr=[].concat(fn,[Ui]).reduce(function(e,t){return e.concat([t,t+"-"+Ss,t+"-"+Qs])},[]),Pc="beforeRead",Oc="read",Lc="afterRead",$c="beforeMain",Nc="main",Rc="afterMain",Mc="beforeWrite",Dc="write",Bc="afterWrite",Hc=[Pc,Oc,Lc,$c,Nc,Rc,Mc,Dc,Bc];function Rt(e){return e?(e.nodeName||"").toLowerCase():null}function kt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xs(e){var t=kt(e).Element;return e instanceof t||e instanceof Element}function ft(e){var t=kt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cr(e){if(typeof ShadowRoot>"u")return!1;var t=kt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function xb(e){var t=e.state;Object.keys(t.elements).forEach(function(s){var n=t.styles[s]||{},i=t.attributes[s]||{},o=t.elements[s];!ft(o)||!Rt(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(r){var a=i[r];a===!1?o.removeAttribute(r):o.setAttribute(r,a===!0?"":a)}))})}function Sb(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},r=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:s[n]),a=r.reduce(function(l,h){return l[h]="",l},{});!ft(i)||!Rt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const ur={name:"applyStyles",enabled:!0,phase:"write",fn:xb,effect:Sb,requires:["computeStyles"]};function $t(e){return e.split("-")[0]}var Es=Math.max,wi=Math.min,Js=Math.round;function Zs(e,t){t===void 0&&(t=!1);var s=e.getBoundingClientRect(),n=1,i=1;if(ft(e)&&t){var o=e.offsetHeight,r=e.offsetWidth;r>0&&(n=Js(s.width)/r||1),o>0&&(i=Js(s.height)/o||1)}return{width:s.width/n,height:s.height/i,top:s.top/i,right:s.right/n,bottom:s.bottom/i,left:s.left/n,x:s.left/n,y:s.top/i}}function hr(e){var t=Zs(e),s=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:n}}function Vc(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&cr(s)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ut(e){return kt(e).getComputedStyle(e)}function kb(e){return["table","td","th"].indexOf(Rt(e))>=0}function ls(e){return((Xs(e)?e.ownerDocument:e.document)||window.document).documentElement}function zi(e){return Rt(e)==="html"?e:e.assignedSlot||e.parentNode||(cr(e)?e.host:null)||ls(e)}function da(e){return!ft(e)||Ut(e).position==="fixed"?null:e.offsetParent}function Ab(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,s=navigator.userAgent.indexOf("Trident")!==-1;if(s&&ft(e)){var n=Ut(e);if(n.position==="fixed")return null}var i=zi(e);for(cr(i)&&(i=i.host);ft(i)&&["html","body"].indexOf(Rt(i))<0;){var o=Ut(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function zn(e){for(var t=kt(e),s=da(e);s&&kb(s)&&Ut(s).position==="static";)s=da(s);return s&&(Rt(s)==="html"||Rt(s)==="body"&&Ut(s).position==="static")?t:s||Ab(e)||t}function dr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Sn(e,t,s){return Es(e,wi(t,s))}function Ib(e,t,s){var n=Sn(e,t,s);return n>s?s:n}function Fc(){return{top:0,right:0,bottom:0,left:0}}function jc(e){return Object.assign({},Fc(),e)}function Uc(e,t){return t.reduce(function(s,n){return s[n]=e,s},{})}var Pb=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,jc(typeof t!="number"?t:Uc(t,fn))};function Ob(e){var t,s=e.state,n=e.name,i=e.options,o=s.elements.arrow,r=s.modifiersData.popperOffsets,a=$t(s.placement),l=dr(a),h=[Ze,ct].indexOf(a)>=0,c=h?"height":"width";if(!(!o||!r)){var f=Pb(i.padding,s),u=hr(o),b=l==="y"?Je:Ze,C=l==="y"?lt:ct,O=s.rects.reference[c]+s.rects.reference[l]-r[l]-s.rects.popper[c],I=r[l]-s.rects.reference[l],E=zn(o),H=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,W=O/2-I/2,R=f[b],Q=H-u[c]-f[C],X=H/2-u[c]/2+W,te=Sn(R,X,Q),ue=l;s.modifiersData[n]=(t={},t[ue]=te,t.centerOffset=te-X,t)}}function Lb(e){var t=e.state,s=e.options,n=s.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!Vc(t.elements.popper,i)||(t.elements.arrow=i))}const zc={name:"arrow",enabled:!0,phase:"main",fn:Ob,effect:Lb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function en(e){return e.split("-")[1]}var $b={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nb(e){var t=e.x,s=e.y,n=window,i=n.devicePixelRatio||1;return{x:Js(t*i)/i||0,y:Js(s*i)/i||0}}function fa(e){var t,s=e.popper,n=e.popperRect,i=e.placement,o=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,h=e.adaptive,c=e.roundOffsets,f=e.isFixed,u=r.x,b=u===void 0?0:u,C=r.y,O=C===void 0?0:C,I=typeof c=="function"?c({x:b,y:O}):{x:b,y:O};b=I.x,O=I.y;var E=r.hasOwnProperty("x"),H=r.hasOwnProperty("y"),W=Ze,R=Je,Q=window;if(h){var X=zn(s),te="clientHeight",ue="clientWidth";if(X===kt(s)&&(X=ls(s),Ut(X).position!=="static"&&a==="absolute"&&(te="scrollHeight",ue="scrollWidth")),X=X,i===Je||(i===Ze||i===ct)&&o===Qs){R=lt;var J=f&&X===Q&&Q.visualViewport?Q.visualViewport.height:X[te];O-=J-n.height,O*=l?1:-1}if(i===Ze||(i===Je||i===lt)&&o===Qs){W=ct;var Te=f&&X===Q&&Q.visualViewport?Q.visualViewport.width:X[ue];b-=Te-n.width,b*=l?1:-1}}var ve=Object.assign({position:a},h&&$b),Se=c===!0?Nb({x:b,y:O}):{x:b,y:O};if(b=Se.x,O=Se.y,l){var Pe;return Object.assign({},ve,(Pe={},Pe[R]=H?"0":"",Pe[W]=E?"0":"",Pe.transform=(Q.devicePixelRatio||1)<=1?"translate("+b+"px, "+O+"px)":"translate3d("+b+"px, "+O+"px, 0)",Pe))}return Object.assign({},ve,(t={},t[R]=H?O+"px":"",t[W]=E?b+"px":"",t.transform="",t))}function Rb(e){var t=e.state,s=e.options,n=s.gpuAcceleration,i=n===void 0?!0:n,o=s.adaptive,r=o===void 0?!0:o,a=s.roundOffsets,l=a===void 0?!0:a,h={placement:$t(t.placement),variation:en(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,fa(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,fa(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const fr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rb,data:{}};var si={passive:!0};function Mb(e){var t=e.state,s=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,r=n.resize,a=r===void 0?!0:r,l=kt(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(c){c.addEventListener("scroll",s.update,si)}),a&&l.addEventListener("resize",s.update,si),function(){o&&h.forEach(function(c){c.removeEventListener("scroll",s.update,si)}),a&&l.removeEventListener("resize",s.update,si)}}const pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mb,data:{}};var Db={left:"right",right:"left",bottom:"top",top:"bottom"};function fi(e){return e.replace(/left|right|bottom|top/g,function(t){return Db[t]})}var Bb={start:"end",end:"start"};function pa(e){return e.replace(/start|end/g,function(t){return Bb[t]})}function mr(e){var t=kt(e),s=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:s,scrollTop:n}}function gr(e){return Zs(ls(e)).left+mr(e).scrollLeft}function Hb(e){var t=kt(e),s=ls(e),n=t.visualViewport,i=s.clientWidth,o=s.clientHeight,r=0,a=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=n.offsetLeft,a=n.offsetTop)),{width:i,height:o,x:r+gr(e),y:a}}function Vb(e){var t,s=ls(e),n=mr(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Es(s.scrollWidth,s.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=Es(s.scrollHeight,s.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+gr(e),l=-n.scrollTop;return Ut(i||s).direction==="rtl"&&(a+=Es(s.clientWidth,i?i.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}function br(e){var t=Ut(e),s=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+i+n)}function Gc(e){return["html","body","#document"].indexOf(Rt(e))>=0?e.ownerDocument.body:ft(e)&&br(e)?e:Gc(zi(e))}function kn(e,t){var s;t===void 0&&(t=[]);var n=Gc(e),i=n===((s=e.ownerDocument)==null?void 0:s.body),o=kt(n),r=i?[o].concat(o.visualViewport||[],br(n)?n:[]):n,a=t.concat(r);return i?a:a.concat(kn(zi(r)))}function Io(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fb(e){var t=Zs(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function ma(e,t){return t===ar?Io(Hb(e)):Xs(t)?Fb(t):Io(Vb(ls(e)))}function jb(e){var t=kn(zi(e)),s=["absolute","fixed"].indexOf(Ut(e).position)>=0,n=s&&ft(e)?zn(e):e;return Xs(n)?t.filter(function(i){return Xs(i)&&Vc(i,n)&&Rt(i)!=="body"}):[]}function Ub(e,t,s){var n=t==="clippingParents"?jb(e):[].concat(t),i=[].concat(n,[s]),o=i[0],r=i.reduce(function(a,l){var h=ma(e,l);return a.top=Es(h.top,a.top),a.right=wi(h.right,a.right),a.bottom=wi(h.bottom,a.bottom),a.left=Es(h.left,a.left),a},ma(e,o));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function Wc(e){var t=e.reference,s=e.element,n=e.placement,i=n?$t(n):null,o=n?en(n):null,r=t.x+t.width/2-s.width/2,a=t.y+t.height/2-s.height/2,l;switch(i){case Je:l={x:r,y:t.y-s.height};break;case lt:l={x:r,y:t.y+t.height};break;case ct:l={x:t.x+t.width,y:a};break;case Ze:l={x:t.x-s.width,y:a};break;default:l={x:t.x,y:t.y}}var h=i?dr(i):null;if(h!=null){var c=h==="y"?"height":"width";switch(o){case Ss:l[h]=l[h]-(t[c]/2-s[c]/2);break;case Qs:l[h]=l[h]+(t[c]/2-s[c]/2);break}}return l}function tn(e,t){t===void 0&&(t={});var s=t,n=s.placement,i=n===void 0?e.placement:n,o=s.boundary,r=o===void 0?Ac:o,a=s.rootBoundary,l=a===void 0?ar:a,h=s.elementContext,c=h===void 0?Hs:h,f=s.altBoundary,u=f===void 0?!1:f,b=s.padding,C=b===void 0?0:b,O=jc(typeof C!="number"?C:Uc(C,fn)),I=c===Hs?Ic:Hs,E=e.rects.popper,H=e.elements[u?I:c],W=Ub(Xs(H)?H:H.contextElement||ls(e.elements.popper),r,l),R=Zs(e.elements.reference),Q=Wc({reference:R,element:E,strategy:"absolute",placement:i}),X=Io(Object.assign({},E,Q)),te=c===Hs?X:R,ue={top:W.top-te.top+O.top,bottom:te.bottom-W.bottom+O.bottom,left:W.left-te.left+O.left,right:te.right-W.right+O.right},J=e.modifiersData.offset;if(c===Hs&&J){var Te=J[i];Object.keys(ue).forEach(function(ve){var Se=[ct,lt].indexOf(ve)>=0?1:-1,Pe=[Je,lt].indexOf(ve)>=0?"y":"x";ue[ve]+=Te[Pe]*Se})}return ue}function zb(e,t){t===void 0&&(t={});var s=t,n=s.placement,i=s.boundary,o=s.rootBoundary,r=s.padding,a=s.flipVariations,l=s.allowedAutoPlacements,h=l===void 0?lr:l,c=en(n),f=c?a?Ao:Ao.filter(function(C){return en(C)===c}):fn,u=f.filter(function(C){return h.indexOf(C)>=0});u.length===0&&(u=f);var b=u.reduce(function(C,O){return C[O]=tn(e,{placement:O,boundary:i,rootBoundary:o,padding:r})[$t(O)],C},{});return Object.keys(b).sort(function(C,O){return b[C]-b[O]})}function Gb(e){if($t(e)===Ui)return[];var t=fi(e);return[pa(e),t,pa(t)]}function Wb(e){var t=e.state,s=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=s.mainAxis,o=i===void 0?!0:i,r=s.altAxis,a=r===void 0?!0:r,l=s.fallbackPlacements,h=s.padding,c=s.boundary,f=s.rootBoundary,u=s.altBoundary,b=s.flipVariations,C=b===void 0?!0:b,O=s.allowedAutoPlacements,I=t.options.placement,E=$t(I),H=E===I,W=l||(H||!C?[fi(I)]:Gb(I)),R=[I].concat(W).reduce(function(Le,x){return Le.concat($t(x)===Ui?zb(t,{placement:x,boundary:c,rootBoundary:f,padding:h,flipVariations:C,allowedAutoPlacements:O}):x)},[]),Q=t.rects.reference,X=t.rects.popper,te=new Map,ue=!0,J=R[0],Te=0;Te<R.length;Te++){var ve=R[Te],Se=$t(ve),Pe=en(ve)===Ss,Ke=[Je,lt].indexOf(Se)>=0,Ue=Ke?"width":"height",de=tn(t,{placement:ve,boundary:c,rootBoundary:f,altBoundary:u,padding:h}),re=Ke?Pe?ct:Ze:Pe?lt:Je;Q[Ue]>X[Ue]&&(re=fi(re));var fe=fi(re),Oe=[];if(o&&Oe.push(de[Se]<=0),a&&Oe.push(de[re]<=0,de[fe]<=0),Oe.every(function(Le){return Le})){J=ve,ue=!1;break}te.set(ve,Oe)}if(ue)for(var Ne=C?3:1,Ye=function(x){var V=R.find(function(D){var z=te.get(D);if(z)return z.slice(0,x).every(function(me){return me})});if(V)return J=V,"break"},Ve=Ne;Ve>0;Ve--){var Re=Ye(Ve);if(Re==="break")break}t.placement!==J&&(t.modifiersData[n]._skip=!0,t.placement=J,t.reset=!0)}}const Yc={name:"flip",enabled:!0,phase:"main",fn:Wb,requiresIfExists:["offset"],data:{_skip:!1}};function ga(e,t,s){return s===void 0&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function ba(e){return[Je,ct,lt,Ze].some(function(t){return e[t]>=0})}function Yb(e){var t=e.state,s=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,r=tn(t,{elementContext:"reference"}),a=tn(t,{altBoundary:!0}),l=ga(r,n),h=ga(a,i,o),c=ba(l),f=ba(h);t.modifiersData[s]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const qc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Yb};function qb(e,t,s){var n=$t(e),i=[Ze,Je].indexOf(n)>=0?-1:1,o=typeof s=="function"?s(Object.assign({},t,{placement:e})):s,r=o[0],a=o[1];return r=r||0,a=(a||0)*i,[Ze,ct].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}function Kb(e){var t=e.state,s=e.options,n=e.name,i=s.offset,o=i===void 0?[0,0]:i,r=lr.reduce(function(c,f){return c[f]=qb(f,t.rects,o),c},{}),a=r[t.placement],l=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=r}const Kc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kb};function Qb(e){var t=e.state,s=e.name;t.modifiersData[s]=Wc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const yr={name:"popperOffsets",enabled:!0,phase:"read",fn:Qb,data:{}};function Xb(e){return e==="x"?"y":"x"}function Jb(e){var t=e.state,s=e.options,n=e.name,i=s.mainAxis,o=i===void 0?!0:i,r=s.altAxis,a=r===void 0?!1:r,l=s.boundary,h=s.rootBoundary,c=s.altBoundary,f=s.padding,u=s.tether,b=u===void 0?!0:u,C=s.tetherOffset,O=C===void 0?0:C,I=tn(t,{boundary:l,rootBoundary:h,padding:f,altBoundary:c}),E=$t(t.placement),H=en(t.placement),W=!H,R=dr(E),Q=Xb(R),X=t.modifiersData.popperOffsets,te=t.rects.reference,ue=t.rects.popper,J=typeof O=="function"?O(Object.assign({},t.rects,{placement:t.placement})):O,Te=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),ve=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Se={x:0,y:0};if(!!X){if(o){var Pe,Ke=R==="y"?Je:Ze,Ue=R==="y"?lt:ct,de=R==="y"?"height":"width",re=X[R],fe=re+I[Ke],Oe=re-I[Ue],Ne=b?-ue[de]/2:0,Ye=H===Ss?te[de]:ue[de],Ve=H===Ss?-ue[de]:-te[de],Re=t.elements.arrow,Le=b&&Re?hr(Re):{width:0,height:0},x=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Fc(),V=x[Ke],D=x[Ue],z=Sn(0,te[de],Le[de]),me=W?te[de]/2-Ne-z-V-Te.mainAxis:Ye-z-V-Te.mainAxis,be=W?-te[de]/2+Ne+z+D+Te.mainAxis:Ve+z+D+Te.mainAxis,oe=t.elements.arrow&&zn(t.elements.arrow),ie=oe?R==="y"?oe.clientTop||0:oe.clientLeft||0:0,p=(Pe=ve==null?void 0:ve[R])!=null?Pe:0,g=re+me-p-ie,v=re+be-p,A=Sn(b?wi(fe,g):fe,re,b?Es(Oe,v):Oe);X[R]=A,Se[R]=A-re}if(a){var S,N=R==="x"?Je:Ze,B=R==="x"?lt:ct,$=X[Q],M=Q==="y"?"height":"width",P=$+I[N],q=$-I[B],G=[Je,Ze].indexOf(E)!==-1,Y=(S=ve==null?void 0:ve[Q])!=null?S:0,Z=G?P:$-te[M]-ue[M]-Y+Te.altAxis,he=G?$+te[M]+ue[M]-Y-Te.altAxis:q,ge=b&&G?Ib(Z,$,he):Sn(b?Z:P,$,b?he:q);X[Q]=ge,Se[Q]=ge-$}t.modifiersData[n]=Se}}const Qc={name:"preventOverflow",enabled:!0,phase:"main",fn:Jb,requiresIfExists:["offset"]};function Zb(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ey(e){return e===kt(e)||!ft(e)?mr(e):Zb(e)}function ty(e){var t=e.getBoundingClientRect(),s=Js(t.width)/e.offsetWidth||1,n=Js(t.height)/e.offsetHeight||1;return s!==1||n!==1}function sy(e,t,s){s===void 0&&(s=!1);var n=ft(t),i=ft(t)&&ty(t),o=ls(t),r=Zs(e,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!s)&&((Rt(t)!=="body"||br(o))&&(a=ey(t)),ft(t)?(l=Zs(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=gr(o))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function ny(e){var t=new Map,s=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){s.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(a){if(!s.has(a)){var l=t.get(a);l&&i(l)}}),n.push(o)}return e.forEach(function(o){s.has(o.name)||i(o)}),n}function iy(e){var t=ny(e);return Hc.reduce(function(s,n){return s.concat(t.filter(function(i){return i.phase===n}))},[])}function oy(e){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(e())})})),t}}function ry(e){var t=e.reduce(function(s,n){var i=s[n.name];return s[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,s},{});return Object.keys(t).map(function(s){return t[s]})}var ya={placement:"bottom",modifiers:[],strategy:"absolute"};function va(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Gi(e){e===void 0&&(e={});var t=e,s=t.defaultModifiers,n=s===void 0?[]:s,i=t.defaultOptions,o=i===void 0?ya:i;return function(a,l,h){h===void 0&&(h=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ya,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],u=!1,b={state:c,setOptions:function(E){var H=typeof E=="function"?E(c.options):E;O(),c.options=Object.assign({},o,c.options,H),c.scrollParents={reference:Xs(a)?kn(a):a.contextElement?kn(a.contextElement):[],popper:kn(l)};var W=iy(ry([].concat(n,c.options.modifiers)));return c.orderedModifiers=W.filter(function(R){return R.enabled}),C(),b.update()},forceUpdate:function(){if(!u){var E=c.elements,H=E.reference,W=E.popper;if(!!va(H,W)){c.rects={reference:sy(H,zn(W),c.options.strategy==="fixed"),popper:hr(W)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(Te){return c.modifiersData[Te.name]=Object.assign({},Te.data)});for(var R=0;R<c.orderedModifiers.length;R++){if(c.reset===!0){c.reset=!1,R=-1;continue}var Q=c.orderedModifiers[R],X=Q.fn,te=Q.options,ue=te===void 0?{}:te,J=Q.name;typeof X=="function"&&(c=X({state:c,options:ue,name:J,instance:b})||c)}}}},update:oy(function(){return new Promise(function(I){b.forceUpdate(),I(c)})}),destroy:function(){O(),u=!0}};if(!va(a,l))return b;b.setOptions(h).then(function(I){!u&&h.onFirstUpdate&&h.onFirstUpdate(I)});function C(){c.orderedModifiers.forEach(function(I){var E=I.name,H=I.options,W=H===void 0?{}:H,R=I.effect;if(typeof R=="function"){var Q=R({state:c,name:E,instance:b,options:W}),X=function(){};f.push(Q||X)}})}function O(){f.forEach(function(I){return I()}),f=[]}return b}}var ay=Gi(),ly=[pr,yr,fr,ur],cy=Gi({defaultModifiers:ly}),uy=[pr,yr,fr,ur,Kc,Yc,Qc,zc,qc],vr=Gi({defaultModifiers:uy});const Xc=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:Gi,detectOverflow:tn,createPopperBase:ay,createPopper:vr,createPopperLite:cy,top:Je,bottom:lt,right:ct,left:Ze,auto:Ui,basePlacements:fn,start:Ss,end:Qs,clippingParents:Ac,viewport:ar,popper:Hs,reference:Ic,variationPlacements:Ao,placements:lr,beforeRead:Pc,read:Oc,afterRead:Lc,beforeMain:$c,main:Nc,afterMain:Rc,beforeWrite:Mc,write:Dc,afterWrite:Bc,modifierPhases:Hc,applyStyles:ur,arrow:zc,computeStyles:fr,eventListeners:pr,flip:Yc,hide:qc,offset:Kc,popperOffsets:yr,preventOverflow:Qc},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Po="transitionend",hy=e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e));return e},Jc=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let s=e.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&s!=="#"?s.trim():null}return t},_r=e=>{const t=Jc(e);return t&&document.querySelector(t)?t:null},rs=e=>{const t=Jc(e);return t?document.querySelector(t):null},dy=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const n=Number.parseFloat(t),i=Number.parseFloat(s);return n||i?(t=t.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(s))):0},Zc=e=>{e.dispatchEvent(new Event(Po))},ks=e=>!(!e||typeof e!="object")&&(e.jquery!==void 0&&(e=e[0]),e.nodeType!==void 0),as=e=>ks(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(e):null,Mt=(e,t,s)=>{Object.keys(s).forEach(n=>{const i=s[n],o=t[n],r=o&&ks(o)?"element":(a=o)==null?`${a}`:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();var a;if(!new RegExp(i).test(r))throw new TypeError(`${e.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${i}".`)})},Gn=e=>!(!ks(e)||e.getClientRects().length===0)&&getComputedStyle(e).getPropertyValue("visibility")==="visible",Cs=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(e.disabled!==void 0?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false"),eu=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eu(e.parentNode):null},Ei=()=>{},pn=e=>{e.offsetHeight},tu=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},no=[],nt=()=>document.documentElement.dir==="rtl",mt=e=>{var t;t=()=>{const s=tu();if(s){const n=e.NAME,i=s.fn[n];s.fn[n]=e.jQueryInterface,s.fn[n].Constructor=e,s.fn[n].noConflict=()=>(s.fn[n]=i,e.jQueryInterface)}},document.readyState==="loading"?(no.length||document.addEventListener("DOMContentLoaded",()=>{no.forEach(s=>s())}),no.push(t)):t()},bs=e=>{typeof e=="function"&&e()},su=(e,t,s=!0)=>{if(!s)return void bs(e);const n=dy(t)+5;let i=!1;const o=({target:r})=>{r===t&&(i=!0,t.removeEventListener(Po,o),bs(e))};t.addEventListener(Po,o),setTimeout(()=>{i||Zc(t)},n)},nu=(e,t,s,n)=>{let i=e.indexOf(t);if(i===-1)return e[!s&&n?e.length-1:0];const o=e.length;return i+=s?1:-1,n&&(i=(i+o)%o),e[Math.max(0,Math.min(i,o-1))]},fy=/[^.]*(?=\..*)\.|.*/,py=/\..*/,my=/::\d+$/,io={};let _a=1;const gy={mouseenter:"mouseover",mouseleave:"mouseout"},by=/^(mouseenter|mouseleave)/i,iu=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ou(e,t){return t&&`${t}::${_a++}`||e.uidEvent||_a++}function ru(e){const t=ou(e);return e.uidEvent=t,io[t]=io[t]||{},io[t]}function yy(e,t){return function s(n){return n.delegateTarget=e,s.oneOff&&L.off(e,n.type,t),t.apply(e,[n])}}function vy(e,t,s){return function n(i){const o=e.querySelectorAll(t);for(let{target:r}=i;r&&r!==this;r=r.parentNode)for(let a=o.length;a--;)if(o[a]===r)return i.delegateTarget=r,n.oneOff&&L.off(e,i.type,t,s),s.apply(r,[i]);return null}}function au(e,t,s=null){const n=Object.keys(e);for(let i=0,o=n.length;i<o;i++){const r=e[n[i]];if(r.originalHandler===t&&r.delegationSelector===s)return r}return null}function lu(e,t,s){const n=typeof t=="string",i=n?s:t;let o=cu(e);return iu.has(o)||(o=e),[n,i,o]}function Ta(e,t,s,n,i){if(typeof t!="string"||!e)return;if(s||(s=n,n=null),by.test(t)){const b=C=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return C.call(this,O)};n?n=b(n):s=b(s)}const[o,r,a]=lu(t,s,n),l=ru(e),h=l[a]||(l[a]={}),c=au(h,r,o?s:null);if(c)return void(c.oneOff=c.oneOff&&i);const f=ou(r,t.replace(fy,"")),u=o?vy(e,s,n):yy(e,s);u.delegationSelector=o?s:null,u.originalHandler=r,u.oneOff=i,u.uidEvent=f,h[f]=u,e.addEventListener(a,u,o)}function Oo(e,t,s,n,i){const o=au(t[s],n,i);o&&(e.removeEventListener(s,o,Boolean(i)),delete t[s][o.uidEvent])}function _y(e,t,s,n){const i=t[s]||{};Object.keys(i).forEach(o=>{if(o.includes(n)){const r=i[o];Oo(e,t,s,r.originalHandler,r.delegationSelector)}})}function cu(e){return e=e.replace(py,""),gy[e]||e}const L={on(e,t,s,n){Ta(e,t,s,n,!1)},one(e,t,s,n){Ta(e,t,s,n,!0)},off(e,t,s,n){if(typeof t!="string"||!e)return;const[i,o,r]=lu(t,s,n),a=r!==t,l=ru(e),h=t.startsWith(".");if(o!==void 0)return!l||!l[r]?void 0:void Oo(e,l,r,o,i?s:null);h&&Object.keys(l).forEach(f=>{_y(e,l,f,t.slice(1))});const c=l[r]||{};Object.keys(c).forEach(f=>{const u=f.replace(my,"");if(!a||t.includes(u)){const b=c[f];Oo(e,l,r,b.originalHandler,b.delegationSelector)}})},trigger(e,t,s){if(typeof t!="string"||!e)return null;const n=tu(),i=cu(t),o=t!==i,r=iu.has(i);let a,l=!0,h=!0,c=!1,f=null;return o&&n&&(a=n.Event(t,s),n(e).trigger(a),l=!a.isPropagationStopped(),h=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),r?(f=document.createEvent("HTMLEvents"),f.initEvent(i,l,!0)):f=new CustomEvent(t,{bubbles:l,cancelable:!0}),s!==void 0&&Object.keys(s).forEach(u=>{Object.defineProperty(f,u,{get:()=>s[u]})}),c&&f.preventDefault(),h&&e.dispatchEvent(f),f.defaultPrevented&&a!==void 0&&a.preventDefault(),f}},qt=new Map,An={set(e,t,s){qt.has(e)||qt.set(e,new Map);const n=qt.get(e);n.has(t)||n.size===0?n.set(t,s):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(e,t)=>qt.has(e)&&qt.get(e).get(t)||null,remove(e,t){if(!qt.has(e))return;const s=qt.get(e);s.delete(t),s.size===0&&qt.delete(e)}};class At{constructor(t){(t=as(t))&&(this._element=t,An.set(this._element,this.constructor.DATA_KEY,this))}dispose(){An.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(t=>{this[t]=null})}_queueCallback(t,s,n=!0){su(t,s,n)}static getInstance(t){return An.get(as(t),this.DATA_KEY)}static getOrCreateInstance(t,s={}){return this.getInstance(t)||new this(t,typeof s=="object"?s:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const Wi=(e,t="hide")=>{const s=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;L.on(document,s,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Cs(this))return;const o=rs(this)||this.closest(`.${n}`);e.getOrCreateInstance(o)[t]()})},Ty="alert",wy="close.bs.alert",Ey="closed.bs.alert";class Ci extends At{static get NAME(){return Ty}close(){if(L.trigger(this._element,wy).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),L.trigger(this._element,Ey),this.dispose()}static jQueryInterface(t){return this.each(function(){const s=Ci.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}Wi(Ci,"close"),mt(Ci);const Cy="button",wa='[data-bs-toggle="button"]',xy="click.bs.button.data-api";class xi extends At{static get NAME(){return Cy}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const s=xi.getOrCreateInstance(this);t==="toggle"&&s[t]()})}}function Ea(e){return e==="true"||e!=="false"&&(e===Number(e).toString()?Number(e):e===""||e==="null"?null:e)}function oo(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}L.on(document,xy,wa,e=>{e.preventDefault();const t=e.target.closest(wa);xi.getOrCreateInstance(t).toggle()}),mt(xi);const We={setDataAttribute(e,t,s){e.setAttribute(`data-bs-${oo(t)}`,s)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${oo(t)}`)},getDataAttributes(e){if(!e)return{};const t={};return Object.keys(e.dataset).filter(s=>s.startsWith("bs")).forEach(s=>{let n=s.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=Ea(e.dataset[s])}),t},getDataAttribute:(e,t)=>Ea(e.getAttribute(`data-bs-${oo(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:e=>({top:e.offsetTop,left:e.offsetLeft})},ne={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(s=>s.matches(t)),parents(e,t){const s=[];let n=e.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&n.nodeType!==3;)n.matches(t)&&s.push(n),n=n.parentNode;return s},prev(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(", ");return this.find(t,e).filter(s=>!Cs(s)&&Gn(s))}},Ca="carousel",xa={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Sy={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ds="next",fs="prev",ms="left",wn="right",ky={ArrowLeft:wn,ArrowRight:ms},Ay="slide.bs.carousel",Sa="slid.bs.carousel",Iy="keydown.bs.carousel",Py="mouseenter.bs.carousel",Oy="mouseleave.bs.carousel",Ly="touchstart.bs.carousel",$y="touchmove.bs.carousel",Ny="touchend.bs.carousel",Ry="pointerdown.bs.carousel",My="pointerup.bs.carousel",Dy="dragstart.bs.carousel",By="load.bs.carousel.data-api",Hy="click.bs.carousel.data-api",Vy="carousel-item-end",Fy="carousel-item-start",jy="carousel-item-next",Uy="carousel-item-prev",ni=".active.carousel-item",zy=".carousel-item",Gy=".carousel-item img",Wy=".carousel-item-next, .carousel-item-prev",Yy=".carousel-indicators",qy="[data-bs-slide], [data-bs-slide-to]",Ky='[data-bs-ride="carousel"]';class Ft extends At{constructor(t,s){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(s),this._indicatorsElement=ne.findOne(Yy,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return xa}static get NAME(){return Ca}next(){this._slide(ds)}nextWhenVisible(){!document.hidden&&Gn(this._element)&&this.next()}prev(){this._slide(fs)}pause(t){t||(this._isPaused=!0),ne.findOne(Wy,this._element)&&(Zc(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=ne.findOne(ni,this._element);const s=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void L.one(this._element,Sa,()=>this.to(t));if(s===t)return this.pause(),void this.cycle();const n=t>s?ds:fs;this._slide(n,this._items[t])}_getConfig(t){return t={...xa,...We.getDataAttributes(this._element),...typeof t=="object"?t:{}},Mt(Ca,t,Sy),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const s=t/this.touchDeltaX;this.touchDeltaX=0,s&&this._slide(s>0?wn:ms)}_addEventListeners(){this._config.keyboard&&L.on(this._element,Iy,t=>this._keydown(t)),this._config.pause==="hover"&&(L.on(this._element,Py,t=>this.pause(t)),L.on(this._element,Oy,t=>this.cycle(t))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=o=>this._pointerEvent&&(o.pointerType==="pen"||o.pointerType==="touch"),s=o=>{t(o)?this.touchStartX=o.clientX:this._pointerEvent||(this.touchStartX=o.touches[0].clientX)},n=o=>{this.touchDeltaX=o.touches&&o.touches.length>1?0:o.touches[0].clientX-this.touchStartX},i=o=>{t(o)&&(this.touchDeltaX=o.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(r=>this.cycle(r),500+this._config.interval))};ne.find(Gy,this._element).forEach(o=>{L.on(o,Dy,r=>r.preventDefault())}),this._pointerEvent?(L.on(this._element,Ry,o=>s(o)),L.on(this._element,My,o=>i(o)),this._element.classList.add("pointer-event")):(L.on(this._element,Ly,o=>s(o)),L.on(this._element,$y,o=>n(o)),L.on(this._element,Ny,o=>i(o)))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const s=ky[t.key];s&&(t.preventDefault(),this._slide(s))}_getItemIndex(t){return this._items=t&&t.parentNode?ne.find(zy,t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,s){const n=t===ds;return nu(this._items,s,n,this._config.wrap)}_triggerSlideEvent(t,s){const n=this._getItemIndex(t),i=this._getItemIndex(ne.findOne(ni,this._element));return L.trigger(this._element,Ay,{relatedTarget:t,direction:s,from:i,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const s=ne.findOne(".active",this._indicatorsElement);s.classList.remove("active"),s.removeAttribute("aria-current");const n=ne.find("[data-bs-target]",this._indicatorsElement);for(let i=0;i<n.length;i++)if(Number.parseInt(n[i].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[i].classList.add("active"),n[i].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||ne.findOne(ni,this._element);if(!t)return;const s=Number.parseInt(t.getAttribute("data-bs-interval"),10);s?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=s):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,s){const n=this._directionToOrder(t),i=ne.findOne(ni,this._element),o=this._getItemIndex(i),r=s||this._getItemByOrder(n,i),a=this._getItemIndex(r),l=Boolean(this._interval),h=n===ds,c=h?Fy:Vy,f=h?jy:Uy,u=this._orderToDirection(n);if(r&&r.classList.contains("active"))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(r,u).defaultPrevented||!i||!r)return;this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const b=()=>{L.trigger(this._element,Sa,{relatedTarget:r,direction:u,from:o,to:a})};if(this._element.classList.contains("slide")){r.classList.add(f),pn(r),i.classList.add(c),r.classList.add(c);const C=()=>{r.classList.remove(c,f),r.classList.add("active"),i.classList.remove("active",f,c),this._isSliding=!1,setTimeout(b,0)};this._queueCallback(C,i,!0)}else i.classList.remove("active"),r.classList.add("active"),this._isSliding=!1,b();l&&this.cycle()}_directionToOrder(t){return[wn,ms].includes(t)?nt()?t===ms?fs:ds:t===ms?ds:fs:t}_orderToDirection(t){return[ds,fs].includes(t)?nt()?t===fs?ms:wn:t===fs?wn:ms:t}static carouselInterface(t,s){const n=Ft.getOrCreateInstance(t,s);let{_config:i}=n;typeof s=="object"&&(i={...i,...s});const o=typeof s=="string"?s:i.slide;if(typeof s=="number")n.to(s);else if(typeof o=="string"){if(n[o]===void 0)throw new TypeError(`No method named "${o}"`);n[o]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each(function(){Ft.carouselInterface(this,t)})}static dataApiClickHandler(t){const s=rs(this);if(!s||!s.classList.contains("carousel"))return;const n={...We.getDataAttributes(s),...We.getDataAttributes(this)},i=this.getAttribute("data-bs-slide-to");i&&(n.interval=!1),Ft.carouselInterface(s,n),i&&Ft.getInstance(s).to(i),t.preventDefault()}}L.on(document,Hy,qy,Ft.dataApiClickHandler),L.on(window,By,()=>{const e=ne.find(Ky);for(let t=0,s=e.length;t<s;t++)Ft.carouselInterface(e[t],Ft.getInstance(e[t]))}),mt(Ft);const ka="collapse",Qy="bs.collapse",Aa={toggle:!0,parent:null},Xy={toggle:"boolean",parent:"(null|element)"},Jy="show.bs.collapse",Zy="shown.bs.collapse",ev="hide.bs.collapse",tv="hidden.bs.collapse",sv="click.bs.collapse.data-api",Ia=":scope .collapse .collapse",nv="width",iv="height",ov=".collapse.show, .collapse.collapsing",Lo='[data-bs-toggle="collapse"]';class Ws extends At{constructor(t,s){super(t),this._isTransitioning=!1,this._config=this._getConfig(s),this._triggerArray=[];const n=ne.find(Lo);for(let i=0,o=n.length;i<o;i++){const r=n[i],a=_r(r),l=ne.find(a).filter(h=>h===this._element);a!==null&&l.length&&(this._selector=a,this._triggerArray.push(r))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Aa}static get NAME(){return ka}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,s=[];if(this._config.parent){const r=ne.find(Ia,this._config.parent);s=ne.find(ov,this._config.parent).filter(a=>!r.includes(a))}const n=ne.findOne(this._selector);if(s.length){const r=s.find(a=>n!==a);if(t=r?Ws.getInstance(r):null,t&&t._isTransitioning)return}if(L.trigger(this._element,Jy).defaultPrevented)return;s.forEach(r=>{n!==r&&Ws.getOrCreateInstance(r,{toggle:!1}).hide(),t||An.set(r,Qy,null)});const i=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[i]="",L.trigger(this._element,Zy)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,ev).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,pn(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");const s=this._triggerArray.length;for(let n=0;n<s;n++){const i=this._triggerArray[n],o=rs(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),L.trigger(this._element,tv)},this._element,!0)}_isShown(t=this._element){return t.classList.contains("show")}_getConfig(t){return(t={...Aa,...We.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=as(t.parent),Mt(ka,t,Xy),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?nv:iv}_initializeChildren(){if(!this._config.parent)return;const t=ne.find(Ia,this._config.parent);ne.find(Lo,this._config.parent).filter(s=>!t.includes(s)).forEach(s=>{const n=rs(s);n&&this._addAriaAndCollapsedClass([s],this._isShown(n))})}_addAriaAndCollapsedClass(t,s){t.length&&t.forEach(n=>{s?n.classList.remove("collapsed"):n.classList.add("collapsed"),n.setAttribute("aria-expanded",s)})}static jQueryInterface(t){return this.each(function(){const s={};typeof t=="string"&&/show|hide/.test(t)&&(s.toggle=!1);const n=Ws.getOrCreateInstance(this,s);if(typeof t=="string"){if(n[t]===void 0)throw new TypeError(`No method named "${t}"`);n[t]()}})}}L.on(document,sv,Lo,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();const t=_r(this);ne.find(t).forEach(s=>{Ws.getOrCreateInstance(s,{toggle:!1}).toggle()})}),mt(Ws);const ro="dropdown",rv=new RegExp("ArrowUp|ArrowDown|Escape"),av="hide.bs.dropdown",lv="hidden.bs.dropdown",cv="show.bs.dropdown",uv="shown.bs.dropdown",Pa="click.bs.dropdown.data-api",Oa="keydown.bs.dropdown.data-api",hv="keyup.bs.dropdown.data-api",In='[data-bs-toggle="dropdown"]',$o=".dropdown-menu",dv=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",fv=nt()?"top-end":"top-start",pv=nt()?"top-start":"top-end",mv=nt()?"bottom-end":"bottom-start",gv=nt()?"bottom-start":"bottom-end",bv=nt()?"left-start":"right-start",yv=nt()?"right-start":"left-start",vv={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},_v={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class dt extends At{constructor(t,s){super(t),this._popper=null,this._config=this._getConfig(s),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return vv}static get DefaultType(){return _v}static get NAME(){return ro}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Cs(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(L.trigger(this._element,cv,t).defaultPrevented)return;const s=dt.getParentFromElement(this._element);this._inNavbar?We.setDataAttribute(this._menu,"popper","none"):this._createPopper(s),"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(n=>L.on(n,"mouseover",Ei)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add("show"),this._element.classList.add("show"),L.trigger(this._element,uv,t)}hide(){if(Cs(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){L.trigger(this._element,av,t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(s=>L.off(s,"mouseover",Ei)),this._popper&&this._popper.destroy(),this._menu.classList.remove("show"),this._element.classList.remove("show"),this._element.setAttribute("aria-expanded","false"),We.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,lv,t))}_getConfig(t){if(t={...this.constructor.Default,...We.getDataAttributes(this._element),...t},Mt(ro,t,this.constructor.DefaultType),typeof t.reference=="object"&&!ks(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${ro.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(Xc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let s=this._element;this._config.reference==="parent"?s=t:ks(this._config.reference)?s=as(this._config.reference):typeof this._config.reference=="object"&&(s=this._config.reference);const n=this._getPopperConfig(),i=n.modifiers.find(o=>o.name==="applyStyles"&&o.enabled===!1);this._popper=vr(s,this._menu,n),i&&We.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains("show")}_getMenuElement(){return ne.next(this._element,$o)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return bv;if(t.classList.contains("dropstart"))return yv;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains("dropup")?s?pv:fv:s?gv:mv}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:s}){const n=ne.find(dv,this._menu).filter(Gn);n.length&&nu(n,s,t==="ArrowDown",!n.includes(s)).focus()}static jQueryInterface(t){return this.each(function(){const s=dt.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0)throw new TypeError(`No method named "${t}"`);s[t]()}})}static clearMenus(t){if(t&&(t.button===2||t.type==="keyup"&&t.key!=="Tab"))return;const s=ne.find(In);for(let n=0,i=s.length;n<i;n++){const o=dt.getInstance(s[n]);if(!o||o._config.autoClose===!1||!o._isShown())continue;const r={relatedTarget:o._element};if(t){const a=t.composedPath(),l=a.includes(o._menu);if(a.includes(o._element)||o._config.autoClose==="inside"&&!l||o._config.autoClose==="outside"&&l||o._menu.contains(t.target)&&(t.type==="keyup"&&t.key==="Tab"||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;t.type==="click"&&(r.clickEvent=t)}o._completeHide(r)}}static getParentFromElement(t){return rs(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key==="Space"||t.key!=="Escape"&&(t.key!=="ArrowDown"&&t.key!=="ArrowUp"||t.target.closest($o)):!rv.test(t.key))return;const s=this.classList.contains("show");if(!s&&t.key==="Escape"||(t.preventDefault(),t.stopPropagation(),Cs(this)))return;const n=this.matches(In)?this:ne.prev(this,In)[0],i=dt.getOrCreateInstance(n);if(t.key!=="Escape")return t.key==="ArrowUp"||t.key==="ArrowDown"?(s||i.show(),void i._selectMenuItem(t)):void(s&&t.key!=="Space"||dt.clearMenus());i.hide()}}L.on(document,Oa,In,dt.dataApiKeydownHandler),L.on(document,Oa,$o,dt.dataApiKeydownHandler),L.on(document,Pa,dt.clearMenus),L.on(document,hv,dt.clearMenus),L.on(document,Pa,In,function(e){e.preventDefault(),dt.getOrCreateInstance(this).toggle()}),mt(dt);const La=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top";class No{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",s=>s+t),this._setElementAttributes(La,"paddingRight",s=>s+t),this._setElementAttributes(".sticky-top","marginRight",s=>s-t)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,s,n){const i=this.getWidth();this._applyManipulationCallback(t,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,s);const r=window.getComputedStyle(o)[s];o.style[s]=`${n(Number.parseFloat(r))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(La,"paddingRight"),this._resetElementAttributes(".sticky-top","marginRight")}_saveInitialAttribute(t,s){const n=t.style[s];n&&We.setDataAttribute(t,s,n)}_resetElementAttributes(t,s){this._applyManipulationCallback(t,n=>{const i=We.getDataAttribute(n,s);i===void 0?n.style.removeProperty(s):(We.removeDataAttribute(n,s),n.style[s]=i)})}_applyManipulationCallback(t,s){ks(t)?s(t):ne.find(t,this._element).forEach(s)}isOverflowing(){return this.getWidth()>0}}const Tv={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},wv={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ev="backdrop",$a="mousedown.bs.backdrop";class uu{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&pn(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(()=>{bs(t)})):bs(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),bs(t)})):bs(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...Tv,...typeof t=="object"?t:{}}).rootElement=as(t.rootElement),Mt(Ev,t,wv),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),L.on(this._getElement(),$a,()=>{bs(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(L.off(this._element,$a),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){su(t,this._getElement(),this._config.isAnimated)}}const Cv={trapElement:null,autofocus:!0},xv={trapElement:"element",autofocus:"boolean"},Sv="focustrap",Na=".bs.focustrap",kv="focusin.bs.focustrap",Av="keydown.tab.bs.focustrap";class hu{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:s}=this._config;this._isActive||(s&&t.focus(),L.off(document,Na),L.on(document,kv,n=>this._handleFocusin(n)),L.on(document,Av,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,Na))}_handleFocusin(t){const{target:s}=t,{trapElement:n}=this._config;if(s===document||s===n||n.contains(s))return;const i=ne.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection==="backward"?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key==="Tab"&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}_getConfig(t){return t={...Cv,...typeof t=="object"?t:{}},Mt(Sv,t,xv),t}}const Ra="modal",Ma={backdrop:!0,keyboard:!0,focus:!0},Iv={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Pv="hide.bs.modal",Ov="hidePrevented.bs.modal",du="hidden.bs.modal",fu="show.bs.modal",Lv="shown.bs.modal",Da="resize.bs.modal",Ba="click.dismiss.bs.modal",Ha="keydown.dismiss.bs.modal",$v="mouseup.dismiss.bs.modal",Va="mousedown.dismiss.bs.modal",Nv="click.bs.modal.data-api",Rv='[data-bs-toggle="modal"]';class js extends At{constructor(t,s){super(t),this._config=this._getConfig(s),this._dialog=ne.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new No}static get Default(){return Ma}static get NAME(){return Ra}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||L.trigger(this._element,fu,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),L.on(this._dialog,Va,()=>{L.one(this._element,$v,s=>{s.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(){if(!this._isShown||this._isTransitioning||L.trigger(this._element,Pv).defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),L.off(this._element,Ba),L.off(this._dialog,Va),this._queueCallback(()=>this._hideModal(),this._element,t)}dispose(){[window,this._dialog].forEach(t=>L.off(t,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new uu({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hu({trapElement:this._element})}_getConfig(t){return t={...Ma,...We.getDataAttributes(this._element),...typeof t=="object"?t:{}},Mt(Ra,t,Iv),t}_showElement(t){const s=this._isAnimated(),n=ne.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),s&&pn(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,Lv,{relatedTarget:t})},this._dialog,s)}_setEscapeEvent(){this._isShown?L.on(this._element,Ha,t=>{this._config.keyboard&&t.key==="Escape"?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!=="Escape"||this._triggerBackdropTransition()}):L.off(this._element,Ha)}_setResizeEvent(){this._isShown?L.on(window,Da,()=>this._adjustDialog()):L.off(window,Da)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove("modal-open"),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,du)})}_showBackdrop(t){L.on(this._element,Ba,s=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:s.target===s.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,Ov).defaultPrevented)return;const{classList:t,scrollHeight:s,style:n}=this._element,i=s>document.documentElement.clientHeight;!i&&n.overflowY==="hidden"||t.contains("modal-static")||(i||(n.overflowY="hidden"),t.add("modal-static"),this._queueCallback(()=>{t.remove("modal-static"),i||this._queueCallback(()=>{n.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),n=s>0;(!n&&t&&!nt()||n&&!t&&nt())&&(this._element.style.paddingLeft=`${s}px`),(n&&!t&&!nt()||!n&&t&&nt())&&(this._element.style.paddingRight=`${s}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,s){return this.each(function(){const n=js.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0)throw new TypeError(`No method named "${t}"`);n[t](s)}})}}L.on(document,Nv,Rv,function(e){const t=rs(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),L.one(t,fu,n=>{n.defaultPrevented||L.one(t,du,()=>{Gn(this)&&this.focus()})});const s=ne.findOne(".modal.show");s&&js.getInstance(s).hide(),js.getOrCreateInstance(t).toggle(this)}),Wi(js),mt(js);const Fa="offcanvas",Mv="load.bs.offcanvas.data-api",ja={backdrop:!0,keyboard:!0,scroll:!1},Dv={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Bv="offcanvas-backdrop",Ua=".offcanvas.show",Hv="show.bs.offcanvas",Vv="shown.bs.offcanvas",Fv="hide.bs.offcanvas",pu="hidden.bs.offcanvas",jv="click.bs.offcanvas.data-api",Uv="keydown.dismiss.bs.offcanvas",zv='[data-bs-toggle="offcanvas"]';class ys extends At{constructor(t,s){super(t),this._config=this._getConfig(s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Fa}static get Default(){return ja}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||L.trigger(this._element,Hv,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new No().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),L.trigger(this._element,Vv,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,Fv).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new No().reset(),L.trigger(this._element,pu)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...ja,...We.getDataAttributes(this._element),...typeof t=="object"?t:{}},Mt(Fa,t,Dv),t}_initializeBackDrop(){return new uu({className:Bv,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new hu({trapElement:this._element})}_addEventListeners(){L.on(this._element,Uv,t=>{this._config.keyboard&&t.key==="Escape"&&this.hide()})}static jQueryInterface(t){return this.each(function(){const s=ys.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}L.on(document,jv,zv,function(e){const t=rs(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Cs(this))return;L.one(t,pu,()=>{Gn(this)&&this.focus()});const s=ne.findOne(Ua);s&&s!==t&&ys.getInstance(s).hide(),ys.getOrCreateInstance(t).toggle(this)}),L.on(window,Mv,()=>ne.find(Ua).forEach(e=>ys.getOrCreateInstance(e).show())),Wi(ys),mt(ys);const Gv=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Wv=/^aria-[\w-]*$/i,Yv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,qv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Kv=(e,t)=>{const s=e.nodeName.toLowerCase();if(t.includes(s))return!Gv.has(s)||Boolean(Yv.test(e.nodeValue)||qv.test(e.nodeValue));const n=t.filter(i=>i instanceof RegExp);for(let i=0,o=n.length;i<o;i++)if(n[i].test(s))return!0;return!1},Qv={"*":["class","dir","id","lang","role",Wv],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function za(e,t,s){if(!e.length)return e;if(s&&typeof s=="function")return s(e);const n=new window.DOMParser().parseFromString(e,"text/html"),i=[].concat(...n.body.querySelectorAll("*"));for(let o=0,r=i.length;o<r;o++){const a=i[o],l=a.nodeName.toLowerCase();if(!Object.keys(t).includes(l)){a.remove();continue}const h=[].concat(...a.attributes),c=[].concat(t["*"]||[],t[l]||[]);h.forEach(f=>{Kv(f,c)||a.removeAttribute(f.nodeName)})}return n.body.innerHTML}const Ga="tooltip",Xv=new Set(["sanitize","allowList","sanitizeFn"]),Jv={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Zv={AUTO:"auto",TOP:"top",RIGHT:nt()?"left":"right",BOTTOM:"bottom",LEFT:nt()?"right":"left"},e_={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Qv,popperConfig:null},t_={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"};class Os extends At{constructor(t,s){if(Xc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(s),this.tip=null,this._setListeners()}static get Default(){return e_}static get NAME(){return Ga}static get Event(){return t_}static get DefaultType(){return Jv}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const s=this._initializeOnDelegatedTarget(t);s._activeTrigger.click=!s._activeTrigger.click,s._isWithActiveTrigger()?s._enter(null,s):s._leave(null,s)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=L.trigger(this._element,this.constructor.Event.SHOW),s=eu(this._element),n=s===null?this._element.ownerDocument.documentElement.contains(this._element):s.contains(this._element);if(t.defaultPrevented||!n)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(".tooltip-inner").innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),o=hy(this.constructor.NAME);i.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this._config.animation&&i.classList.add("fade");const r=typeof this._config.placement=="function"?this._config.placement.call(this,i,this._element):this._config.placement,a=this._getAttachment(r);this._addAttachmentClass(a);const{container:l}=this._config;An.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(i),L.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=vr(this._element,i,this._getPopperConfig(a)),i.classList.add("show");const h=this._resolvePossibleFunction(this._config.customClass);h&&i.classList.add(...h.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(f=>{L.on(f,"mouseover",Ei)});const c=this.tip.classList.contains("fade");this._queueCallback(()=>{const f=this._hoverState;this._hoverState=null,L.trigger(this._element,this.constructor.Event.SHOWN),f==="out"&&this._leave(null,this)},this.tip,c)}hide(){if(!this._popper)return;const t=this.getTipElement();if(L.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove("show"),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(n=>L.off(n,"mouseover",Ei)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const s=this.tip.classList.contains("fade");this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!=="show"&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,s),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const s=t.children[0];return this.setContent(s),s.classList.remove("fade","show"),this.tip=s,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".tooltip-inner")}_sanitizeAndSetContent(t,s,n){const i=ne.findOne(n,t);s||!i?this.setElementContent(i,s):i.remove()}setElementContent(t,s){if(t!==null)return ks(s)?(s=as(s),void(this._config.html?s.parentNode!==t&&(t.innerHTML="",t.append(s)):t.textContent=s.textContent)):void(this._config.html?(this._config.sanitize&&(s=za(s,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=s):t.textContent=s)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return t==="right"?"end":t==="left"?"start":t}_initializeOnDelegatedTarget(t,s){return s||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const s={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:n=>this._handlePopperPlacementChange(n)}],onFirstUpdate:n=>{n.options.placement!==n.placement&&this._handlePopperPlacementChange(n)}};return{...s,...typeof this._config.popperConfig=="function"?this._config.popperConfig(s):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return Zv[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(t=>{if(t==="click")L.on(this._element,this.constructor.Event.CLICK,this._config.selector,s=>this.toggle(s));else if(t!=="manual"){const s=t==="hover"?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t==="hover"?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;L.on(this._element,s,this._config.selector,i=>this._enter(i)),L.on(this._element,n,this._config.selector,i=>this._leave(i))}}),this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),s=typeof this._element.getAttribute("data-bs-original-title");(t||s!=="string")&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,s){s=this._initializeOnDelegatedTarget(t,s),t&&(s._activeTrigger[t.type==="focusin"?"focus":"hover"]=!0),s.getTipElement().classList.contains("show")||s._hoverState==="show"?s._hoverState="show":(clearTimeout(s._timeout),s._hoverState="show",s._config.delay&&s._config.delay.show?s._timeout=setTimeout(()=>{s._hoverState==="show"&&s.show()},s._config.delay.show):s.show())}_leave(t,s){s=this._initializeOnDelegatedTarget(t,s),t&&(s._activeTrigger[t.type==="focusout"?"focus":"hover"]=s._element.contains(t.relatedTarget)),s._isWithActiveTrigger()||(clearTimeout(s._timeout),s._hoverState="out",s._config.delay&&s._config.delay.hide?s._timeout=setTimeout(()=>{s._hoverState==="out"&&s.hide()},s._config.delay.hide):s.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const s=We.getDataAttributes(this._element);return Object.keys(s).forEach(n=>{Xv.has(n)&&delete s[n]}),(t={...this.constructor.Default,...s,...typeof t=="object"&&t?t:{}}).container=t.container===!1?document.body:as(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),Mt(Ga,t,this.constructor.DefaultType),t.sanitize&&(t.template=za(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const s in this._config)this.constructor.Default[s]!==this._config[s]&&(t[s]=this._config[s]);return t}_cleanTipClass(){const t=this.getTipElement(),s=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(s);n!==null&&n.length>0&&n.map(i=>i.trim()).forEach(i=>t.classList.remove(i))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:s}=t;s&&(this.tip=s.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(s.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each(function(){const s=Os.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0)throw new TypeError(`No method named "${t}"`);s[t]()}})}}mt(Os);const s_="popover",n_={...Os.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},i_={...Os.DefaultType,content:"(string|element|function)"},o_={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},r_=".popover-header";class Tr extends Os{static get Default(){return n_}static get NAME(){return s_}static get Event(){return o_}static get DefaultType(){return i_}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),r_),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each(function(){const s=Tr.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0)throw new TypeError(`No method named "${t}"`);s[t]()}})}}mt(Tr);const Wa="scrollspy",a_=".bs.scrollspy",Ya={offset:10,method:"auto",target:""},l_={offset:"number",method:"string",target:"(string|element)"},c_="activate.bs.scrollspy",u_="scroll.bs.scrollspy",h_="load.bs.scrollspy.data-api",d_='[data-bs-spy="scroll"]',ao=".nav-link, .list-group-item, .dropdown-item";class Si extends At{constructor(t,s){super(t),this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(s),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,L.on(this._scrollElement,u_,()=>this._process()),this.refresh(),this._process()}static get Default(){return Ya}static get NAME(){return Wa}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":"position",s=this._config.method==="auto"?t:this._config.method,n=s==="position"?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),ne.find(ao,this._config.target).map(i=>{const o=_r(i),r=o?ne.findOne(o):null;if(r){const a=r.getBoundingClientRect();if(a.width||a.height)return[We[s](r).top+n,o]}return null}).filter(i=>i).sort((i,o)=>i[0]-o[0]).forEach(i=>{this._offsets.push(i[0]),this._targets.push(i[1])})}dispose(){L.off(this._scrollElement,a_),super.dispose()}_getConfig(t){return(t={...Ya,...We.getDataAttributes(this._element),...typeof t=="object"&&t?t:{}}).target=as(t.target)||document.documentElement,Mt(Wa,t,l_),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,s=this._getScrollHeight(),n=this._config.offset+s-this._getOffsetHeight();if(this._scrollHeight!==s&&this.refresh(),t>=n){const i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(this._offsets[i+1]===void 0||t<this._offsets[i+1])&&this._activate(this._targets[i])}}_activate(t){this._activeTarget=t,this._clear();const s=ao.split(",").map(i=>`${i}[data-bs-target="${t}"],${i}[href="${t}"]`),n=ne.findOne(s.join(","),this._config.target);n.classList.add("active"),n.classList.contains("dropdown-item")?ne.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"):ne.parents(n,".nav, .list-group").forEach(i=>{ne.prev(i,".nav-link, .list-group-item").forEach(o=>o.classList.add("active")),ne.prev(i,".nav-item").forEach(o=>{ne.children(o,".nav-link").forEach(r=>r.classList.add("active"))})}),L.trigger(this._scrollElement,c_,{relatedTarget:t})}_clear(){ne.find(ao,this._config.target).filter(t=>t.classList.contains("active")).forEach(t=>t.classList.remove("active"))}static jQueryInterface(t){return this.each(function(){const s=Si.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0)throw new TypeError(`No method named "${t}"`);s[t]()}})}}L.on(window,h_,()=>{ne.find(d_).forEach(e=>new Si(e))}),mt(Si);const f_="hide.bs.tab",p_="hidden.bs.tab",m_="show.bs.tab",g_="shown.bs.tab",b_="click.bs.tab.data-api",qa=":scope > li > .active",y_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',v_=":scope > .dropdown-menu .active";class ki extends At{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active"))return;let t;const s=rs(this._element),n=this._element.closest(".nav, .list-group");if(n){const r=n.nodeName==="UL"||n.nodeName==="OL"?qa:".active";t=ne.find(r,n),t=t[t.length-1]}const i=t?L.trigger(t,f_,{relatedTarget:this._element}):null;if(L.trigger(this._element,m_,{relatedTarget:t}).defaultPrevented||i!==null&&i.defaultPrevented)return;this._activate(this._element,n);const o=()=>{L.trigger(t,p_,{relatedTarget:this._element}),L.trigger(this._element,g_,{relatedTarget:t})};s?this._activate(s,s.parentNode,o):o()}_activate(t,s,n){const i=(!s||s.nodeName!=="UL"&&s.nodeName!=="OL"?ne.children(s,".active"):ne.find(qa,s))[0],o=n&&i&&i.classList.contains("fade"),r=()=>this._transitionComplete(t,i,n);i&&o?(i.classList.remove("show"),this._queueCallback(r,t,!0)):r()}_transitionComplete(t,s,n){if(s){s.classList.remove("active");const o=ne.findOne(v_,s.parentNode);o&&o.classList.remove("active"),s.getAttribute("role")==="tab"&&s.setAttribute("aria-selected",!1)}t.classList.add("active"),t.getAttribute("role")==="tab"&&t.setAttribute("aria-selected",!0),pn(t),t.classList.contains("fade")&&t.classList.add("show");let i=t.parentNode;if(i&&i.nodeName==="LI"&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){const o=t.closest(".dropdown");o&&ne.find(".dropdown-toggle",o).forEach(r=>r.classList.add("active")),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each(function(){const s=ki.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0)throw new TypeError(`No method named "${t}"`);s[t]()}})}}L.on(document,b_,y_,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Cs(this)||ki.getOrCreateInstance(this).show()}),mt(ki);const Ka="toast",__="mouseover.bs.toast",T_="mouseout.bs.toast",w_="focusin.bs.toast",E_="focusout.bs.toast",C_="hide.bs.toast",x_="hidden.bs.toast",S_="show.bs.toast",k_="shown.bs.toast",A_={animation:"boolean",autohide:"boolean",delay:"number"},Qa={animation:!0,autohide:!0,delay:5e3};class Ai extends At{constructor(t,s){super(t),this._config=this._getConfig(s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return A_}static get Default(){return Qa}static get NAME(){return Ka}show(){L.trigger(this._element,S_).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),pn(this._element),this._element.classList.add("show"),this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.remove("showing"),L.trigger(this._element,k_),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains("show")&&(L.trigger(this._element,C_).defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove("showing"),this._element.classList.remove("show"),L.trigger(this._element,x_)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),super.dispose()}_getConfig(t){return t={...Qa,...We.getDataAttributes(this._element),...typeof t=="object"&&t?t:{}},Mt(Ka,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,s){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=s;break;case"focusin":case"focusout":this._hasKeyboardInteraction=s}if(s)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,__,t=>this._onInteraction(t,!0)),L.on(this._element,T_,t=>this._onInteraction(t,!1)),L.on(this._element,w_,t=>this._onInteraction(t,!0)),L.on(this._element,E_,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const s=Ai.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0)throw new TypeError(`No method named "${t}"`);s[t](this)}})}}Wi(Ai),mt(Ai);const Xa=1200,Ja=677,Za=900,el=12,Kt=34,ii=.991,oi=1/8;let Ht,gn,Qt;const I_=De({components:{Chat:rr},name:"PoolTable",mixins:[xt,Fi,gc],props:["watch"],data(){return{canvas:void 0,balls:[],cueBall:void 0,cue:void 0,poolTable:void 0,gameOptions:{pointerLine:!1,notificationSound:!1},mouseCoordsTemp:void 0,handBall:!1,playingTurn:!1,resultSnapshot:void 0,pocketSelection:!1,selectedPocket:null,turnQueue:{actions:[],blocked:!1}}},watch:{turnQueueLength:{handler(e,t){e>t&&this.consumeTurns()}},mouseEnabled:{handler(e,t){e&&!Qt?(console.log("watcher:restartReducerInterval"),this.restartReducerInterval()):e||(this.stopReducerInterval(),this.stopCueInterval(),Qt=null)}},timeRunOut:{handler(e,t){e&&(console.log("watcher:stopreducer"),this.stopReducerInterval(),(this.isOngoingGame()&&this.isMyTurnInSnapshot()||this.firstTurnPlayed===!1||this.firstTurnPlayed===void 0)&&this.resign())}}},created(){this.unsubscribe=this.$store.subscribe((e,t)=>{e.type==="rematch"&&(this.resultSnapshot=null,this.initTable()),e.type==="resign"&&(this.theTable.playerInTurn=null,this.handleGameEnd(),this.clearTurnQueue(),this.draw())})},mounted(){if(this.initTable(),this.watch==="1"){this.clearTurnQueue(),this.updatePocketedBalls(this.theTable.playerABalls),this.updatePocketedBalls(this.theTable.playerBBalls,!1),this.updateRemainingBallPositions(this.theTable.remainingBalls,this.balls);let e=this.theTable.remainingBalls[this.theTable.remainingBalls.length-1];this.cue.position=e.position,this.unblockQueue(),this.draw()}this.unsubscribeAction=this.$store.subscribeAction((e,t)=>{var s,n,i,o,r,a,l,h;if(e.type==="poolUpdate"){this.cue.image.canvasRotationAngle=e.payload.pool.cue.angle,this.cue.angle=e.payload.pool.cue.angle,this.draw();return}if(e.type==="currentTableIsClosed"){let c=(n=(s=this==null?void 0:this.theTable)==null?void 0:s.playerA)==null?void 0:n.name;((o=(i=this==null?void 0:this.theTable)==null?void 0:i.playerA)==null?void 0:o.name)===((a=(r=e==null?void 0:e.payload)==null?void 0:r.who)==null?void 0:a.name)&&(c=(h=(l=this==null?void 0:this.theTable)==null?void 0:l.playerB)==null?void 0:h.name);let f={winner:c,winReason:"opponent disconnected",whoPlayed:null};this.handleGameEnd(f)}e.type!=="poolPlayTurn"&&e.type!=="poolSetHandBall"&&e.type!=="poolSelectPocket"&&e.type!=="poolSetHandBallFail"&&e.type!=="poolGameEnded"||(this.resetInstanceVariables(),this.createTableSnapshot(e),!this.isDocumentVisible()&&this.isTimerRestartRequiredForAction(e)&&this.isMe(e.payload.table.playerInTurn.name)&&this.restartReducerInterval(),this.isDocumentVisible&&(this.produceTurns(e),this.draw()))}),new Os(document.getElementsByClassName("selectora")[0])},computed:{turnQueueLength(){return this.turnQueue.actions.length},mouseEnabled(){if(!this.$store.getters.playerInTurn)return this.draw(),!1;if(!this.poolTable)return!1;const t=this.$store.getters.playerInTurn.name===this.userName&&this.poolTable.mouseEnabled;return console.log("computed mouseEnabled:"+t),t},cueVisible(){return this.mouseEnabled},timeRunOut(){return this.theTable.secondsLeft<=0}},beforeUnmount(){this.unsubscribe(),this.unsubscribeAction(),this.clearIntervals(),this.removeMouseListeners(),document.removeEventListener("visibilitychange",this.onVisibilityChange),this.leaveTable()},methods:{resetInstanceVariables(){this.handBall=!1,this.selectedPocket=null,this.pocketSelection=!1,this.cue.force=0,this.cue.position=this.cueBall.position,this.resultSnapshot=null},clearIntervals(){this.stopCueInterval(),clearInterval(gn),clearInterval(Qt)},isTimerRestartRequiredForAction(e){return e.type=="poolPlayTurn"||e.type==="poolSetHandBall"||e.type==="poolSelectPocket"},consumeTurns(){if(this.turnQueue.actions.length===0){const t=!!this.isMyTurnInStore();this.poolTable.mouseEnabled=t,console.log("TurnQueue is empty, mouseEnabled "+this.poolTable.mouseEnabled);return}if(this.turnQueue.blocked){console.log("TurnQueue is blocked, not consuming");return}this.turnQueue.blocked=!0;const e=this.turnQueue.actions.splice(0,1)[0];if(console.log("Starting to consume turn "+JSON.stringify(e)),e.shootBall)console.log("shootball"),this.firstTurnPlayed=!0,this.shootBall(e).then(()=>{console.log("shootball done"),this.selectedPocket=null,this.cue.force=0;const t=this.isMyTurnInStore()?0:1500;this.unblockQueue(t),this.playingTurn=!1});else if(e.setHandBall){this.setHandBall(e);const t=this.isMyTurnInStore()?0:2e3;this.unblockQueue(t)}else e.setSelectedPocket!=null?(this.selectedPocket=e.setSelectedPocket,this.pocketSelection=!1,this.unblockQueue(250)):e.askHandBallPosition?(this.handBall=!0,this.cueBall.image.visible=!0,this.unblockQueue(0)):e.lastTurn?this.handleGameEnd(e):e.askPocketSelection?(this.pocketSelection=!0,this.unblockQueue(0)):e.changePlayer&&this.$store.dispatch("changeTurn",e.nextTurnPlayer).then(()=>{this.unblockQueue(0)})},unblockQueue(e=0){this.turnQueue.blocked=!1,this.draw(),setTimeout(()=>{this.consumeTurns()},e)},produceTurns(e){e.type==="poolPlayTurn"?(this.createShootBallTurn(e),e.payload.pool.turnResult==="CHANGE_TURN"?this.createChangePlayerTurn(e):e.payload.pool.turnResult==="HANDBALL"?(this.createChangePlayerTurn(e),this.isMe(e.payload.pool.whoPlayed)||this.createAskHandBallPositionTurn(e)):e.payload.pool.turnResult==="ASK_POCKET_SELECTION"&&(this.isTurnChange(e.payload.table.playerInTurn)&&this.createChangePlayerTurn(e),this.isMe(e.payload.table.playerInTurn.name)&&this.createAskPocketSelectionTurn(e))):e.type==="poolSetHandBallFail"?this.createAskHandBallPositionTurn(e):e.type==="poolSetHandBall"?(this.createPoolSetHandBallTurn(e),e.payload.pool.turnResult==="ASK_POCKET_SELECTION"&&(this.isTurnChange(e.payload.table.playerInTurn)&&this.createChangePlayerTurn(e),this.isMe(e.payload.table.playerInTurn.name)&&this.createAskPocketSelectionTurn(e))):e.type==="poolSelectPocket"?this.createSelectPocketTurn(e):e.type==="poolGameEnded"&&this.createLastTurn(e)},createAskHandBallPositionTurn(e){let t={turnResult:e.payload.pool.turnResult,askHandBallPosition:!0,askPocketSelection:!1,setSelectedPocket:null,setHandBall:!1,lastTurn:!1,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,t),console.log("produced: createAskHandBallPositionTurn"+this.turnQueue.actions.length),t},createAskPocketSelectionTurn(e){e.payload.pool.selectedPocket;let t=e.payload.table.playerInTurn,s={changePlayer:!1,turnResult:e.payload.pool.turnResult,askPocketSelection:!0,setSelectedPocket:null,setHandBall:null,nextTurnPlayer:t,lastTurn:!1,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,s),console.log("produced: createAskPocketSelectionTurn"+this.turnQueue.actions.length),s},createSelectPocketTurn(e){let t=e.payload.pool.selectedPocket,s={turnResult:e.payload.pool.turnResult,askPocketSelection:!1,setSelectedPocket:t,setHandBall:null,lastTurn:!1,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,s),console.log("produced: createSelectPocketTurn"+this.turnQueue.actions.length),s},createLastTurn(e){const t=e.payload.pool.turnResult,s=e.payload.pool.winner.name;let n={askPocketSelection:!1,setSelectedPocket:null,setHandBall:null,lastTurn:!0,winner:s,winReason:t,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,n),console.log("produced: createLastTurn"+this.turnQueue.actions.length),n},createChangePlayerTurn(e){let t=e.payload.table.playerInTurn,s={changePlayer:!0,nextTurnPlayer:t,lastTurn:!1,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,s),console.log("produced: createChangePlayerTurn"+this.turnQueue.actions.length),s},createShootBallTurn(e){let t=e.payload.pool.cue;t.force=e.payload.pool.cue.force,t.angle=e.payload.pool.cue.angle;let s={shootBall:!0,cue:t,turnResult:e.payload.pool.turnResult,lastTurn:!1,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,s),console.log("produced: createShootBallTurn"+this.turnQueue.actions.length),s},createPoolSetHandBallTurn(e){let{...t}=this.cueBall;t.position=e.payload.pool.cueBall.position,t.inPocket=!1,t.image.visible=!0;let s={...this.cue};s.force=0,s.position=t.position;let n={cue:s,cueBall:t,turnResult:e.payload.pool.turnResult,setHandBall:!0,nextTurnPlayer:e.payload.table.playerInTurn,lastTurn:!1,whoPlayed:e.payload.pool.whoPlayed};return this.turnQueue.actions.splice(this.turnQueue.actions.length,0,n),console.log("produced: createPoolSetHandBallTurn"+this.turnQueue.actions.length),n},handleGameEnd(e){if(this.theTable.playerInTurn=null,this.clearTurnQueue(),this.turnQueue.blocked=!0,this.clearIntervals(),this.removeMouseListeners(),this.poolTable.mouseEnabled=!1,e){const t={from:"System",text:e.winner+" won ( "+e.winReason.toLowerCase()+" )"};this.$store.dispatch("chat",t)}this.draw()},setHandBall(e){this.cueBall.position=e.cueBall.position,this.cueBall.inPocket=!1,this.cue.position=this.cueBall.position,this.handBall=!1,this.cue.force=0,this.cueBall.image.visible=!0},createTableSnapshot(e){this.firstTurnPlayed=!0,this.resultSnapshot=e},updateRemainingBallPositions(e,t){e.forEach(s=>{let n=t.find(i=>i.number===s.number);this.updateBallPropertiesWithoutFriction(n,s.position)})},updateBallPropertiesWithoutFriction(e,t){e.position.x=t.x,e.position.y=t.y,e.velocity.x=0,e.velocity.y=0},updatePocketedBalls(e,t=!0){if(!e||e.length===0)return;let s=t?this.canvas.width*.12:this.canvas.width*.55;for(let n=0;n<e.length;n++){let i=e[n],o=this.balls.find(r=>r.number===i.number);!o||(o.position.x=s+n*o.diameter,o.position.y=this.canvas.height*.06,o.inPocket||(o.image.canvasDimension.x=o.image.canvasDimension.x*.8,o.image.canvasDimension.y=o.image.canvasDimension.y*.8),o.inPocket=!0)}},movePocketedBallToEdgeOfTable(e){if(e.number===8||e.number===0)return;let t=this.resultSnapshot.payload.table.playerABalls.findIndex(n=>n.number===e.number),s=this.canvas.width*.12;t===-1&&(t=this.resultSnapshot.payload.table.playerBBalls.findIndex(n=>n.number===e.number)+1,s=this.canvas.width*.55),e.position.x=s+t*e.diameter,e.position.y=this.canvas.height*.06},putBallInMiddleOfPocket(e,t){e.inPocket||(e.velocity.x=0,e.velocity.y=0,t&&(e.position.x=t.center.x,e.position.y=t.center.y),e.inPocket=!0,!(e.number===0||e.number===8)&&(e.image.canvasDimension.x=e.image.canvasDimension.x*.8,e.image.canvasDimension.y=e.image.canvasDimension.y*.8))},draw(){this.isDocumentVisible()&&requestAnimationFrame(this.repaintAll)},repaintComponent(e){const t=e.image;!e.image.visible||(this.renderingContext.translate(e.position.x,e.position.y),t.canvasRotationAngle&&this.renderingContext.rotate(t.canvasRotationAngle),t.canvasDestination||(t.canvasDestination={x:0,y:0}),this.gameOptions&&this.gameOptions.pointerLine&&e.hasOwnProperty("force")&&(this.renderingContext.beginPath(),this.renderingContext.moveTo(-200,0),this.renderingContext.lineTo(200,0),this.renderingContext.stroke(),this.renderingContext.beginPath(),this.renderingContext.moveTo(0,-200),this.renderingContext.lineTo(0,200),this.renderingContext.stroke()),!this.isMyTurnInStore()&&e.hasOwnProperty("force")?this.renderingContext.drawImage(t.image,1430,0,100,22,t.canvasDestination.x+825,t.canvasDestination.y,88,10):this.renderingContext.drawImage(t.image,0,0,t.realDimension.x,t.realDimension.y,t.canvasDestination.x,t.canvasDestination.y,t.canvasDimension.x,t.canvasDimension.y),this.renderingContext.resetTransform())},repaintAll(){this.renderingContext.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.repaintComponent(this.poolTable),this.repaintComponent(this.cueBall);for(let e=0;e<this.balls.length;e++)this.repaintComponent(this.balls[e]);if(this.isOngoingGame()||this.repaintGameEnd(),this.repaintNames(),!this.handBall&&!this.playingTurn&&this.repaintComponent(this.cue),this.handBall&&this.isMyTurnInStore()&&(this.renderingContext.font="bolder 16px Arial",this.renderingContext.fillText("Set handball position",400,35)),this.pocketSelection&&this.isMyTurnInStore()){const e=this.selectedPocket===null?0:this.selectedPocket;this.repaintPocketSelection(e),this.renderingContext.font="bolder 16px Arial",this.renderingContext.fillText("Click to select pocket",400,35)}else this.selectedPocket!==null&&this.repaintPocketSelection(this.selectedPocket);this.renderingContext.fillStyle="black"},repaintGameEnd(){this.renderingContext.globalAlpha=.4,this.renderingContext.fillStyle="gray",this.renderingContext.fillRect(0,0,this.canvas.width,this.canvas.height)},initTable(){this.balls=[],this.turnQueue={actions:[],blocked:!1};let e=window.innerWidth,t=window.innerHeight;this.canvas=document.getElementById("canvas"),this.renderingContext=this.canvas.getContext("2d",{alpha:!1});let s=e,n=t;s=Xa,n=Ja,this.canvas.height=n,this.canvas.width=s,document.addEventListener("visibilitychange",this.onVisibilityChange);let i={x:Xa,y:Ja},o={image:document.getElementById("tableImg"),canvasDimension:i,realDimension:{x:4551,y:2570},canvasRotationAngle:0,canvasDestination:{x:0,y:0},visible:!0};this.poolTable={image:o,position:{x:0,y:0},mouseEnabled:!1};const r={a:79,b:118,c:572},a={a:79,b:644,c:1090},l={a:1122,b:118,c:560},h={a:600,b:644,c:1090},c={a:600,b:118,c:572},f={a:80,b:118,c:560};this.poolTable.pockets=[],this.poolTable.topLeftPart=r,this.poolTable.topRightPart=a,this.poolTable.rightPart=l,this.poolTable.bottomRightPart=h,this.poolTable.bottomLeftPart=c,this.poolTable.leftPart=f;const u={center:{x:65,y:61},radius:32,pathwayLeft:{top:{x:54,y:93},bottom:{x:80,y:118}},pathwayRight:{top:{x:96,y:56},bottom:{x:117,y:77}}},b={center:{x:607,y:49},radius:28,pathwayLeft:{top:{x:580,y:56},bottom:{x:571,y:79}},pathwayRight:{top:{x:635,y:56},bottom:{x:644,y:79}}},C={center:{x:1144,y:61},radius:32,pathwayLeft:{top:{x:1112,y:56},bottom:{x:1089,y:79}},pathwayRight:{top:{x:1144,y:93},bottom:{x:1122,y:118}}},O={center:{x:1144,y:614},radius:32,pathwayLeft:{top:{x:1091,y:600},bottom:{x:1112,y:620}},pathwayRight:{top:{x:1122,y:562},bottom:{x:1142,y:580}}},I={center:{x:607,y:628},radius:28,pathwayLeft:{top:{x:571,y:600},bottom:{x:580,y:620}},pathwayRight:{top:{x:644,y:600},bottom:{x:635,y:620}}},E={center:{x:65,y:614},radius:32,pathwayLeft:{top:{x:80,y:558},bottom:{x:54,y:584}},pathwayRight:{top:{x:118,y:600},bottom:{x:98,y:620}}};this.poolTable.pockets.push(u),this.poolTable.pockets.push(b),this.poolTable.pockets.push(C),this.poolTable.pockets.push(O),this.poolTable.pockets.push(I),this.poolTable.pockets.push(E),this.poolTable.topMiddlePocket=b,this.poolTable.topRightPocket=C,this.poolTable.bottomRightPocket=O,this.poolTable.bottomMiddlePocket=I,this.poolTable.bottomLeftPocket=E;const H={x:Kt,y:Kt};let W={image:document.getElementById("0"),canvasDimension:H,realDimension:{x:141,y:141},canvasRotationAngle:0,canvasDestination:{x:-Kt/2,y:-Kt/2},visible:!0};this.cueBall={image:W,diameter:Kt,radius:Kt/2,position:{x:1030,y:150},number:0,color:"white",velocity:{x:0,y:0}};let R={x:Za,y:el},Q={image:document.getElementById("cue3Img"),canvasDimension:R,realDimension:{x:1508,y:22},canvasDestination:{x:-R.x-Kt,y:-R.y/2},canvasRotationAngle:0,visible:!0};this.isPlayerInTurn(this.userName)&&(this.handBall=!0,this.poolTable.mouseEnabled=!0);let X={x:this.cueBall.position.x,y:this.cueBall.position.y},te=0;this.cue={position:X,image:Q,force:te,angle:0};for(let ue=1;ue<16;ue++){let J=this.createBall(ue,this.cueBall.diameter);this.balls.push(J)}this.balls.push(this.cueBall),this.watch!=="1"&&(this.removeMouseListeners(),this.addMouseListeners()),this.draw()},isDocumentVisible(){return document.visibilityState==="visible"},onVisibilityChange(){this.isDocumentVisible()?(this.stopCueInterval(),clearInterval(gn),this.createTableFromSnapShot(),this.clearTurnQueue(),this.unblockQueue(0),this.draw()):(this.turnQueue.blocked=!0,this.stopCueInterval(),clearInterval(gn))},clearTurnQueue(){this.turnQueue.actions.splice(0,this.turnQueue.actions.length)},createTableFromSnapShot(){if(!this.resultSnapshot)return;let e=this.resultSnapshot.payload.table,t=this.resultSnapshot.payload.pool;this.playingTurn=!1,this.updatePocketedBalls(e.playerABalls),this.updatePocketedBalls(e.playerBBalls,!1),this.updateRemainingBallPositions(e.remainingBalls,this.balls),this.cueBall.position=t.cueBall.position,this.cueBall.velocity.x=0,this.cueBall.velocity.y=0;let s=e.playerInTurn;if(this.changeTurnIfRequired(s),t.winner){console.log("winner from snapshot"+t.winner.name);const n=t.winner.name,i=t.turnResult;let o={askPocketSelection:!1,setSelectedPocket:null,setHandBall:null,lastTurn:!0,winner:n,winReason:i,whoPlayed:t.whoPlayed};this.handleGameEnd(o)}else this.isMyTurnInStore()&&(this.poolTable.mouseEnabled=!0);t.turnResult==="HANDBALL"&&this.isMyTurnInStore()?this.handBall=!0:t.turnResult==="ASK_POCKET_SELECTION"&&this.isMyTurnInStore()&&(this.pocketSelection=!0),requestAnimationFrame(this.repaintAll)},isTableTopBoundry(e){return e.position.x>=this.poolTable.topLeftPart.b&&e.position.x<=this.poolTable.topLeftPart.c&&e.position.y-this.cueBall.radius<=this.poolTable.topLeftPart.a||e.position.x>=this.poolTable.topRightPart.b&&e.position.x<=this.poolTable.topRightPart.c&&e.position.y-this.cueBall.radius<=this.poolTable.topRightPart.a},isTableLeftBoundry(e){return e.position.x<=this.poolTable.leftPart.a+this.cueBall.radius&&e.position.y>=this.poolTable.leftPart.b&&e.position.y<=this.poolTable.leftPart.c},isTableRightBoundry(e){return e.position.x>=this.poolTable.rightPart.a-this.cueBall.radius&&e.position.y>=this.poolTable.rightPart.b&&e.position.y<=this.poolTable.rightPart.c},isTableBottomBoundry(e){return e.position.x>=this.poolTable.bottomLeftPart.b&&e.position.x<=this.poolTable.bottomLeftPart.c&&e.position.y+this.cueBall.radius>=this.poolTable.bottomLeftPart.a||e.position.x>=this.poolTable.bottomRightPart.b&&e.position.x<=this.poolTable.bottomRightPart.c&&e.position.y+this.cueBall.radius>=this.poolTable.bottomRightPart.a},restartReducerInterval(e){Qt&&this.stopReducerInterval(),this.theTable.secondsLeft=this.getAllTimeControls()[this.theTable.timeControlIndex].seconds,Qt=setInterval(()=>{this.theTable.secondsLeft--,this.gameOptions.notificationSound&&this.theTable.secondsLeft<15&&this.playNotificationSound()},1e3)},startCueInterval(){console.log("called startCueInterval"),Ht&&(console.log("called startCueInterval stopping first"),this.stopInterval()),Ht=setInterval(this.updateCueForce,50),console.log("called startCueInterval startin really"+Ht)},stopCueInterval(){console.log("stopping cueForceInterval "+Ht),Ht=clearInterval(Ht),console.log("stopped cueForceInterval"+Ht)},stopReducerInterval(){Qt=clearInterval(Qt),console.log("stoppedReducerInterval"+Qt)},createBall(e,t){const s={x:t,y:t};let n={x:this.canvas.width*.65+t*.9*this.calculateRackColumn(e),y:this.canvas.height/2+t*.5*this.calculateRackRow(e)};return{image:{image:document.getElementById(e.toString()),canvasDimension:s,realDimension:{x:141,y:141},canvasRotationAngle:0,canvasDestination:{x:-t/2,y:-t/2},visible:!0},diameter:t,radius:t/2,position:n,number:e,color:this.calculateBallColor(e),velocity:{x:0,y:0}}},addMouseListeners(){this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("mousedown",this.handleMouseDown),this.canvas.addEventListener("mouseup",this.handleMouseUp),this.canvas.onpointerdown=this.handleMouseDown,this.canvas.onpointerup=this.handleMouseUp,this.canvas.onpointermove=this.handleMouseMove,this.canvas.addEventListener("pointerdown",this.handleMouseDown,!1),this.canvas.addEventListener("pointerup",this.handleMouseUp,!1),this.canvas.addEventListener("pointermove",this.handleMouseMove,!1),this.canvas.addEventListener("contextmenu",e=>e.preventDefault())},removeMouseListeners(){this.canvas.removeEventListener("mousemove",this.handleMouseMove),this.canvas.removeEventListener("mousedown",this.handleMouseDown),this.canvas.removeEventListener("mouseup",this.handleMouseUp),this.canvas.removeEventListener("contextmenu",e=>e.preventDefault()),this.canvas.removeEventListener("pointerdown",this.handleMouseUp),this.canvas.removeEventListener("pointerup",this.handleMouseUp),this.canvas.removeEventListener("pointermove",this.handleMouseUp)},handleMouseDown(e){e.button!==2&&(!this.poolTable.mouseEnabled||this.pocketSelection||this.poolTable.mouseEnabled&&!this.handBall&&(this.cue.force=0,console.log("cueForce interval:"+Ht),Ht||this.startCueInterval()))},handleMouseUp(e){if(!!this.poolTable.mouseEnabled){if(this.stopCueInterval(),this.pocketSelection){this.poolTable.mouseEnabled=!1,this.sendPocketSelection(this.selectedPocket);return}else this.handBall?(this.cueBall.position.x=e.offsetX,this.cueBall.position.y=e.offsetY,this.hb(e.offsetX,e.offsetY,this.canvas)):this.handBall||(this.poolTable.mouseEnabled=!1,this.stopReducerInterval(),this.sendTurn(this.cue,this.cueBall,this.canvas));this.poolTable.mouseEnabled=!1}},isMyTurnInSnapshot(){return this.resultSnapshot?this.resultSnapshot.payload.table.playerInTurn.name===this.userName:!1},isHandBallPositionAllowed(){if(!this.firstTurnPlayed&&this.mouseCoordsTemp.x>this.canvas.width*.25)return!1;if(this.mouseCoordsTemp.x>this.poolTable.leftPart.a+this.cueBall.radius&&this.mouseCoordsTemp.x<this.poolTable.rightPart.a-this.cueBall.radius){if(!(this.mouseCoordsTemp.y>this.poolTable.topLeftPart.a+this.cueBall.radius&&this.mouseCoordsTemp.y<this.poolTable.bottomRightPart.a-this.cueBall.radius))return!1}else return!1;for(let e=0;e<this.balls.length;e++){const t=this.balls[e];if(t.number===0)continue;let s=t.position.x-this.cueBall.position.x,n=t.position.y-this.cueBall.position.y;if(!(Math.abs(s)>t.diameter)&&!(Math.abs(n)>t.diameter))return!1}return!0},handleMouseMove(e){if(!!this.poolTable.mouseEnabled){if(this.mouseCoordsTemp={x:e.offsetX,y:e.offsetY},this.pocketSelection){this.selectedPocket=this.getClosestPocket(e),this.draw();return}this.handBall?(this.cueBall.position.x=e.offsetX,this.cueBall.position.y=e.offsetY,setTimeout(()=>{this.isHandBallPositionAllowed(e)?this.cueBall.image.visible=!0:this.cueBall.image.visible=!1,this.draw()},10)):(this.cue.position.x=this.cueBall.position.x,this.cue.position.y=this.cueBall.position.y,this.mousePoint={x:e.offsetX,y:e.offsetY},this.isMyTurnInStore()&&setTimeout(()=>{this.updateCueAngle(e),this.draw()},150))}},handleAfterAnimation(){return new Promise(e=>{this.isMyTurnInStore()&&this.theTable.playerInTurn!==null&&(this.cue.force=0),this.draw(),e("resolve after animation")})},shootBall(e){return new Promise(t=>{this.cue.force<10&&(this.cue.force=10);let s={x:-Za-Kt/2,y:-el/2};this.cue.force=e.cue.force,this.cue.angle=e.cue.angle,this.cue.image.canvasRotationAngle=e.cue.angle,this.cue.image.canvasDestination=s,this.cueBall.velocity={x:this.cue.force*Math.cos(this.cue.image.canvasRotationAngle),y:this.cue.force*Math.sin(this.cue.image.canvasRotationAngle)},this.collideCueWithCueBall().then(()=>{this.playingTurn=!0,this.handleCollisions().then(()=>{this.handleAfterAnimation().then(()=>{t("animations done")})})})})},collideCueWithCueBall(){return new Promise(e=>{this.cue.position=this.cueBall.position,setTimeout(()=>{this.draw(),e("Cue movement done")},145)})},handleCollisions(){return new Promise(e=>{gn=setInterval(()=>{this.updateBallProperties(),this.handleBallCollisions(),this.draw(),this.isAnyBallMoving()||(clearInterval(gn),e("collisions checked"))},25)})},updateBallProperties(){for(let e=0;e<this.balls.length;e++){let t=this.balls[e];if(t.inPocket){t.velocity={x:0,y:0};continue}t.position.x+=t.velocity.x*oi,t.position.y+=t.velocity.y*oi,t.velocity.x*=ii,t.velocity.y*=ii}},checkIfGoesToPocket(e){let t=this.poolTable.pockets[0],s=Math.pow(e.position.x-t.center.x,2)+Math.pow(e.position.y-t.center.y,2)<=Math.pow(t.radius,2);if(s||(t=this.poolTable.topMiddlePocket,s=Math.pow(e.position.x-t.center.x,2)+Math.pow(e.position.y-t.center.y,2)<=Math.pow(t.radius,2),s)||(t=this.poolTable.topRightPocket,s=Math.pow(e.position.x-t.center.x,2)+Math.pow(e.position.y-t.center.y,2)<=Math.pow(t.radius,2),s)||(t=this.poolTable.bottomRightPocket,s=Math.pow(e.position.x-t.center.x,2)+Math.pow(e.position.y-t.center.y,2)<=Math.pow(t.radius,2),s)||(t=this.poolTable.bottomMiddlePocket,s=Math.pow(e.position.x-t.center.x,2)+Math.pow(e.position.y-t.center.y,2)<=Math.pow(t.radius,2),s)||(t=this.poolTable.bottomLeftPocket,s=Math.pow(e.position.x-t.center.x,2)+Math.pow(e.position.y-t.center.y,2)<=Math.pow(t.radius,2),s))return t},handleBallCollisions(){for(let e=0;e<this.balls.length;e++){const t=this.balls[e];this.isMoving(t)&&!t.inPocket&&this.checkAndHandleTableCollision(t);for(let s=e+1;s<this.balls.length;s++){const n=this.balls[s],i=this.balls[e];n.inPocket||i.inPocket||(this.isMoving(n)||this.isMoving(i))&&this.checkAndHandleCollision(i,n)}}},checkAndHandleCollision(e,t){let s=this.subtractVectors(e.position,t.position);const n=this.calculateLength(s);if(n>this.cueBall.diameter)return;const i=this.multiplyVector(s,(this.cueBall.diameter-n)/n);e.position.x+=i.x*.5,e.position.y+=i.y*.5,t.position.x-=i.x*.5,t.position.y-=i.y*.5;const o=1/n,r=this.multiplyVector(s,o),a={x:-r.y,y:r.x},l=this.dotProduct(r,e.velocity),h=this.dotProduct(a,e.velocity),c=this.dotProduct(r,t.velocity),f=this.dotProduct(a,t.velocity);let u=c,b=l;u={x:r.x*u,y:r.y*u};const C={x:a.x*h,y:a.y*h};b={x:r.x*b,y:r.y*b};const O={x:a.x*f,y:a.y*f};e.velocity={x:u.x+C.x,y:u.y+C.y},t.velocity={x:b.x+O.x,y:b.y+O.y}},isMoving(e){return e?e.velocity.x!==0||e.velocity.y!==0:!1},checkAndHandleTableCollision(e){const t=this.checkIfGoesToPocket(e);if(t){this.putBallInMiddleOfPocket(e,t),setTimeout(()=>{this.movePocketedBallToEdgeOfTable(e),this.draw()},1500);return}this.isBallInMiddleArea(e)||(this.isTableTopBoundry(e)?e.velocity.y=Math.abs(e.velocity.y):this.isTableBottomBoundry(e)?e.velocity.y=-Math.abs(e.velocity.y):this.isTableLeftBoundry(e)?e.velocity.x=Math.abs(e.velocity.x):this.isTableRightBoundry(e)?e.velocity.x=-Math.abs(e.velocity.x):this.checkAndHandlePocketPathwayCollisions(e))},updatePositionAndVelocity(e){e.position.x+=e.velocity.x*oi,e.position.y+=e.velocity.y*oi,e.velocity.x*=ii,e.velocity.y*=ii},checkAndHandlePocketPathwayCollisions(e){for(let t=0;t<this.poolTable.pockets.length;t++){const s=this.poolTable.pockets[t];if(this.isPathwayBorderCollision(s.pathwayRight,e,t)){let n=this.calculateBallVelocityOnPathwayBorderCollision(s.pathwayRight,e);return e.velocity=n,!0}else if(this.isPathwayBorderCollision(s.pathwayLeft,e,t)){let n=this.calculateBallVelocityOnPathwayBorderCollision(s.pathwayLeft,e);return e.velocity=n,!0}}return!1},calculateBallVelocityOnPathwayBorderCollision(e,t){let s=this.subtractVectors(e.bottom,e.top);const n=this.calculateLength(s),i=1/n,o=this.multiplyVector(s,i);let r=2*this.dotProduct(o,t.velocity),a=this.multiplyVector(o,r);return this.subtractVectors(a,t.velocity)},isPathwayBorderCollision(e,t){if(this.isBallInMiddleArea(t))return!1;const s=e.top,n=e.bottom,i=t.position,o=this.subtractVectors(i,s),r=this.subtractVectors(n,s),a=this.addVectors(this.projectVectorOnVector(o,r),s),l=this.subtractVectors(a,s),h=Math.abs(r.x)>Math.abs(r.y)?l.x/r.x:l.y/r.y;let c;return h<=0?c=Math.sqrt(this.hypot2(i,s)):h>=1&&(c=Math.sqrt(this.hypot2(i,n))),c||(c=Math.sqrt(this.hypot2(i,a))),c<=t.radius},isBallInMiddleArea(e){const t={x:125,y:130},s={x:1072,y:550},n=this.subtractVectors(e.position,t),i=this.subtractVectors(s,e.position);if(n.x>0&&n.y>0)return i.x>0&&i.y>0},hypot2(e,t){return this.dotProduct(this.subtractVectors(e,t),this.subtractVectors(e,t))},projectVectorOnVector(e,t){const s=this.dotProduct(e,t)/this.dotProduct(t,t);return{x:s*t.x,y:s*t.y}},calculateLength(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},calculateVectorLength(e){return Math.sqrt(Math.pow(e.velocity.x,2)+Math.pow(e.velocity.y,2))<5&&(e.velocity={x:0,y:0}),e},multiplyVector(e,t){return{x:e.x*t,y:e.y*t}},addVectors(e,t){return{x:e.x+t.x,y:e.y+t.y}},subtractVectors(e,t){return{x:e.x-t.x,y:e.y-t.y}},dotProduct(e,t){return e.x*t.x+e.y*t.y},isAnyBallMoving(){for(let e=0;e<this.balls.length;e++){let t=this.balls[e];if(this.calculateVectorLength(t),t.velocity.x!==0||t.velocity.y!==0)return!0}return!1},updateCueAngle(e){let t=this.mousePoint.y-this.cueBall.position.y,s=this.mousePoint.x-this.cueBall.position.x;const n=Math.atan2(t,s);this.cue.angle=n,this.cue.image.canvasRotationAngle=n,this.t(this.sp,1e3,this.cue,this.cueBall,this.canvas)},updateCueForce(){this.cue.force+=10,this.cue.image.canvasDestination.x-=5,this.draw(),this.cue.force>=250&&(this.stopCueInterval(),this.stopReducerInterval(),this.poolTable.mouseEnabled=!1,this.sendTurn(this.cue,this.cueBall,this.canvas))},updatePointerLine(e){if(!e)return;const t=this.cueBall;this.pointerLine={fromX:t.position.x+t.diameter/2,fromY:t.position.y+t.diameter/2,toX:e.offsetX,toY:e.offsetY}},calculateBallColor(e){return e===8?"black":e%2===0?"red":"yellow"},calculateRackRow(e){return e===1||e===8||e==13?0:e===3||e===15?1:e===10||e===2||e===15?-1:e===4||e===12?-2:e===6||e===14?2:e===7?3:e===9?-3:e===5?-4:e===11?4:-4},calculateRackColumn(e){return e===1?1:e===10||e===3?2:e===4||e===8||e===14?3:e===7||e===9||e===2||e===15?4:5},repaintTableParts(e){this.renderingContext.moveTo(this.poolTable.leftPart.a,this.poolTable.leftPart.b),this.renderingContext.lineTo(this.poolTable.leftPart.a,this.poolTable.leftPart.c),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.moveTo(this.poolTable.topLeftPart.b,this.poolTable.topLeftPart.a),this.renderingContext.lineTo(this.poolTable.topLeftPart.c,this.poolTable.topLeftPart.a),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.moveTo(this.poolTable.topRightPart.b,this.poolTable.topRightPart.a),this.renderingContext.lineTo(this.poolTable.topRightPart.c,this.poolTable.topRightPart.a),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.moveTo(this.poolTable.rightPart.a,this.poolTable.rightPart.b),this.renderingContext.lineTo(this.poolTable.rightPart.a,this.poolTable.rightPart.c),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.moveTo(this.poolTable.bottomRightPart.b,this.poolTable.bottomRightPart.a),this.renderingContext.lineTo(this.poolTable.bottomRightPart.c,this.poolTable.bottomRightPart.a),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.moveTo(this.poolTable.bottomLeftPart.b,this.poolTable.bottomLeftPart.a),this.renderingContext.lineTo(this.poolTable.bottomLeftPart.c,this.poolTable.bottomLeftPart.a),this.renderingContext.stroke(),this.renderingContext.closePath()},repaintPockets(){this.renderingContext.fillStyle="red",this.renderingContext.lineWidth=1,this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.pockets[0].center.x,this.poolTable.pockets[0].center.y,this.poolTable.pockets[0].radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill(),this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.topMiddlePocket.center.x,this.poolTable.topMiddlePocket.center.y,this.poolTable.topMiddlePocket.radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill(),this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.topRightPocket.center.x,this.poolTable.topRightPocket.center.y,this.poolTable.topRightPocket.radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill(),this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.bottomRightPocket.center.x,this.poolTable.bottomRightPocket.center.y,this.poolTable.bottomRightPocket.radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill(),this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.bottomMiddlePocket.center.x,this.poolTable.bottomMiddlePocket.center.y,this.poolTable.bottomMiddlePocket.radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill(),this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.bottomLeftPocket.center.x,this.poolTable.bottomLeftPocket.center.y,this.poolTable.bottomLeftPocket.radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill()},repaintPathways(){this.mouseCoordsTemp&&(this.renderingContext.fillStyle="black",this.renderingContext.fillText("Mouse: x:"+this.mouseCoordsTemp.x+"  y:"+this.mouseCoordsTemp.y,150,50),this.renderingContext.fillText("Ball:  x:"+this.cueBall.position.x+"  y:"+this.cueBall.position.y,150,40));for(let e=0;e<6;e++){let t=this.poolTable.pockets[e].pathwayLeft;if(!t)break;this.renderingContext.moveTo(t.top.x,t.top.y),this.renderingContext.lineTo(t.bottom.x,t.bottom.y),this.renderingContext.stroke(),this.renderingContext.closePath(),t=this.poolTable.pockets[e].pathwayRight,this.renderingContext.moveTo(t.top.x,t.top.y),this.renderingContext.lineTo(t.bottom.x,t.bottom.y),this.renderingContext.stroke(),this.renderingContext.closePath()}},repaintNames(){this.renderingContext.font="bolder 16px Arial",this.renderingContext.fillStyle="black",this.renderingContext.fillText(this.theTable.playerA.name,this.canvas.width*.1,20),this.renderingContext.fillText(this.theTable.playerB.name,this.canvas.width*.55,20)},repaintPocketSelection(e){this.renderingContext.fillStyle="blue",this.renderingContext.lineWidth=1,this.renderingContext.beginPath(),this.renderingContext.arc(this.poolTable.pockets[e].center.x,this.poolTable.pockets[e].center.y,this.poolTable.pockets[e].radius,0,2*Math.PI),this.renderingContext.stroke(),this.renderingContext.closePath(),this.renderingContext.fill()}}});const mu=e=>(un("data-v-054be8db"),e=e(),hn(),e),P_={class:"row"},O_={class:"col"},L_=["disabled"],$_={class:"row"},N_={class:"col-xs-12 col-sm-4"},R_=mu(()=>m("label",{class:"selectora",for:"notificationSound","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Beeps last 14 seconds in turn if checked"},[m("i",{class:"bi bi-music-note"})],-1)),M_={class:"ps-4"},D_=mu(()=>m("label",{class:"",for:"pointerLine"},"Bridge",-1)),B_={class:"row"},H_={class:"col-xs-12 col-sm-4"},V_={key:0,class:"text-success"},F_={key:1,class:"text-success"},j_={key:2,class:"text-success"},U_={key:3,class:"text-danger"},z_={class:"col-xs-12 col-sm-8"};function G_(e,t,s,n,i,o){var a,l,h;const r=Et("chat");return T(),w(ae,null,[m("div",P_,[m("div",O_,[e.resignButtonVisible?(T(),w("button",{key:0,disabled:e.resignButtonDisabled,onClick:t[0]||(t[0]=(...c)=>e.resign&&e.resign(...c)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Resign ",8,L_)):j("",!0),e.rematchButtonEnabled?(T(),w("button",{key:1,onClick:t[1]||(t[1]=(...c)=>e.rematch&&e.rematch(...c)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Rematch ")):j("",!0)])]),m("div",$_,[m("div",N_,[R_,Me(m("input",{type:"checkbox",id:"notificationSound","onUpdate:modelValue":t[2]||(t[2]=c=>e.gameOptions.notificationSound=c)},null,512),[[wt,e.gameOptions.notificationSound]]),m("span",M_,[Me(m("input",{class:"",type:"checkbox",id:"pointerLine","onUpdate:modelValue":t[3]||(t[3]=c=>e.gameOptions.pointerLine=c)},null,512),[[wt,e.gameOptions.pointerLine]]),D_])])]),m("div",B_,[m("div",H_,[e.playingTurn?(T(),w("span",V_,"Playing turn")):((a=e.theTable.playerInTurn)==null?void 0:a.name)===e.userName?(T(),w("span",F_," It's your turn "+F(e.userName)+" > time left:"+F(e.theTable.secondsLeft),1)):((l=e.theTable)==null?void 0:l.playerInTurn)===null?(T(),w("span",j_," Game ended ")):(T(),w("div",U_," In turn: "+F((h=e.theTable.playerInTurn)==null?void 0:h.name),1))])]),m("div",z_,[m("canvas",{id:"canvas",width:"400",height:"400",style:{border:"1px solid"},class:Ie({"bg-secondary":e.theTable.playerInTurn==null})},null,2)]),se(r,{id:e.theTable.tableId},null,8,["id"])],64)}const W_=He(I_,[["render",G_],["__scopeId","data-v-054be8db"]]);/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Vs=typeof window<"u";function Y_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ce=Object.assign;function lo(e,t){const s={};for(const n in t){const i=t[n];s[n]=Ct(i)?i.map(e):e(i)}return s}const Pn=()=>{},Ct=Array.isArray,q_=/\/$/,K_=e=>e.replace(q_,"");function co(e,t,s="/"){let n,i={},o="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),r=t.slice(a,t.length)),n=Z_(n!=null?n:t,s),{fullPath:n+(o&&"?")+o+r,path:n,query:i,hash:r}}function Q_(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function tl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function X_(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&sn(t.matched[n],s.matched[i])&&gu(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function gu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!J_(e[s],t[s]))return!1;return!0}function J_(e,t){return Ct(e)?sl(e,t):Ct(t)?sl(t,e):e===t}function sl(e,t){return Ct(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Z_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/");let i=s.length-1,o,r;for(o=0;o<n.length;o++)if(r=n[o],r!==".")if(r==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var Fn;(function(e){e.pop="pop",e.push="push"})(Fn||(Fn={}));var On;(function(e){e.back="back",e.forward="forward",e.unknown=""})(On||(On={}));function eT(e){if(!e)if(Vs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),K_(e)}const tT=/^[^#]+#/;function sT(e,t){return e.replace(tT,"#")+t}function nT(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Yi=()=>({left:window.pageXOffset,top:window.pageYOffset});function iT(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=nT(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function nl(e,t){return(history.state?history.state.position-t:-1)+e}const Ro=new Map;function oT(e,t){Ro.set(e,t)}function rT(e){const t=Ro.get(e);return Ro.delete(e),t}let aT=()=>location.protocol+"//"+location.host;function bu(e,t){const{pathname:s,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),tl(l,"")}return tl(s,e)+n+i}function lT(e,t,s,n){let i=[],o=[],r=null;const a=({state:u})=>{const b=bu(e,location),C=s.value,O=t.value;let I=0;if(u){if(s.value=b,t.value=u,r&&r===C){r=null;return}I=O?u.position-O.position:0}else n(b);i.forEach(E=>{E(s.value,C,{delta:I,type:Fn.pop,direction:I?I>0?On.forward:On.back:On.unknown})})};function l(){r=s.value}function h(u){i.push(u);const b=()=>{const C=i.indexOf(u);C>-1&&i.splice(C,1)};return o.push(b),b}function c(){const{history:u}=window;!u.state||u.replaceState(Ce({},u.state,{scroll:Yi()}),"")}function f(){for(const u of o)u();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:h,destroy:f}}function il(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?Yi():null}}function cT(e){const{history:t,location:s}=window,n={value:bu(e,s)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,h,c){const f=e.indexOf("#"),u=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+l:aT()+e+l;try{t[c?"replaceState":"pushState"](h,"",u),i.value=h}catch(b){console.error(b),s[c?"replace":"assign"](u)}}function r(l,h){const c=Ce({},t.state,il(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});o(l,c,!0),n.value=l}function a(l,h){const c=Ce({},i.value,t.state,{forward:l,scroll:Yi()});o(c.current,c,!0);const f=Ce({},il(n.value,l,null),{position:c.position+1},h);o(l,f,!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function uT(e){e=eT(e);const t=cT(e),s=lT(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=Ce({location:"",base:e,go:n,createHref:sT.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function hT(e){return typeof e=="string"||e&&typeof e=="object"}function yu(e){return typeof e=="string"||typeof e=="symbol"}const Xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vu=Symbol("");var ol;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ol||(ol={}));function nn(e,t){return Ce(new Error,{type:e,[vu]:!0},t)}function Jt(e,t){return e instanceof Error&&vu in e&&(t==null||!!(e.type&t))}const rl="[^/]+?",dT={sensitive:!1,strict:!1,start:!0,end:!0},fT=/[.+*?^${}()[\]/\\]/g;function pT(e,t){const s=Ce({},dT,t),n=[];let i=s.start?"^":"";const o=[];for(const h of e){const c=h.length?[]:[90];s.strict&&!h.length&&(i+="/");for(let f=0;f<h.length;f++){const u=h[f];let b=40+(s.sensitive?.25:0);if(u.type===0)f||(i+="/"),i+=u.value.replace(fT,"\\$&"),b+=40;else if(u.type===1){const{value:C,repeatable:O,optional:I,regexp:E}=u;o.push({name:C,repeatable:O,optional:I});const H=E||rl;if(H!==rl){b+=10;try{new RegExp(`(${H})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${C}" (${H}): `+R.message)}}let W=O?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;f||(W=I&&h.length<2?`(?:/${W})`:"/"+W),I&&(W+="?"),i+=W,b+=20,I&&(b+=-8),O&&(b+=-20),H===".*"&&(b+=-50)}c.push(b)}n.push(c)}if(s.strict&&s.end){const h=n.length-1;n[h][n[h].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(h){const c=h.match(r),f={};if(!c)return null;for(let u=1;u<c.length;u++){const b=c[u]||"",C=o[u-1];f[C.name]=b&&C.repeatable?b.split("/"):b}return f}function l(h){let c="",f=!1;for(const u of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const b of u)if(b.type===0)c+=b.value;else if(b.type===1){const{value:C,repeatable:O,optional:I}=b,E=C in h?h[C]:"";if(Ct(E)&&!O)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const H=Ct(E)?E.join("/"):E;if(!H)if(I)u.length<2&&e.length>1&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${C}"`);c+=H}}return c}return{re:r,score:n,keys:o,parse:a,stringify:l}}function mT(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function gT(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const o=mT(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(al(n))return 1;if(al(i))return-1}return i.length-n.length}function al(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const bT={type:0,value:""},yT=/[a-zA-Z0-9_]/;function vT(e){if(!e)return[[]];if(e==="/")return[[bT]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${s})/"${h}": ${b}`)}let s=0,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,h="",c="";function f(){!h||(s===0?o.push({type:0,value:h}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function u(){h+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(h&&f(),r()):l===":"?(f(),s=1):u();break;case 4:u(),s=n;break;case 1:l==="("?s=2:yT.test(l)?u():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${h}"`),f(),r(),i}function _T(e,t,s){const n=pT(vT(e.path),s),i=Ce(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function TT(e,t){const s=[],n=new Map;t=cl({strict:!1,end:!0,sensitive:!1},t);function i(c){return n.get(c)}function o(c,f,u){const b=!u,C=ET(c);C.aliasOf=u&&u.record;const O=cl(t,c),I=[C];if("alias"in c){const W=typeof c.alias=="string"?[c.alias]:c.alias;for(const R of W)I.push(Ce({},C,{components:u?u.record.components:C.components,path:R,aliasOf:u?u.record:C}))}let E,H;for(const W of I){const{path:R}=W;if(f&&R[0]!=="/"){const Q=f.record.path,X=Q[Q.length-1]==="/"?"":"/";W.path=f.record.path+(R&&X+R)}if(E=_T(W,f,O),u?u.alias.push(E):(H=H||E,H!==E&&H.alias.push(E),b&&c.name&&!ll(E)&&r(c.name)),C.children){const Q=C.children;for(let X=0;X<Q.length;X++)o(Q[X],E,u&&u.children[X])}u=u||E,l(E)}return H?()=>{r(H)}:Pn}function r(c){if(yu(c)){const f=n.get(c);f&&(n.delete(c),s.splice(s.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=s.indexOf(c);f>-1&&(s.splice(f,1),c.record.name&&n.delete(c.record.name),c.children.forEach(r),c.alias.forEach(r))}}function a(){return s}function l(c){let f=0;for(;f<s.length&&gT(c,s[f])>=0&&(c.record.path!==s[f].record.path||!_u(c,s[f]));)f++;s.splice(f,0,c),c.record.name&&!ll(c)&&n.set(c.record.name,c)}function h(c,f){let u,b={},C,O;if("name"in c&&c.name){if(u=n.get(c.name),!u)throw nn(1,{location:c});O=u.record.name,b=Ce(wT(f.params,u.keys.filter(H=>!H.optional).map(H=>H.name)),c.params),C=u.stringify(b)}else if("path"in c)C=c.path,u=s.find(H=>H.re.test(C)),u&&(b=u.parse(C),O=u.record.name);else{if(u=f.name?n.get(f.name):s.find(H=>H.re.test(f.path)),!u)throw nn(1,{location:c,currentLocation:f});O=u.record.name,b=Ce({},f.params,c.params),C=u.stringify(b)}const I=[];let E=u;for(;E;)I.unshift(E.record),E=E.parent;return{name:O,path:C,params:b,matched:I,meta:xT(I)}}return e.forEach(c=>o(c)),{addRoute:o,resolve:h,removeRoute:r,getRoutes:a,getRecordMatcher:i}}function wT(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function ET(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:CT(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function CT(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="boolean"?s:s[n];return t}function ll(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xT(e){return e.reduce((t,s)=>Ce(t,s.meta),{})}function cl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function _u(e,t){return t.children.some(s=>s===e||_u(e,s))}const Tu=/#/g,ST=/&/g,kT=/\//g,AT=/=/g,IT=/\?/g,wu=/\+/g,PT=/%5B/g,OT=/%5D/g,Eu=/%5E/g,LT=/%60/g,Cu=/%7B/g,$T=/%7C/g,xu=/%7D/g,NT=/%20/g;function wr(e){return encodeURI(""+e).replace($T,"|").replace(PT,"[").replace(OT,"]")}function RT(e){return wr(e).replace(Cu,"{").replace(xu,"}").replace(Eu,"^")}function Mo(e){return wr(e).replace(wu,"%2B").replace(NT,"+").replace(Tu,"%23").replace(ST,"%26").replace(LT,"`").replace(Cu,"{").replace(xu,"}").replace(Eu,"^")}function MT(e){return Mo(e).replace(AT,"%3D")}function DT(e){return wr(e).replace(Tu,"%23").replace(IT,"%3F")}function BT(e){return e==null?"":DT(e).replace(kT,"%2F")}function Ii(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function HT(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(wu," "),r=o.indexOf("="),a=Ii(r<0?o:o.slice(0,r)),l=r<0?null:Ii(o.slice(r+1));if(a in t){let h=t[a];Ct(h)||(h=t[a]=[h]),h.push(l)}else t[a]=l}return t}function ul(e){let t="";for(let s in e){const n=e[s];if(s=MT(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ct(n)?n.map(o=>o&&Mo(o)):[n&&Mo(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function VT(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Ct(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const FT=Symbol(""),hl=Symbol(""),qi=Symbol(""),Su=Symbol(""),Do=Symbol("");function bn(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function ts(e,t,s,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((r,a)=>{const l=f=>{f===!1?a(nn(4,{from:s,to:t})):f instanceof Error?a(f):hT(f)?a(nn(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),r())},h=e.call(n&&n.instances[i],t,s,l);let c=Promise.resolve(h);e.length<3&&(c=c.then(l)),c.catch(f=>a(f))})}function uo(e,t,s,n){const i=[];for(const o of e)for(const r in o.components){let a=o.components[r];if(!(t!=="beforeRouteEnter"&&!o.instances[r]))if(jT(a)){const h=(a.__vccOpts||a)[t];h&&i.push(ts(h,s,n,o,r))}else{let l=a();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const c=Y_(h)?h.default:h;o.components[r]=c;const u=(c.__vccOpts||c)[t];return u&&ts(u,s,n,o,r)()}))}}return i}function jT(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dl(e){const t=Lt(qi),s=Lt(Su),n=Ae(()=>t.resolve(Be(e.to))),i=Ae(()=>{const{matched:l}=n.value,{length:h}=l,c=l[h-1],f=s.matched;if(!c||!f.length)return-1;const u=f.findIndex(sn.bind(null,c));if(u>-1)return u;const b=fl(l[h-2]);return h>1&&fl(c)===b&&f[f.length-1].path!==b?f.findIndex(sn.bind(null,l[h-2])):u}),o=Ae(()=>i.value>-1&&WT(s.params,n.value.params)),r=Ae(()=>i.value>-1&&i.value===s.matched.length-1&&gu(s.params,n.value.params));function a(l={}){return GT(l)?t[Be(e.replace)?"replace":"push"](Be(e.to)).catch(Pn):Promise.resolve()}return{route:n,href:Ae(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}const UT=De({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dl,setup(e,{slots:t}){const s=cn(dl(e)),{options:n}=Lt(qi),i=Ae(()=>({[pl(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[pl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&t.default(s);return e.custom?o:dc("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),zT=UT;function GT(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function WT(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Ct(i)||i.length!==n.length||n.some((o,r)=>o!==i[r]))return!1}return!0}function fl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pl=(e,t,s)=>e!=null?e:t!=null?t:s,YT=De({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Lt(Do),i=Ae(()=>e.route||n.value),o=Lt(hl,0),r=Ae(()=>{let h=Be(o);const{matched:c}=i.value;let f;for(;(f=c[h])&&!f.components;)h++;return h}),a=Ae(()=>i.value.matched[r.value]);li(hl,Ae(()=>r.value+1)),li(FT,a),li(Do,i);const l=vn();return Ts(()=>[l.value,a.value,e.name],([h,c,f],[u,b,C])=>{c&&(c.instances[f]=h,b&&b!==c&&h&&h===u&&(c.leaveGuards.size||(c.leaveGuards=b.leaveGuards),c.updateGuards.size||(c.updateGuards=b.updateGuards))),h&&c&&(!b||!sn(c,b)||!u)&&(c.enterCallbacks[f]||[]).forEach(O=>O(h))},{flush:"post"}),()=>{const h=i.value,c=a.value,f=c&&c.components[e.name],u=e.name;if(!f)return ml(s.default,{Component:f,route:h});const b=c.props[e.name],C=b?b===!0?h.params:typeof b=="function"?b(h):b:null,I=dc(f,Ce({},C,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return ml(s.default,{Component:I,route:h})||I}}});function ml(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const qT=YT;function KT(e){const t=TT(e.routes,e),s=e.parseQuery||HT,n=e.stringifyQuery||ul,i=e.history,o=bn(),r=bn(),a=bn(),l=Ch(Xt);let h=Xt;Vs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=lo.bind(null,x=>""+x),f=lo.bind(null,BT),u=lo.bind(null,Ii);function b(x,V){let D,z;return yu(x)?(D=t.getRecordMatcher(x),z=V):z=x,t.addRoute(z,D)}function C(x){const V=t.getRecordMatcher(x);V&&t.removeRoute(V)}function O(){return t.getRoutes().map(x=>x.record)}function I(x){return!!t.getRecordMatcher(x)}function E(x,V){if(V=Ce({},V||l.value),typeof x=="string"){const ie=co(s,x,V.path),p=t.resolve({path:ie.path},V),g=i.createHref(ie.fullPath);return Ce(ie,p,{params:u(p.params),hash:Ii(ie.hash),redirectedFrom:void 0,href:g})}let D;if("path"in x)D=Ce({},x,{path:co(s,x.path,V.path).path});else{const ie=Ce({},x.params);for(const p in ie)ie[p]==null&&delete ie[p];D=Ce({},x,{params:f(x.params)}),V.params=f(V.params)}const z=t.resolve(D,V),me=x.hash||"";z.params=c(u(z.params));const be=Q_(n,Ce({},x,{hash:RT(me),path:z.path})),oe=i.createHref(be);return Ce({fullPath:be,hash:me,query:n===ul?VT(x.query):x.query||{}},z,{redirectedFrom:void 0,href:oe})}function H(x){return typeof x=="string"?co(s,x,l.value.path):Ce({},x)}function W(x,V){if(h!==x)return nn(8,{from:V,to:x})}function R(x){return te(x)}function Q(x){return R(Ce(H(x),{replace:!0}))}function X(x){const V=x.matched[x.matched.length-1];if(V&&V.redirect){const{redirect:D}=V;let z=typeof D=="function"?D(x):D;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=H(z):{path:z},z.params={}),Ce({query:x.query,hash:x.hash,params:"path"in z?{}:x.params},z)}}function te(x,V){const D=h=E(x),z=l.value,me=x.state,be=x.force,oe=x.replace===!0,ie=X(D);if(ie)return te(Ce(H(ie),{state:me,force:be,replace:oe}),V||D);const p=D;p.redirectedFrom=V;let g;return!be&&X_(n,z,D)&&(g=nn(16,{to:p,from:z}),Ne(z,z,!0,!1)),(g?Promise.resolve(g):J(p,z)).catch(v=>Jt(v)?Jt(v,2)?v:Oe(v):re(v,p,z)).then(v=>{if(v){if(Jt(v,2))return te(Ce(H(v.to),{state:me,force:be,replace:oe}),V||p)}else v=ve(p,z,!0,oe,me);return Te(p,z,v),v})}function ue(x,V){const D=W(x,V);return D?Promise.reject(D):Promise.resolve()}function J(x,V){let D;const[z,me,be]=QT(x,V);D=uo(z.reverse(),"beforeRouteLeave",x,V);for(const ie of z)ie.leaveGuards.forEach(p=>{D.push(ts(p,x,V))});const oe=ue.bind(null,x,V);return D.push(oe),Ms(D).then(()=>{D=[];for(const ie of o.list())D.push(ts(ie,x,V));return D.push(oe),Ms(D)}).then(()=>{D=uo(me,"beforeRouteUpdate",x,V);for(const ie of me)ie.updateGuards.forEach(p=>{D.push(ts(p,x,V))});return D.push(oe),Ms(D)}).then(()=>{D=[];for(const ie of x.matched)if(ie.beforeEnter&&!V.matched.includes(ie))if(Ct(ie.beforeEnter))for(const p of ie.beforeEnter)D.push(ts(p,x,V));else D.push(ts(ie.beforeEnter,x,V));return D.push(oe),Ms(D)}).then(()=>(x.matched.forEach(ie=>ie.enterCallbacks={}),D=uo(be,"beforeRouteEnter",x,V),D.push(oe),Ms(D))).then(()=>{D=[];for(const ie of r.list())D.push(ts(ie,x,V));return D.push(oe),Ms(D)}).catch(ie=>Jt(ie,8)?ie:Promise.reject(ie))}function Te(x,V,D){for(const z of a.list())z(x,V,D)}function ve(x,V,D,z,me){const be=W(x,V);if(be)return be;const oe=V===Xt,ie=Vs?history.state:{};D&&(z||oe?i.replace(x.fullPath,Ce({scroll:oe&&ie&&ie.scroll},me)):i.push(x.fullPath,me)),l.value=x,Ne(x,V,D,oe),Oe()}let Se;function Pe(){Se||(Se=i.listen((x,V,D)=>{if(!Le.listening)return;const z=E(x),me=X(z);if(me){te(Ce(me,{replace:!0}),z).catch(Pn);return}h=z;const be=l.value;Vs&&oT(nl(be.fullPath,D.delta),Yi()),J(z,be).catch(oe=>Jt(oe,12)?oe:Jt(oe,2)?(te(oe.to,z).then(ie=>{Jt(ie,20)&&!D.delta&&D.type===Fn.pop&&i.go(-1,!1)}).catch(Pn),Promise.reject()):(D.delta&&i.go(-D.delta,!1),re(oe,z,be))).then(oe=>{oe=oe||ve(z,be,!1),oe&&(D.delta?i.go(-D.delta,!1):D.type===Fn.pop&&Jt(oe,20)&&i.go(-1,!1)),Te(z,be,oe)}).catch(Pn)}))}let Ke=bn(),Ue=bn(),de;function re(x,V,D){Oe(x);const z=Ue.list();return z.length?z.forEach(me=>me(x,V,D)):console.error(x),Promise.reject(x)}function fe(){return de&&l.value!==Xt?Promise.resolve():new Promise((x,V)=>{Ke.add([x,V])})}function Oe(x){return de||(de=!x,Pe(),Ke.list().forEach(([V,D])=>x?D(x):V()),Ke.reset()),x}function Ne(x,V,D,z){const{scrollBehavior:me}=e;if(!Vs||!me)return Promise.resolve();const be=!D&&rT(nl(x.fullPath,0))||(z||!D)&&history.state&&history.state.scroll||null;return Vl().then(()=>me(x,V,be)).then(oe=>oe&&iT(oe)).catch(oe=>re(oe,x,V))}const Ye=x=>i.go(x);let Ve;const Re=new Set,Le={currentRoute:l,listening:!0,addRoute:b,removeRoute:C,hasRoute:I,getRoutes:O,resolve:E,options:e,push:R,replace:Q,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:Ue.add,isReady:fe,install(x){const V=this;x.component("RouterLink",zT),x.component("RouterView",qT),x.config.globalProperties.$router=V,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(l)}),Vs&&!Ve&&l.value===Xt&&(Ve=!0,R(i.location).catch(me=>{}));const D={};for(const me in Xt)D[me]=Ae(()=>l.value[me]);x.provide(qi,V),x.provide(Su,cn(D)),x.provide(Do,l);const z=x.unmount;Re.add(x),x.unmount=function(){Re.delete(x),Re.size<1&&(h=Xt,Se&&Se(),Se=null,l.value=Xt,Ve=!1,de=!1),z()}}};return Le}function Ms(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function QT(e,t){const s=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(h=>sn(h,a))?n.push(a):s.push(a));const l=e.matched[r];l&&(t.matched.find(h=>sn(h,l))||i.push(l))}return[s,n,i]}function XT(){return Lt(qi)}function JT(e){var s,n;const t={title:"LEAVE_TABLE",message:e};(n=(s=ze.getters.user)==null?void 0:s.webSocket)==null||n.send(JSON.stringify(t)),ze.dispatch("clearTable")}function gl(){var t;const e={title:"REMATCH",message:""};(t=ze.getters.user)==null||t.webSocket.send(JSON.stringify(e))}function ZT(e){var s;const t={title:"RESIGN",message:e};(s=ze.getters.user)==null||s.webSocket.send(JSON.stringify(t))}var Fs=(e=>(e.DEFAULT="15px",e.LARGER="16px",e.LARGEST="18px",e))(Fs||{}),Ee=(e=>(e[e.ONES=1]="ONES",e[e.TWOS=2]="TWOS",e[e.THREES=3]="THREES",e[e.FOURS=4]="FOURS",e[e.FIVES=5]="FIVES",e[e.SIXES=6]="SIXES",e[e.PAIR=7]="PAIR",e[e.TWO_PAIR=8]="TWO_PAIR",e[e.THREE_OF_KIND=9]="THREE_OF_KIND",e[e.FULL_HOUSE=10]="FULL_HOUSE",e[e.SMALL_STRAIGHT=11]="SMALL_STRAIGHT",e[e.LARGE_STRAIGHT=12]="LARGE_STRAIGHT",e[e.FOUR_OF_KIND=13]="FOUR_OF_KIND",e[e.CHANCE=14]="CHANCE",e[e.YATZY=15]="YATZY",e[e.BONUS=16]="BONUS",e[e.SUBTOTAL=17]="SUBTOTAL",e[e.TOTAL=18]="TOTAL",e))(Ee||{});const Er=e=>(un("data-v-8fc30f03"),e=e(),hn(),e),ew={class:"row"},tw={class:"col"},sw=["disabled"],nw=["disabled"],iw={class:"row"},ow={class:"col-xs-12 col-sm-4"},rw=Er(()=>m("label",{class:"selectora",for:"notificationSound","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Beeps last 14 seconds in turn if checked"},[m("i",{class:"bi bi-music-note"})],-1)),aw={class:"ps-4"},lw=Er(()=>m("label",{class:"",for:"animate"}," animate",-1)),cw={class:"row"},uw={class:"col-xs-12 col-sm-4"},hw={key:0,class:"text-success"},dw={key:1,class:"text-success"},fw={key:2,class:"text-danger"},pw=Er(()=>m("div",null,[m("canvas",{id:"canvas",width:"1200",height:"600",style:{border:"1px solid"}})],-1)),mw=De({__name:"YatzyTable",props:["watch"],setup(e){const t=e,s=22;XT();let n=null;const i=gp(),o=vn({notificationSound:!1,animations:!0});Xl(()=>{fe(u.value.secondsLeft),u.value.timeControlIndex<2&&(o.value.animations=!1),r(),t.watch==="1"?(n={table:i.getters.theTable,yatzy:null},ie()):me(),Re(),qn()});const r=()=>{let d=document.getElementById("canvas");u.value.canvas={element:d,animating:!1,ctx:d.getContext("2d")},u.value.canvas.ctx.imageSmoothingEnabled=!0,R.value&&(u.value.canvas.enabled=!0)},a=()=>{o.value.animations&&(u.value.canvas.animating=!1,R.value)},l=()=>{const d=u.value.canvas.element.width;u.value.canvas.element.height;const y={x:0,y:0};let _;if(u.value.players.length===4&&d>=1100){let U=screen.width*.9,le=screen.height*.5;return _={x:U,y:le},{start:y,end:_}}if(u.value.players.length===4){let U=screen.width,le=screen.height*.65;return _={x:U,y:le},{start:y,end:_}}if(d>=1200||d>=1e3&&u.value.players.length<=3){let U=d*.95/2;return _={x:U,y:U},{start:y,end:_}}if(d>=768&&u.value.players.length<=3){let U=d*.55;return _={x:U,y:U},{start:y,end:_}}const k=d;return u.value.canvas.element.height*.75,_={x:k,y:screen.height*.75},{start:y,end:_}},h=()=>{const d=l();return d.end.y-d.start.y},c=()=>{let d=[],y=h()/s;return u.value.canvas.element.width<768&&(y=u.value.canvas.element.height*.5/s),d.push(Fe("Ones [5]",4,Ee.ONES,y)),d.push(Fe("Twos [10]",5,Ee.TWOS,y)),d.push(Fe("Threes [15]",6,Ee.THREES,y)),d.push(Fe("Fours [20]",7,Ee.FOURS,y)),d.push(Fe("Fives [25]",8,Ee.FIVES,y)),d.push(Fe("Sixes[30]",9,Ee.SIXES,y)),d.push(Fe("Subtotal [105]",10,Ee.SUBTOTAL,y)),d.push(Fe("Bonus [50] (upper > 63)",11,Ee.BONUS,y)),d.push(Fe("Pair [12]",12,Ee.PAIR,y)),d.push(Fe("Two pairs [22]",13,Ee.TWO_PAIR,y)),d.push(Fe("Three of kind [18]",14,Ee.THREE_OF_KIND,y)),d.push(Fe("Full house [28]",15,Ee.FULL_HOUSE,y)),d.push(Fe("Low straight (1-5) [15]",16,Ee.SMALL_STRAIGHT,y)),d.push(Fe("High straight (2-6) [20]",17,Ee.LARGE_STRAIGHT,y)),d.push(Fe("Four of kind [24]",18,Ee.FOUR_OF_KIND,y)),d.push(Fe("Chance [30]",19,Ee.CHANCE,y)),d.push(Fe("Yatzy [50]",20,Ee.YATZY,y)),d.push(Fe("Grand Total [374]",21,Ee.TOTAL,y)),d},f=()=>{let d=i.getters.yatzyTable;console.log("initTable:"+JSON.stringify(d));const y={x:1600,y:1600},_={image:document.getElementById("yatzybg"),canvasDimension:y,canvasDestination:{x:0,y:0},realDimension:{x:1024,y:1024},canvasRotationAngle:0,visible:!0};d.image=_;const k=d.players;t.watch||d.players.forEach(le=>{le.scoreCard={bonus:void 0,subTotal:0,total:0,hands:[],lastAdded:null},le.enabled=!0}),d.players=k;for(let le=1;le<6;le++){const ke={image:document.getElementById("dice"+le),canvasDimension:{x:80,y:80},realDimension:{x:1024,y:1024},canvasRotationAngle:0,canvasDestination:{x:0,y:0},visible:!0};let ht=d.dices[le-1];ht.image=ke}const U={image:document.getElementById("emptyButton"),canvasDimension:{x:100,y:50},realDimension:{x:727,y:279},canvasRotationAngle:0,canvasDestination:{x:0,y:0},visible:!0};return d.playButton={image:U,position:{x:650,y:300}},d.position={x:0,y:0},d},u=vn(f()),b=vn({actions:[],blocked:!1}),C=Ae(()=>{var d;return(d=i.getters.user)==null?void 0:d.name}),O=Ae(()=>i.getters.user),I=Ae(()=>b.value.actions.length),E=Ae(()=>u.value.playerInTurn),H=Ae(()=>E.value.rollsLeft>0&&E.value.rollsLeft<3&&u.value.canvas.animating===!1),W=Ae(()=>R.value===!0&&E.value.rollsLeft<3&&u.value.canvas.animating===!1),R=Ae(()=>{var d,y;return((y=(d=u.value)==null?void 0:d.playerInTurn)==null?void 0:y.name)===C.value}),Q=Ae(()=>{var d;return R.value&&E.value.rollsLeft>0&&((d=u.value.canvas)==null?void 0:d.animating)===!1&&X.value===!1}),X=Ae(()=>u.value.dices.filter(d=>d.selected).length===5),te=Ae(()=>u.value.canvas.enabled&&R.value===!0),ue=vn(!1),J=()=>{ZT(u.value.tableId),ue.value=!0},Te=Ae(()=>u.value.gameOver===!1&&u.value.players.find(d=>d.scoreCard.hands.length>0&&d.name===C.value&&d.enabled===!0)!=null&&ue.value===!1),ve=Ae(()=>u.value.gameOver===!0&&u.value.players.length>1);Ts(()=>I,d=>{d.value>0&&Pe()},{deep:!0});const Se=()=>u.value.players.find(d=>d.name===C.value)!=null,Pe=()=>{if(b.value.blocked||b.value.actions.length===0){console.log("actionQueue not consuming "+b.value.actions.length);return}if(u.value.playerInTurn===null){console.log("consumeActions no playerInTurn, so game over");return}b.value.blocked=!0;const d=b.value.actions.splice(0,1)[0];if(V=!1,d.type==="yatzyRollDices")xr(u.value.dices,d.payload.yatzy.dices).then(()=>{const y=u.value.playerInTurn;E.value.rollsLeft=d.payload.table.playerInTurn.rollsLeft,Sr(u.value.dices,d.payload.table.dices,y.rollsLeft===0),Bt(),Ne(),console.log("animations done")});else if(d.type==="yatzySelectHand")Oe(d.payload),Xi(),d.payload.table.gameOver?Ue():Ne();else if(d.type==="changeTurn")i.dispatch("changeTurn",d.payload.table.playerInTurn).then(()=>{u.value.dices.forEach(y=>{y.selected=!1}),Ne(),document.body.style.cursor="default",u.value.playerInTurn=d.payload.table.playerInTurn,E.value.rollsLeft=d.payload.table.playerInTurn.rollsLeft,R.value&&(u.value.canvas.enabled=!0),qn()});else if(d.type==="timeout"){let y=u.value.players.find(_=>_.name===d.payload.table.timedOutPlayerName);console.log("Handling timeout"+JSON.stringify(y)+" myName:"+C+" timedOut "+d.payload.table.timedOutPlayerName),Ke(y,d,!0)}},Ke=(d,y,_)=>{d.enabled=!1,C.value===d.name&&_===!0&&(Wt=!0),C.value===d.name&&(u.value.canvas.enabled=!1),Xi(),y.payload.table.gameOver?Ue():Ne()},Ue=()=>{re(),console.log("Handling gameOver"),u.value.playerInTurn=null,b.value.blocked=!0,b.value.actions=[],u.value.canvas.enabled=!1,u.value.gameOver=!0;const d={from:"System",text:"Game ended"};i.dispatch("chat",d),Bt()};let de=null;const re=()=>{de=clearInterval(de)},fe=d=>{console.log("restartInterval "+d),de&&re(),u.value.secondsLeft=d,de=setInterval(()=>{u.value.secondsLeft--,(u.value.secondsLeft<=0||!u.value.secondsLeft)&&re()},1e3)},Oe=d=>{let y=u.value.players.find(k=>k.name===d.yatzy.whoPlayed);y.scoreCard.total=d.yatzy.scoreCard.total,y.scoreCard.bonus=d.yatzy.scoreCard.bonus,y.scoreCard.subTotal=d.yatzy.scoreCard.subTotal,y.scoreCard.lastAdded=d.yatzy.scoreCard.lastAdded;let _=y.scoreCard.hands.find(k=>k.last===!0);_&&_.last&&(_.last=!1),y.scoreCard.hands.push({handType:d.yatzy.scoreCard.lastAdded.handType,typeNumber:d.yatzy.scoreCard.lastAdded.typeNumber,value:d.yatzy.scoreCard.lastAdded.value,last:!0})},Ne=(d=0)=>{V=!1,b.value.blocked=!1,setTimeout(()=>{Pe()},d)},Ye=()=>{u.value.canvas.element.style.position="absolute",u.value.canvas.element.style.left="0px"},Ve=()=>{u.value.canvas.element.style.position="relative ",u.value.canvas.element.style.left=""},Re=()=>{console.log("resizeEvent screenWidth"+screen.width),x(),r(),Bt()};let Le=!0;const x=()=>{Le=!0,window.innerWidth>=1200?(Ve(),u.value.canvas.element.width=1100,u.value.canvas.element.height=window.innerHeight):window.innerWidth>=1e3&&u.value.players.length>2?(u.value.canvas.element.width=window.innerWidth*.9,u.value.canvas.element.height=1e3):window.innerWidth>=940?(u.value.playerAmount>=3&&(Le=!1),Ye(),u.value.canvas.element.width=window.innerWidth,u.value.canvas.element.height=window.innerHeight):(Le=!1,Ye(),u.value.canvas.element.width=screen.width,u.value.canvas.element.height=window.innerHeight),u.value.scoreCardRows=c();const d=Ls();return u.value.dices.forEach(y=>{y.image.canvasDimension.x=d.x,y.image.canvasDimension.y=d.y}),Le};let V=!1;const D=()=>{if(g=null,Q.value===!1||u.value.canvas.animating===!0||V===!0)return;V=!0;let d=[];for(let _=0;_<u.value.dices.length;_++){const{diceId:k,selected:U,number:le,position:ke}=u.value.dices[_];U||d.push({diceId:k,selected:U,number:le,position:ke})}const y={title:"YATZY_ROLL_DICES",message:u.value.tableId,yatzy:{dices:d}};console.log("*** Sending dices "+JSON.stringify(y)),O.value.webSocket.send(JSON.stringify(y))},z=d=>{if(R.value!==!0||E.value.rollsLeft===3||u.value.canvas.animating===!0||g===null||V===!0)return;const y={title:"YATZY_SELECT_HAND",message:u.value.tableId,yatzy:{handType:g.handType}};console.log("*** Sending selection "+JSON.stringify(y)),O.value.webSocket.send(JSON.stringify(y)),g=null},me=()=>{window.addEventListener("resize",Re);const d=document.getElementById("canvas");d.addEventListener("pointerover",y=>{te.value}),d.addEventListener("pointerdown",y=>{if(!te.value)return;const _={x:y.offsetX,y:y.offsetY};console.log("Pointer down event");const k=be(_);k&&H.value===!0?k.selected?k.selected=!1:k.selected=!0:N(_,u.value.playButton.image)?(document.body.style.cursor="default",D()):W.value===!0&&B(_,l())&&z(),qn()}),d.addEventListener("pointermove",y=>{const _={x:y.offsetX,y:y.offsetY};!te.value||(document.body.style.cursor="default",H.value===!0&&B(_,Dt())?be(_)&&(document.body.style.cursor="pointer"):W.value===!0&&B(_,l())?(document.body.style.cursor="pointer",g=null,v(_),Bt()):B(_,Cr())&&Q.value===!0&&N(_,u.value.playButton.image)&&(document.body.style.cursor="pointer"))}),document.addEventListener("visibilitychange",p),d.addEventListener("contextmenu",y=>y.preventDefault())},be=d=>u.value.dices.filter(y=>S(y,d))[0],oe=()=>document.visibilityState==="visible",ie=()=>{if(n===null){Ne();return}console.log("FROM SNAPSHOT"),Sr(u.value.dices,n.table.dices,!1),n.table.players.forEach(k=>{var ke,ht;const U=u.value.players.find(Kn=>Kn.name===k.name),le=k.scoreCard.hands;U.scoreCard.hands=[];for(const[Kn,Ir]of Object.entries(le)){let Pr=Ir;((ht=(ke=k.scoreCard)==null?void 0:ke.lastAdded)==null?void 0:ht.handType)===Pr.handType&&(Pr.last=!0),U.scoreCard.hands.push(Ir)}U.scoreCard.bonus=k.scoreCard.bonus,U.scoreCard.total=k.scoreCard.total,U.scoreCard.subTotal=k.scoreCard.subTotal,U.enabled=k.enabled});let d=n.table.playerInTurn;if(E.value&&(E.value.rollsLeft=d==null?void 0:d.rollsLeft,console.log("ROLLS LEFT:"+E.value.rollsLeft+" PlayerInTurn:"+JSON.stringify(E.value))),n.table.players.find(k=>!(k!=null&&k.enabled)&&(k==null?void 0:k.name)===C.value)&&(Wt=!0),n.table.gameOver)return Ue();Y({payload:n})},p=()=>{console.log("onVisiblityChange "+oe()),oe()?(ie(),Bt(),Ne()):b.value.blocked=!0};let g=null;const v=d=>{const y=d.y-l().start.y;let _=h()/s,k=Math.floor(y/_);const U=u.value.scoreCardRows[k-4];if(!U||!A(U)){document.body.style.cursor="default";return}if(E.value.scoreCard.hands.length===void 0){g=U;return}E.value.scoreCard.hands.findIndex(ke=>{ke.handType,U.handType})===-1&&(g=U)},A=d=>d.handType===Ee.BONUS||d.handType===Ee.SUBTOTAL||d.handType===Ee.TOTAL?!1:!u.value.players.find(k=>k.name===C.value).scoreCard.hands.find(k=>k.handType.toString()===Ee[d.handType].toString()),S=(d,y)=>{const _=Ls();return!(y.x<d.position.x||y.x>d.position.x+_.x||y.y<d.position.y||y.y>d.position.y+_.y)},N=(d,y)=>!(d.x<y.canvasDestination.x||d.x>y.canvasDestination.x+y.canvasDimension.x||d.y<y.canvasDestination.y||d.y>y.canvasDestination.y+y.canvasDimension.y),B=(d,y)=>!(d.x<y.start.x||d.x>y.end.x||d.y<y.start.y||d.y>y.end.y);Jo(()=>{console.log("onUnmounted"),P(),$(),document.removeEventListener("visibilitychange",p),JT(u.value.tableId)});const $=i.subscribe((d,y)=>{d.type==="changeTurn"&&console.log("changePlayer mutation"),d.type==="rematch"&&console.log("rematch sub"),d.type==="resign"&&console.log("resign sub")}),M=d=>{fe(d.payload.table.secondsLeft),u.value=f();let y=d.payload.table.playerInTurn;y.rollsLeft=d.payload.table.playerInTurn.rollsLeft,u.value.players.forEach(_=>_.enabled=!0),u.value.playerInTurn=y,Wt=!1,u.value.gameOver=!1,Ne(),r(),ue.value=!1,Bt()},P=i.subscribeAction((d,y)=>{if(console.log("Action in:"+JSON.stringify(d)),!!q(d)){if(d.type==="currentTableIsClosed"){u.value.players.forEach(_=>{_.enabled=!1}),Ue();return}if(d.type==="rematch"){M(d),n=d.payload;return}if(d.type==="leaveTable")return n=d.payload,G(d);if(d.type==="multiplayerTableResign"){n=d.payload;let _=u.value.players.find(U=>U.name===d.payload.who.name);Ke(_,d,!1),Y(d)&&fe(d.payload.table.secondsLeft);return}n=d.payload,fe(d.payload.table.secondsLeft),b.value.actions.splice(b.value.actions.length,0,d),Y(d)}}),q=d=>d.type==="yatzyRollDices"||d.type==="yatzySelectHand"||d.type==="leaveTable"||d.type==="timeout"||d.type==="rematch"||d.type==="multiplayerTableResign"||d.type==="currentTableIsClosed",G=d=>{let y=u.value.players.find(_=>_.name===d.payload.who.name);if(!y){console.log("watcher left");return}console.log("handle leaving player"),y.enabled=!1,Ne(),Y(d),Bt()},Y=d=>{var y,_,k,U,le,ke;if(d.payload.table.gameOver)return!1;if(((k=(_=(y=d.payload)==null?void 0:y.table)==null?void 0:_.playerInTurn)==null?void 0:k.name)!==((le=(U=u.value)==null?void 0:U.playerInTurn)==null?void 0:le.name)||((ke=u.value)==null?void 0:ke.players.filter(ht=>ht.enabled===!0).length)===1){let ht={type:"changeTurn",payload:d.payload};return b.value.actions.splice(b.value.actions.length,0,ht),!0}return!1},Z=d=>{if(!d)return;const y=u.value.canvas.ctx;!d.image.visible||(d.image.canvasRotationAngle&&y.rotate(d.image.canvasRotationAngle),d.image.canvasDestination||(d.image.canvasDestination={x:0,y:0}),y.drawImage(d.image.image,0,0,d.image.realDimension.x,d.image.realDimension.y,d.image.canvasDestination.x,d.image.canvasDestination.y,d.image.canvasDimension.x,d.image.canvasDimension.y))},he=()=>{var y;const d=Dt();for(let _=0;_<5;_++){const k=u.value.dices[_],U=Ls();k.selected?k.position={x:d.start.x+_*U.x+60,y:d.start.y+U.y}:((y=E==null?void 0:E.value)==null?void 0:y.rollsLeft)===0&&k.selected===!1?k.position={x:d.start.x+_*U.x+60,y:d.start.y+(k.position.y-d.start.y)}:k.position={x:d.start.x+_*U.x+60,y:d.start.y},k.image.canvasDestination=k.position,k.image.canvasDimension.x=U.x,k.image.canvasDimension.x=U.y,Z(k)}},ge=()=>{if(Q.value===!0){const d=u.value.playButton,y=Cr();d.position.x=y.end.x-d.image.canvasDimension.x,d.position.y=y.end.y-d.image.canvasDimension.y,d.image.canvasDestination=d.position;const _=u.value.canvas.ctx;_.beginPath();const k=u.value.dices.filter(U=>!U.selected).length;_.font="bold "+Fs.LARGEST+" Arial",_.font="18px bolder Arial",_.fillText("Roll "+k,d.position.x+20,d.position.y+30),_.closePath(),Z(d)}},_e="Click the roll button",we="Select a hand",ot="Select a hand, lock dices or roll unlocked dices";let Gt="It's your turn "+C.value;const Wn="Waiting your turn",cs="You timed out";let Wt=!1;const Qe=()=>Wt?cs:R.value===!1&&Wt===!1&&!t.watch?Wn:R.value===!1?"":E.value.rollsLeft===3?_e:E.value.rollsLeft===0?we:ot,ut=()=>{var U,le,ke;const d=Dt().start.x+75,y=Dt().start.y-30,_=Dt().start.y-10,k=u.value.canvas.ctx;if(k.beginPath(),k.font="18px bolder Arial",!E.value){k.fillText("GAME OVER",d,y),k.closePath();return}R.value===!0?k.fillStyle="green":k.fillStyle="red",k.fillText(R.value===!1?"In turn "+((U=E==null?void 0:E.value)==null?void 0:U.name)+" (left = "+((le=E==null?void 0:E.value)==null?void 0:le.rollsLeft)+")":Gt+" (left = "+((ke=E==null?void 0:E.value)==null?void 0:ke.rollsLeft)+")",d,y),k.fillStyle="black",k.fillText(Qe(),d,_),k.closePath()},Dt=()=>{const d=Ls(),y=u.value.canvas.element.width;if(u.value.players.length===4&&y>=1e3){u.value.canvas.element.width;const _=u.value.canvas.element.height*.75;return{start:{x:20,y:_},end:{x:20+6*d.x,y:_+d.y*2}}}if(u.value.players.length===4){u.value.canvas.element.width;const _=u.value.canvas.element.height*.75;return{start:{x:20,y:_},end:{x:20+6*d.x,y:_+d.y*2}}}if(Le&&y>=1e3){const _=u.value.canvas.element.height/10,k=u.value.canvas.element.width*.5;return{start:{x:k,y:_},end:{x:k+6*d.x,y:_+d.y*2}}}if(Le&&window.innerWidth<1e3){const _=u.value.canvas.element.height/10,k=u.value.canvas.element.width*.5;return{start:{x:k,y:_},end:{x:k+6*d.x,y:_+d.y*2}}}return{start:{x:0,y:u.value.canvas.element.height*.75},end:{x:20+6*d.x,y:u.value.canvas.element.height*.95}}},Cr=()=>{const d=Dt();if(Ls(),d.end.y<u.value.canvas.element.height/2){const k={x:d.start.x,y:d.end.y},U={x:d.end.x-10,y:d.end.y+75};return{start:k,end:U}}const y={x:d.end.x+50,y:d.start.y},_={x:d.end.x+150,y:d.start.y+50};return{start:y,end:_}},Ls=()=>(u.value.canvas.element.width,Le&&screen.width>=1e3?{x:85,y:85}:Le&&window.innerWidth<1e3?{x:70,y:70}:window.innerWidth<500?{x:60,y:60}:{x:80,y:80});let Yn=0;const Qi=d=>new Promise(y=>setTimeout(y,d)),Bt=()=>{console.log("DRAW all"),requestAnimationFrame(qn)},xr=async(d,y)=>{o.value.animations!==!1&&(u.value.canvas.animating=!0,Yn!==0?(Ar(u.value.dices),requestAnimationFrame(he)):(ku(d,y),Ar(u.value.dices),Bt()),Yn++,Yn<10?(await Qi(250),await xr(d,y)):(Yn=0,u.value.canvas.animating=!1))},ku=async(d,y)=>{d.forEach(_=>{y.find(U=>_.diceId===U.diceId)?_.selected=!1:_.selected=!0}),await Qi(1e3)},Sr=async(d,y,_=!1)=>{if(y.forEach(ke=>{const ht=d.find(Kn=>Kn.diceId===ke.diceId);kr(ht,ke.number)}),_===!1||!o.value.animations)return;let k=0;const U=d.filter(ke=>!ke.selected),le=Ls();for(u.value.canvas.animating=!0;k<16;){for(let ke=0;ke<U.length;ke++){let ht=U[ke];ht.position.y+=le.y/16}Bt(),await Qi(50),k++}u.value.canvas.animating=!1},kr=(d,y)=>{d.number=y,d.image.image=document.getElementById("dice"+y)},Au=d=>{d.selected||kr(d,Iu())},Ar=d=>{d.forEach(y=>{Au(y)})},Iu=()=>Math.floor(Math.random()*6+1),Pu=(d,y)=>{let _=y.scoreCard.hands.find(k=>k.handType.toString()===Ee[d].toString());return _||(d===Ee.BONUS?_={handType:void 0,value:y.scoreCard.bonus,typeNumber:16}:d===Ee.SUBTOTAL?_={handType:void 0,value:y.scoreCard.subTotal,typeNumber:17}:d===Ee.TOTAL&&(_={handType:void 0,value:y.scoreCard.total,typeNumber:18}),_)},qn=()=>{const d=u.value.canvas;d.ctx.clearRect(0,0,d.element.width,d.element.height),Z(u.value),Xi(),he(),ge(),ut()},$s=120,Ou=(d,y,_)=>{const k=u.value.canvas.ctx;if(y&&y.value>-1){let U=y.value>-1?y.value.toString():" - ";k.fillStyle=d.enabled?"black":"gray",k.fillText(U,_.x,_.y)}k.fillStyle="black"},Lu=25,Ns=200,$u=15,Nu=(d,y)=>{const _=u.value.canvas.ctx;_.fillText(d.title,d.section.start.x,y*d.nth+$u),Ru(d,y),_.moveTo(d.section.start.x,y*d.nth),_.lineTo(d.section.end.x,y*d.nth),_.stroke(),(g==null?void 0:g.handType)===d.handType&&(_.strokeStyle="#FF0000",_.lineWidth=3,_.strokeRect(d.section.start.x,y*d.nth,l().end.x,d.height)),_.lineWidth=1,_.strokeStyle="#000000"},Ru=(d,y)=>{for(let _=0;_<u.value.players.length;_++){const k=Pu(d.handType,u.value.players[_]),U={x:Ns+50+$s*_,y:y*(d.nth+1)-5};if(Ou(u.value.players[_],k,U),k&&k.last){const le=u.value.canvas.ctx;le.fillStyle="red",le.font="900 24px Arial",le.fillText(" *",U.x+20,U.y+5),le.font="bold "+Fs.DEFAULT+" Arial",le.fillStyle="black"}}},Fe=(d,y,_,k)=>{let U=l();return{section:{start:{x:Lu,y:k*y},end:{x:U.end.x,y:k*y}},title:d,nth:y,handType:_,height:k}},Xi=()=>{const d=u.value.canvas;l();let y=h()/s;d.element.width;const _=d.ctx;_.font="bolder "+Fs.LARGEST+" Arial",_.beginPath(),_.fillText("Scorecards",150,35),_.font="bold "+Fs.DEFAULT+" Arial",d.element.width<768&&(_.font=Fs.DEFAULT+" Arial"),u.value.scoreCardRows.forEach(k=>{Nu(k,y)});for(let k=0;k<u.value.players.length;k++){_.fillStyle=u.value.players[k].enabled?"black":"gray";let U=u.value.players[k].name;if(U.length>10){let le=U.substring(0,10),ke=U.substring(10);_.fillText(le,Ns+8+k*$s,y*2.5),_.fillText(ke,Ns+8+k*$s,y*3)}else _.fillText(U,Ns+5+k*$s,y*3);_.moveTo(Ns+k*$s,y*3),_.lineTo(Ns+k*$s,y*21),_.stroke()}_.fillStyle="black",_.closePath()};return(d,y)=>{var _,k,U;return T(),w(ae,null,[m("div",ew,[m("div",tw,[Se()?(T(),w("button",{key:0,disabled:!Be(Te),onClick:J,type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Resign ",8,sw)):j("",!0),Se()?(T(),w("button",{key:1,disabled:!Be(ve),onClick:y[0]||(y[0]=(...le)=>Be(gl)&&Be(gl)(...le)),type:"button",class:"btn btn-primary w-30 float-xs-start float-sm-end"}," Rematch ",8,nw)):j("",!0)])]),m("div",iw,[m("div",ow,[rw,Me(m("input",{type:"checkbox",id:"notificationSound","onUpdate:modelValue":y[1]||(y[1]=le=>o.value.notificationSound=le)},null,512),[[wt,o.value.notificationSound]]),m("span",aw,[Me(m("input",{class:"",type:"checkbox",id:"animate",onClick:a,"onUpdate:modelValue":y[2]||(y[2]=le=>o.value.animations=le)},null,512),[[wt,o.value.animations]]),lw])])]),m("div",cw,[m("div",uw,[((_=u.value.playerInTurn)==null?void 0:_.name)===Be(C)?(T(),w("span",hw," It's your turn "+F(Be(C))+" time:"+F(u.value.secondsLeft),1)):((k=u.value)==null?void 0:k.playerInTurn)===null?(T(),w("span",dw," Game ended ")):(T(),w("div",fw," In turn: "+F((U=u.value.playerInTurn)==null?void 0:U.name)+" time:"+F(u.value.secondsLeft),1))])]),pw],64)}}});const gw=He(mw,[["__scopeId","data-v-8fc30f03"]]),bw=De({name:"Info",data(){return{messages:null,message:{text:""}}},computed:{messageExist(){return this.message.text.length>0}},created(){},methods:{sendMessage(){let e=this.message.text.trim();e.length<1||e.length>200}}}),yw={class:"row mb-3 mt-2"},vw=tr('<div class="col"><span class="fw-bold"><h3>Terms and conditions 24.04.2022</h3></span><p class=""><span class="fw-bold">General</span><br> Site is under construction and can change/reset data without informing. At the moment you can play eightball, tic-tac-toe and connect4 games. On some occasions IP-address of the client is logged. <br></p><p class=""><span class="fw-bold">Cookies</span><br> This site does not use cookies to store information. Instead it uses browser&#39;s session storage to store login token.<br> With basic browser settings token is removed after closing or after using logging out functionality. <br></p><p class=""><span class="fw-bold">Browsers</span><br> Recommended browsers are latest versions of Firefox, Chrome and Edge. <br></p><p class=""><span class="fw-bold">Bugs </span><br> No bounties are available for bugs. But if you track them and find anything please use the feedback form for notifying. </p><p class=""><span class="fw-bold">Disclaimer</span><br> You use this site at your own risk.<br> There is no guarantee for this website to work error free. The author of this site is not liable for any damage what could be caused by using this website.<br></p></div>',1),_w=[vw];function Tw(e,t,s,n,i,o){return T(),w("div",yw,_w)}const ww=He(bw,[["render",Tw]]),Ew=De({name:"Instructions",mixins:[xt],data(){},computed:{},created(){},methods:{}}),Cw={class:"row"},xw=tr('<div class="col-xs-12 col-sm-12"><span class="fw-bold"> Eight ball briefly: </span><p> 1. Starting player sets the handball on the left side of the line by clicking the position with mouse.<br> 2. At first the table is open =&gt; players choose either solids or stripes to play with.<br> 3. Aim with mouse, put cursor near the ball you want to hit. <br> Holding mouse button down gives force to the cue, until maxed out or releasing the button.<br> 4. Last ball to put into a pocket is eight ball. A pocket selection must be done before pocketing.<br> 5. Player wins if eight ball is hit first and it goes to the selected pocket while cue ball stays on the table.<br> 6. Other than starting handball can be placed freely at the table unless it is overlapping other ball. </p><p><span class="fw-bold"> Mobile clients </span> It is possible to play the games also with mobile client. <p> Canvas, where the games are playd, is not responsive. However it is possible to zoom in and out. Playing can be easier if device supports horizontal layout by turning the device.<br> EightBall: Mobile device uses browser&#39;s pointer events which are not supported by all devices. <br> Both aiming and cue force loading happens by holding finger (or similar) on the screen at wanted point. <br> Zooming in and out _should_ be also possible before aiming has started. </p></p></div>',1),Sw=[xw];function kw(e,t,s,n,i,o){return T(),w("div",Cw,Sw)}const Aw=He(Ew,[["render",kw]]),Iw=De({name:"Feedback",data(){return{message:"",error:!1,success:!1,loading:!1}},computed:{sendButtonEnabled(){return this.message.trim().length>4},showError(){return this.error},showThanks(){return this.success},loadingData(){return this.loading}},methods:{send(){const e="http://35.217.7.146/portal/api/feedback",t={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify(this.message)};this.loading=!0,fetch(e,t).then(s=>{if(s.status!==200)return Promise.reject("error in feedback")}).then(s=>{this.error=!1,this.success=!0,this.message=""},s=>{this.error=!0,this.success=!1}).finally(()=>{this.loading=!1})}},created(){}});const Ki=e=>(un("data-v-3cb062a9"),e=e(),hn(),e),Pw={key:0,class:"row"},Ow=Ki(()=>m("div",{class:"col fw-bold"}," Have some feedback? Are games not working? Have improvement ideas? ",-1)),Lw={class:"row mt-4"},$w={class:"col"},Nw=["disabled"],Rw=Ki(()=>m("div",{class:"row"},[m("div",{class:"col"},[K(" Known issues for 8-ball game: "),m("br"),K(" 1. On some occasions the ball which collides with cue ball can go/move to an unexpected or even opposite direction than what can be expected. "),m("br"),K(" 2. A ball can be wobbly when it goes along the pocket pathway. "),m("br"),m("br"),K(" In these cases going to another browser window/tab and coming back refreshes the browser to the latest server level."),m("br")])],-1)),Mw={key:0,class:"row d-inline-flex p-2 alert-danger"},Dw={key:1,class:"row spinner-border",role:"status"},Bw=Ki(()=>m("span",{class:"sr-only"},null,-1)),Hw=[Bw],Vw={key:2,class:"row mt-4 alert alert-success"},Fw=Ki(()=>m("div",{class:"col"}," Thanks! ",-1)),jw=[Fw];function Uw(e,t,s,n,i,o){return T(),w(ae,null,[!e.showThanks&&!e.loadingData?(T(),w("div",Pw,[Ow,m("div",Lw,[m("div",$w,[m("div",null,[Me(m("textarea",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.message=r),maxlength:"400",class:"form-control",rows:"3"}," ",512),[[Hn,e.message]]),m("button",{disabled:!e.sendButtonEnabled,onClick:t[1]||(t[1]=(...r)=>e.send&&e.send(...r)),class:"btn btn-primary"}," Send feedback ",8,Nw)])])]),Rw,e.showError?(T(),w("div",Mw," Error occured! ")):j("",!0)])):e.loadingData?(T(),w("div",Dw,Hw)):j("",!0),e.showThanks?(T(),w("div",Vw,jw)):j("",!0)],64)}const zw=He(Iw,[["render",Uw],["__scopeId","data-v-3cb062a9"]]),Gw=De({name:"Registration",data(){return{usrNameTemp:null,usrPwTemp:null,registerError:null,registerErrorNickName:null,requestOnTheFly:!1,registerDone:!1}},computed:{isRegistrateButtonDisabled(){return this.requestOnTheFly?!0:!this.registrationDataOk},errorInRegistration(){return this.registerError!=null},errorInRegistrationDuplicate(){return this.registerErrorNickName!=null},registrationDataOk(){return!(!this.usrPwTemp||!this.usrNameTemp||this.usrPwTemp===this.usrNameTemp||this.usrPwTemp.startsWith("1234567")||this.usrPwTemp.startsWith("qwerty")||this.usrPwTemp.startsWith(" ")||this.usrPwTemp.endsWith(" ")||this.usrPwTemp.length<8||this.usrNameTemp.length<1)}},created(){},methods:{showLogin(){},registrate(){var s;this.registerError=null,this.registerErrorNickName=null,this.requestOnTheFly=!0;const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:null},body:JSON.stringify({userName:(s=this.usrNameTemp)==null?void 0:s.trim(),password:this.usrPwTemp.trim()})},t="http://35.217.7.146/portal/api/user/register";this.$store.dispatch("setLoadingStatus",!0),fetch(t,e).then(n=>(this.resetRegistrationData(),n.status===406?Promise.reject(406):n.status!==200?Promise.reject("error in login"):n.json())).then(n=>{this.usrNameTemp=n.name,this.registerDone=!0},n=>{n===406?this.registerErrorNickName=!0:this.registerError=!0}).finally(()=>{this.requestOnTheFly=!1,this.$store.dispatch("setLoadingStatus",!1)})},resetRegistrationData(){this.usrNameTemp=null,this.usrPwTemp=null}}}),Ww={key:0,class:"row"},Yw=m("div",{class:"col"},[m("h3",null," Create nickname")],-1),qw=m("div",{class:"row"},[m("div",{class:"col m-2"}," Nickname is optional to play the game. Nickname must be at least 2 chars and must not contain special characters. Password must be at minimum 8 characters. ")],-1),Kw=[Yw,qw],Qw={key:1,class:"row"},Xw={class:"col m-2"},Jw=K(" * Nickname "),Zw={key:2,class:"row"},e0={class:"col"},t0=K(" * Password "),s0={key:3,class:"row"},n0={class:"col"},i0=["disabled"],o0={key:0,class:"text-danger"},r0={key:0,class:"d-inline-flex p-2 alert-danger",role:"alert"},a0={key:1,class:"d-inline-flex p-2 alert-danger",role:"alert"},l0={key:4,class:"row"},c0={class:"col alert alert-success"},u0=K(" login ");function h0(e,t,s,n,i,o){const r=Et("router-link");return T(),w(ae,null,[e.registerDone?j("",!0):(T(),w("div",Ww,Kw)),e.registerDone?j("",!0):(T(),w("div",Qw,[m("div",Xw,[Jw,Me(m("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.usrNameTemp=a),class:"p-3",id:"username",type:"text",name:"username",pattern:"\\\\S(.\\\\*\\\\S)\\\\?\\\\*",title:"This field is required",size:"40",maxlength:"15",autocomplete:"off"},null,512),[[Hn,e.usrNameTemp]])])])),e.registerDone?j("",!0):(T(),w("div",Zw,[m("div",e0,[t0,Me(m("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.usrPwTemp=a),class:"p-3",id:"pw",name:"pw",type:"password",minlength:"8",size:"40",maxlength:"150",autocomplete:"off"},null,512),[[Hn,e.usrPwTemp]])])])),e.registerDone?j("",!0):(T(),w("div",s0,[m("div",n0,[m("button",{onClick:t[2]||(t[2]=(...a)=>e.registrate&&e.registrate(...a)),class:"btn btn-primary",disabled:e.isRegistrateButtonDisabled}," Registrate ",8,i0),e.registrationDataOk?j("",!0):(T(),w("span",o0," Type (better) password"))]),e.errorInRegistration?(T(),w("div",r0," Registration error occured! Nickname minimum 2 characters and password minimum 8 characters. Try another nickname. ")):j("",!0),e.errorInRegistrationDuplicate?(T(),w("div",a0,"Oops, seems like nickname is already taken, try another.")):j("",!0)])),e.registerDone?(T(),w("div",l0,[m("div",c0,[K(" Registration for nickname "+F(e.usrNameTemp)+" is complete. You can now ",1),se(r,{to:{name:"Login"}},{default:st(()=>[u0]),_:1})])])):j("",!0)],64)}const d0=He(Gw,[["render",h0]]),f0=De({name:"Error",methods:{toMainPage(){this.$router.push("/")}},created(){}}),p0={class:"row"},m0={class:"col text-danger"},g0=K(" An error occured. Try navigating to "),b0=K("main page");function y0(e,t,s,n,i,o){const r=Et("router-link");return T(),w("div",p0,[m("div",m0,[g0,se(r,{to:{name:"Home"}},{default:st(()=>[b0]),_:1})])])}const v0=He(f0,[["render",y0]]),_0=[{path:"/portal/index.html",redirect:{name:"Home"}},{path:"/index.html",redirect:{name:"Home"}},{path:"/",redirect:{name:"Home"}},{path:"",redirect:{name:"Home"}},{path:"/portal",redirect:{name:"Home"}},{path:"/portal/home",component:ha,name:"Home"},{path:"/portal/instructions",component:Aw,name:"Instructions"},{path:"/portal/login",component:lp,name:"Login",props:!0},{path:"/portal/registration",component:d0,name:"Registration",props:!0},{path:"/portal/toplists",component:sb,name:"TopLists",props:!0},{path:"/portal/lobby",component:Vm,name:"Lobby",props:!0,beforeEnter:(e,t,s)=>{if(ze.state.user)ze.dispatch("updateUserTableId",null).then(()=>{s()});else{const n=sessionStorage.getItem("userName"),i=sessionStorage.getItem("token");let o={name:n,token:i,webSocket:null};ze.dispatch("setUser",o).then(()=>{s()})}}},{path:"/portal/table/:watch?",component:pg,name:"TableTicTacToe",props:!0,beforeEnter:(e,t,s)=>{!ze.state.user||!ze.state.theTable?s("/"):s()}},{path:"/portal/connectfour/:watch?",component:Cb,name:"TableConnectFour",props:!0,beforeEnter:(e,t,s)=>{!ze.state.user||!ze.state.theTable?s("/"):s()}},{path:"/portal/pool/:watch?",component:W_,name:"PoolTable",props:!0,beforeEnter:(e,t,s)=>{!ze.state.user||!ze.state.theTable?s("/"):s()}},{path:"/portal/yatzy/:watch?",component:gw,name:"YatzyTable",props:!0},{path:"/portal/user/:selectedName/profile",component:Ug,name:"Profile",props:!0},{path:"/portal/terms",component:ww,name:"Info"},{path:"/portal/feedback",component:zw,name:"Feedback"},{path:"/portal/:pathMatch(.*)*",component:ha,name:"Home"},{path:"/portal/:catchAll(.*)",component:v0,name:"Error",props:!0}],T0=KT({history:uT(),routes:_0}),w0=ef(Gf);w0.use(T0).use(ze).mount("#app");
